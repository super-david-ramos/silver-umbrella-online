var _C=Object.defineProperty;var m_=n=>{throw TypeError(n)};var wC=(n,e,t)=>e in n?_C(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var H=(n,e,t)=>wC(n,typeof e!="symbol"?e+"":e,t),xf=(n,e,t)=>e.has(n)||m_("Cannot "+t);var P=(n,e,t)=>(xf(n,e,"read from private field"),t?t.call(n):e.get(n)),ve=(n,e,t)=>e.has(n)?m_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ne=(n,e,t,r)=>(xf(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),De=(n,e,t)=>(xf(n,e,"access private method"),t);var lc=(n,e,t,r)=>({set _(i){ne(n,e,i,t)},get _(){return P(n,e,r)}});function SC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function cS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kf={exports:{}},el={},Ef={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function bC(){if(y_)return $e;y_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(L,q,ge){this.props=L,this.context=q,this.refs=S,this.updater=ge||_}b.prototype.isReactComponent={},b.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=b.prototype;function C(L,q,ge){this.props=L,this.context=q,this.refs=S,this.updater=ge||_}var E=C.prototype=new k;E.constructor=C,w(E,b.prototype),E.isPureReactComponent=!0;var O=Array.isArray,M=Object.prototype.hasOwnProperty,I={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function D(L,q,ge){var ye,Ne={},Pe=null,Ee=null;if(q!=null)for(ye in q.ref!==void 0&&(Ee=q.ref),q.key!==void 0&&(Pe=""+q.key),q)M.call(q,ye)&&!F.hasOwnProperty(ye)&&(Ne[ye]=q[ye]);var je=arguments.length-2;if(je===1)Ne.children=ge;else if(1<je){for(var ze=Array(je),ut=0;ut<je;ut++)ze[ut]=arguments[ut+2];Ne.children=ze}if(L&&L.defaultProps)for(ye in je=L.defaultProps,je)Ne[ye]===void 0&&(Ne[ye]=je[ye]);return{$$typeof:n,type:L,key:Pe,ref:Ee,props:Ne,_owner:I.current}}function U(L,q){return{$$typeof:n,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function re(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ge){return q[ge]})}var we=/\/+/g;function fe(L,q){return typeof L=="object"&&L!==null&&L.key!=null?re(""+L.key):q.toString(36)}function Te(L,q,ge,ye,Ne){var Pe=typeof L;(Pe==="undefined"||Pe==="boolean")&&(L=null);var Ee=!1;if(L===null)Ee=!0;else switch(Pe){case"string":case"number":Ee=!0;break;case"object":switch(L.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=L,Ne=Ne(Ee),L=ye===""?"."+fe(Ee,0):ye,O(Ne)?(ge="",L!=null&&(ge=L.replace(we,"$&/")+"/"),Te(Ne,q,ge,"",function(ut){return ut})):Ne!=null&&(W(Ne)&&(Ne=U(Ne,ge+(!Ne.key||Ee&&Ee.key===Ne.key?"":(""+Ne.key).replace(we,"$&/")+"/")+L)),q.push(Ne)),1;if(Ee=0,ye=ye===""?".":ye+":",O(L))for(var je=0;je<L.length;je++){Pe=L[je];var ze=ye+fe(Pe,je);Ee+=Te(Pe,q,ge,ze,Ne)}else if(ze=v(L),typeof ze=="function")for(L=ze.call(L),je=0;!(Pe=L.next()).done;)Pe=Pe.value,ze=ye+fe(Pe,je++),Ee+=Te(Pe,q,ge,ze,Ne);else if(Pe==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Ie(L,q,ge){if(L==null)return L;var ye=[],Ne=0;return Te(L,ye,"","",function(Pe){return q.call(ge,Pe,Ne++)}),ye}function Re(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(ge){(L._status===0||L._status===-1)&&(L._status=1,L._result=ge)},function(ge){(L._status===0||L._status===-1)&&(L._status=2,L._result=ge)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var Oe={current:null},B={transition:null},de={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:B,ReactCurrentOwner:I};function te(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Ie,forEach:function(L,q,ge){Ie(L,function(){q.apply(this,arguments)},ge)},count:function(L){var q=0;return Ie(L,function(){q++}),q},toArray:function(L){return Ie(L,function(q){return q})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},$e.Component=b,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=C,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,$e.act=te,$e.cloneElement=function(L,q,ge){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ye=w({},L.props),Ne=L.key,Pe=L.ref,Ee=L._owner;if(q!=null){if(q.ref!==void 0&&(Pe=q.ref,Ee=I.current),q.key!==void 0&&(Ne=""+q.key),L.type&&L.type.defaultProps)var je=L.type.defaultProps;for(ze in q)M.call(q,ze)&&!F.hasOwnProperty(ze)&&(ye[ze]=q[ze]===void 0&&je!==void 0?je[ze]:q[ze])}var ze=arguments.length-2;if(ze===1)ye.children=ge;else if(1<ze){je=Array(ze);for(var ut=0;ut<ze;ut++)je[ut]=arguments[ut+2];ye.children=je}return{$$typeof:n,type:L.type,key:Ne,ref:Pe,props:ye,_owner:Ee}},$e.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},$e.createElement=D,$e.createFactory=function(L){var q=D.bind(null,L);return q.type=L,q},$e.createRef=function(){return{current:null}},$e.forwardRef=function(L){return{$$typeof:c,render:L}},$e.isValidElement=W,$e.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:Re}},$e.memo=function(L,q){return{$$typeof:f,type:L,compare:q===void 0?null:q}},$e.startTransition=function(L){var q=B.transition;B.transition={};try{L()}finally{B.transition=q}},$e.unstable_act=te,$e.useCallback=function(L,q){return Oe.current.useCallback(L,q)},$e.useContext=function(L){return Oe.current.useContext(L)},$e.useDebugValue=function(){},$e.useDeferredValue=function(L){return Oe.current.useDeferredValue(L)},$e.useEffect=function(L,q){return Oe.current.useEffect(L,q)},$e.useId=function(){return Oe.current.useId()},$e.useImperativeHandle=function(L,q,ge){return Oe.current.useImperativeHandle(L,q,ge)},$e.useInsertionEffect=function(L,q){return Oe.current.useInsertionEffect(L,q)},$e.useLayoutEffect=function(L,q){return Oe.current.useLayoutEffect(L,q)},$e.useMemo=function(L,q){return Oe.current.useMemo(L,q)},$e.useReducer=function(L,q,ge){return Oe.current.useReducer(L,q,ge)},$e.useRef=function(L){return Oe.current.useRef(L)},$e.useState=function(L){return Oe.current.useState(L)},$e.useSyncExternalStore=function(L,q,ge){return Oe.current.useSyncExternalStore(L,q,ge)},$e.useTransition=function(){return Oe.current.useTransition()},$e.version="18.3.1",$e}var v_;function mg(){return v_||(v_=1,Ef.exports=bC()),Ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function xC(){if(__)return el;__=1;var n=mg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var g,m={},v=null,_=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(m[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:e,type:c,key:v,ref:_,props:m,_owner:i.current}}return el.Fragment=t,el.jsx=l,el.jsxs=l,el}var w_;function kC(){return w_||(w_=1,kf.exports=xC()),kf.exports}var V=kC(),N=mg();const dS=cS(N),EC=SC({__proto__:null,default:dS},[N]);var uc={},Cf={exports:{}},tn={},Tf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function CC(){return S_||(S_=1,(function(n){function e(B,de){var te=B.length;B.push(de);e:for(;0<te;){var L=te-1>>>1,q=B[L];if(0<i(q,de))B[L]=de,B[te]=q,te=L;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var de=B[0],te=B.pop();if(te!==de){B[0]=te;e:for(var L=0,q=B.length,ge=q>>>1;L<ge;){var ye=2*(L+1)-1,Ne=B[ye],Pe=ye+1,Ee=B[Pe];if(0>i(Ne,te))Pe<q&&0>i(Ee,Ne)?(B[L]=Ee,B[Pe]=te,L=Pe):(B[L]=Ne,B[ye]=te,L=ye);else if(Pe<q&&0>i(Ee,te))B[L]=Ee,B[Pe]=te,L=Pe;else break e}}return de}function i(B,de){var te=B.sortIndex-de.sortIndex;return te!==0?te:B.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],g=1,m=null,v=3,_=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var de=t(f);de!==null;){if(de.callback===null)r(f);else if(de.startTime<=B)r(f),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(f)}}function O(B){if(S=!1,E(B),!w)if(t(d)!==null)w=!0,Re(M);else{var de=t(f);de!==null&&Oe(O,de.startTime-B)}}function M(B,de){w=!1,S&&(S=!1,k(D),D=-1),_=!0;var te=v;try{for(E(de),m=t(d);m!==null&&(!(m.expirationTime>de)||B&&!re());){var L=m.callback;if(typeof L=="function"){m.callback=null,v=m.priorityLevel;var q=L(m.expirationTime<=de);de=n.unstable_now(),typeof q=="function"?m.callback=q:m===t(d)&&r(d),E(de)}else r(d);m=t(d)}if(m!==null)var ge=!0;else{var ye=t(f);ye!==null&&Oe(O,ye.startTime-de),ge=!1}return ge}finally{m=null,v=te,_=!1}}var I=!1,F=null,D=-1,U=5,W=-1;function re(){return!(n.unstable_now()-W<U)}function we(){if(F!==null){var B=n.unstable_now();W=B;var de=!0;try{de=F(!0,B)}finally{de?fe():(I=!1,F=null)}}else I=!1}var fe;if(typeof C=="function")fe=function(){C(we)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ie=Te.port2;Te.port1.onmessage=we,fe=function(){Ie.postMessage(null)}}else fe=function(){b(we,0)};function Re(B){F=B,I||(I=!0,fe())}function Oe(B,de){D=b(function(){B(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){w||_||(w=!0,Re(M))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(B){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var te=v;v=de;try{return B()}finally{v=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,de){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=v;v=B;try{return de()}finally{v=te}},n.unstable_scheduleCallback=function(B,de,te){var L=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?L+te:L):te=L,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=te+q,B={id:g++,callback:de,priorityLevel:B,startTime:te,expirationTime:q,sortIndex:-1},te>L?(B.sortIndex=te,e(f,B),t(d)===null&&B===t(f)&&(S?(k(D),D=-1):S=!0,Oe(O,te-L))):(B.sortIndex=q,e(d,B),w||_||(w=!0,Re(M))),B},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(B){var de=v;return function(){var te=v;v=de;try{return B.apply(this,arguments)}finally{v=te}}}})(Of)),Of}var b_;function TC(){return b_||(b_=1,Tf.exports=CC()),Tf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function OC(){if(x_)return tn;x_=1;var n=mg(),e=TC();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(s){return d.call(m,s)?!0:d.call(g,s)?!1:f.test(s)?m[s]=!0:(g[s]=!0,!1)}function _(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,o,u,h){if(o===null||typeof o>"u"||_(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,u,h,p,y,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(k,C);b[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(k,C);b[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(k,C);b[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,o,u,h){var p=b.hasOwnProperty(o)?b[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,u,p,h)&&(u=null),h||p===null?v(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):p.mustUseProperty?s[p.propertyName]=u===null?p.type===3?!1:"":u:(o=p.attributeName,h=p.attributeNamespace,u===null?s.removeAttribute(o):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),I=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),re=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),B=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,L;function q(s){if(L===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+s}var ge=!1;function ye(s,o){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(z){var h=z}Reflect.construct(s,[],o)}else{try{o.call()}catch(z){h=z}s.call(o.prototype)}else{try{throw Error()}catch(z){h=z}s()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var p=z.stack.split(`
`),y=h.stack.split(`
`),x=p.length-1,T=y.length-1;1<=x&&0<=T&&p[x]!==y[T];)T--;for(;1<=x&&0<=T;x--,T--)if(p[x]!==y[T]){if(x!==1||T!==1)do if(x--,T--,0>T||p[x]!==y[T]){var R=`
`+p[x].replace(" at new "," at ");return s.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",s.displayName)),R}while(1<=x&&0<=T);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?q(s):""}function Ne(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=ye(s.type,!1),s;case 11:return s=ye(s.type.render,!1),s;case 1:return s=ye(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case I:return"Portal";case U:return"Profiler";case D:return"StrictMode";case fe:return"Suspense";case Te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case W:return(s._context.displayName||"Context")+".Provider";case we:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ie:return o=s.displayName||null,o!==null?o:Pe(s.type)||"Memo";case Re:o=s._payload,s=s._init;try{return Pe(s(o))}catch{}}return null}function Ee(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ut(s){var o=ze(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(x){h=""+x,y.call(this,x)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ur(s){s._valueTracker||(s._valueTracker=ut(s))}function Ls(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=ze(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function Zl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Pd(s,o){var u=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function xm(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=je(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function km(s,o){o=o.checked,o!=null&&E(s,"checked",o,!1)}function Nd(s,o){km(s,o);var u=je(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Rd(s,o.type,u):o.hasOwnProperty("defaultValue")&&Rd(s,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Em(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Rd(s,o,u){(o!=="number"||Zl(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ga=Array.isArray;function $i(s,o,u,h){if(s=s.options,o){o={};for(var p=0;p<u.length;p++)o["$"+u[p]]=!0;for(u=0;u<s.length;u++)p=o.hasOwnProperty("$"+s[u].value),s[u].selected!==p&&(s[u].selected=p),p&&h&&(s[u].defaultSelected=!0)}else{for(u=""+je(u),o=null,p=0;p<s.length;p++){if(s[p].value===u){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function Ad(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Cm(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(ga(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:je(u)}}function Tm(s,o){var u=je(o.value),h=je(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function Om(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Pm(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Pm(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var eu,Nm=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,p){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,p)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(eu=eu||document.createElement("div"),eu.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=eu.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ma(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xk=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(s){xk.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ya[o]=ya[s]})});function Rm(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ya.hasOwnProperty(s)&&ya[s]?(""+o).trim():o+"px"}function Am(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,p=Rm(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,p):s[u]=p}}var kk=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dd(s,o){if(o){if(kk[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ld(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function jd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $d=null,Fi=null,Ui=null;function Im(s){if(s=Fa(s)){if(typeof $d!="function")throw Error(t(280));var o=s.stateNode;o&&(o=xu(o),$d(s.stateNode,s.type,o))}}function Dm(s){Fi?Ui?Ui.push(s):Ui=[s]:Fi=s}function Lm(){if(Fi){var s=Fi,o=Ui;if(Ui=Fi=null,Im(s),o)for(s=0;s<o.length;s++)Im(o[s])}}function Mm(s,o){return s(o)}function jm(){}var Fd=!1;function $m(s,o,u){if(Fd)return s(o,u);Fd=!0;try{return Mm(s,o,u)}finally{Fd=!1,(Fi!==null||Ui!==null)&&(jm(),Lm())}}function va(s,o){var u=s.stateNode;if(u===null)return null;var h=xu(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Ud=!1;if(c)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Ud=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Ud=!1}function Ek(s,o,u,h,p,y,x,T,R){var z=Array.prototype.slice.call(arguments,3);try{o.apply(u,z)}catch(G){this.onError(G)}}var wa=!1,tu=null,nu=!1,zd=null,Ck={onError:function(s){wa=!0,tu=s}};function Tk(s,o,u,h,p,y,x,T,R){wa=!1,tu=null,Ek.apply(Ck,arguments)}function Ok(s,o,u,h,p,y,x,T,R){if(Tk.apply(this,arguments),wa){if(wa){var z=tu;wa=!1,tu=null}else throw Error(t(198));nu||(nu=!0,zd=z)}}function Ms(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Fm(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Um(s){if(Ms(s)!==s)throw Error(t(188))}function Pk(s){var o=s.alternate;if(!o){if(o=Ms(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){u=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return Um(p),s;if(y===h)return Um(p),o;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=p,h=y;else{for(var x=!1,T=p.child;T;){if(T===u){x=!0,u=p,h=y;break}if(T===h){x=!0,h=p,u=y;break}T=T.sibling}if(!x){for(T=y.child;T;){if(T===u){x=!0,u=y,h=p;break}if(T===h){x=!0,h=y,u=p;break}T=T.sibling}if(!x)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function zm(s){return s=Pk(s),s!==null?Bm(s):null}function Bm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Bm(s);if(o!==null)return o;s=s.sibling}return null}var Wm=e.unstable_scheduleCallback,Km=e.unstable_cancelCallback,Nk=e.unstable_shouldYield,Rk=e.unstable_requestPaint,ct=e.unstable_now,Ak=e.unstable_getCurrentPriorityLevel,Bd=e.unstable_ImmediatePriority,Vm=e.unstable_UserBlockingPriority,ru=e.unstable_NormalPriority,Ik=e.unstable_LowPriority,Hm=e.unstable_IdlePriority,su=null,Qn=null;function Dk(s){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(su,s,void 0,(s.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:jk,Lk=Math.log,Mk=Math.LN2;function jk(s){return s>>>=0,s===0?32:31-(Lk(s)/Mk|0)|0}var iu=64,ou=4194304;function Sa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function au(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,p=s.suspendedLanes,y=s.pingedLanes,x=u&268435455;if(x!==0){var T=x&~p;T!==0?h=Sa(T):(y&=x,y!==0&&(h=Sa(y)))}else x=u&~p,x!==0?h=Sa(x):y!==0&&(h=Sa(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-Rn(o),p=1<<u,h|=s[u],o&=~p;return h}function $k(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fk(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var x=31-Rn(y),T=1<<x,R=p[x];R===-1?((T&u)===0||(T&h)!==0)&&(p[x]=$k(T,o)):R<=o&&(s.expiredLanes|=T),y&=~T}}function Wd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qm(){var s=iu;return iu<<=1,(iu&4194240)===0&&(iu=64),s}function Kd(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ba(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Rn(o),s[o]=u}function Uk(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var p=31-Rn(u),y=1<<p;o[p]=0,h[p]=-1,s[p]=-1,u&=~y}}function Vd(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-Rn(u),p=1<<h;p&o|s[h]&o&&(s[h]|=o),u&=~p}}var qe=0;function Jm(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Gm,Hd,Qm,Ym,Xm,qd=!1,lu=[],zr=null,Br=null,Wr=null,xa=new Map,ka=new Map,Kr=[],zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zm(s,o){switch(s){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":xa.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(o.pointerId)}}function Ea(s,o,u,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},o!==null&&(o=Fa(o),o!==null&&Hd(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function Bk(s,o,u,h,p){switch(o){case"focusin":return zr=Ea(zr,s,o,u,h,p),!0;case"dragenter":return Br=Ea(Br,s,o,u,h,p),!0;case"mouseover":return Wr=Ea(Wr,s,o,u,h,p),!0;case"pointerover":var y=p.pointerId;return xa.set(y,Ea(xa.get(y)||null,s,o,u,h,p)),!0;case"gotpointercapture":return y=p.pointerId,ka.set(y,Ea(ka.get(y)||null,s,o,u,h,p)),!0}return!1}function ey(s){var o=js(s.target);if(o!==null){var u=Ms(o);if(u!==null){if(o=u.tag,o===13){if(o=Fm(u),o!==null){s.blockedOn=o,Xm(s.priority,function(){Qm(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function uu(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Gd(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Md=h,u.target.dispatchEvent(h),Md=null}else return o=Fa(u),o!==null&&Hd(o),s.blockedOn=u,!1;o.shift()}return!0}function ty(s,o,u){uu(s)&&u.delete(o)}function Wk(){qd=!1,zr!==null&&uu(zr)&&(zr=null),Br!==null&&uu(Br)&&(Br=null),Wr!==null&&uu(Wr)&&(Wr=null),xa.forEach(ty),ka.forEach(ty)}function Ca(s,o){s.blockedOn===o&&(s.blockedOn=null,qd||(qd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wk)))}function Ta(s){function o(p){return Ca(p,s)}if(0<lu.length){Ca(lu[0],s);for(var u=1;u<lu.length;u++){var h=lu[u];h.blockedOn===s&&(h.blockedOn=null)}}for(zr!==null&&Ca(zr,s),Br!==null&&Ca(Br,s),Wr!==null&&Ca(Wr,s),xa.forEach(o),ka.forEach(o),u=0;u<Kr.length;u++)h=Kr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Kr.length&&(u=Kr[0],u.blockedOn===null);)ey(u),u.blockedOn===null&&Kr.shift()}var zi=O.ReactCurrentBatchConfig,cu=!0;function Kk(s,o,u,h){var p=qe,y=zi.transition;zi.transition=null;try{qe=1,Jd(s,o,u,h)}finally{qe=p,zi.transition=y}}function Vk(s,o,u,h){var p=qe,y=zi.transition;zi.transition=null;try{qe=4,Jd(s,o,u,h)}finally{qe=p,zi.transition=y}}function Jd(s,o,u,h){if(cu){var p=Gd(s,o,u,h);if(p===null)hh(s,o,h,du,u),Zm(s,h);else if(Bk(p,s,o,u,h))h.stopPropagation();else if(Zm(s,h),o&4&&-1<zk.indexOf(s)){for(;p!==null;){var y=Fa(p);if(y!==null&&Gm(y),y=Gd(s,o,u,h),y===null&&hh(s,o,h,du,u),y===p)break;p=y}p!==null&&h.stopPropagation()}else hh(s,o,h,null,u)}}var du=null;function Gd(s,o,u,h){if(du=null,s=jd(h),s=js(s),s!==null)if(o=Ms(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Fm(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return du=s,null}function ny(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ak()){case Bd:return 1;case Vm:return 4;case ru:case Ik:return 16;case Hm:return 536870912;default:return 16}default:return 16}}var Vr=null,Qd=null,hu=null;function ry(){if(hu)return hu;var s,o=Qd,u=o.length,h,p="value"in Vr?Vr.value:Vr.textContent,y=p.length;for(s=0;s<u&&o[s]===p[s];s++);var x=u-s;for(h=1;h<=x&&o[u-h]===p[y-h];h++);return hu=p.slice(s,1<h?1-h:void 0)}function fu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pu(){return!0}function sy(){return!1}function ln(s){function o(u,h,p,y,x){this._reactName=u,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(u=s[T],this[T]=u?u(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pu:sy,this.isPropagationStopped=sy,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),o}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=ln(Bi),Oa=te({},Bi,{view:0,detail:0}),Hk=ln(Oa),Xd,Zd,Pa,gu=te({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:th,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pa&&(Pa&&s.type==="mousemove"?(Xd=s.screenX-Pa.screenX,Zd=s.screenY-Pa.screenY):Zd=Xd=0,Pa=s),Xd)},movementY:function(s){return"movementY"in s?s.movementY:Zd}}),iy=ln(gu),qk=te({},gu,{dataTransfer:0}),Jk=ln(qk),Gk=te({},Oa,{relatedTarget:0}),eh=ln(Gk),Qk=te({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yk=ln(Qk),Xk=te({},Bi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Zk=ln(Xk),eE=te({},Bi,{data:0}),oy=ln(eE),tE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sE(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=rE[s])?!!o[s]:!1}function th(){return sE}var iE=te({},Oa,{key:function(s){if(s.key){var o=tE[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=fu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nE[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:th,charCode:function(s){return s.type==="keypress"?fu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),oE=ln(iE),aE=te({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=ln(aE),lE=te({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:th}),uE=ln(lE),cE=te({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dE=ln(cE),hE=te({},gu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fE=ln(hE),pE=[9,13,27,32],nh=c&&"CompositionEvent"in window,Na=null;c&&"documentMode"in document&&(Na=document.documentMode);var gE=c&&"TextEvent"in window&&!Na,ly=c&&(!nh||Na&&8<Na&&11>=Na),uy=" ",cy=!1;function dy(s,o){switch(s){case"keyup":return pE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wi=!1;function mE(s,o){switch(s){case"compositionend":return hy(o);case"keypress":return o.which!==32?null:(cy=!0,uy);case"textInput":return s=o.data,s===uy&&cy?null:s;default:return null}}function yE(s,o){if(Wi)return s==="compositionend"||!nh&&dy(s,o)?(s=ry(),hu=Qd=Vr=null,Wi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ly&&o.locale!=="ko"?null:o.data;default:return null}}var vE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!vE[s.type]:o==="textarea"}function py(s,o,u,h){Dm(h),o=wu(o,"onChange"),0<o.length&&(u=new Yd("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Ra=null,Aa=null;function _E(s){Ay(s,0)}function mu(s){var o=Ji(s);if(Ls(o))return s}function wE(s,o){if(s==="change")return o}var gy=!1;if(c){var rh;if(c){var sh="oninput"in document;if(!sh){var my=document.createElement("div");my.setAttribute("oninput","return;"),sh=typeof my.oninput=="function"}rh=sh}else rh=!1;gy=rh&&(!document.documentMode||9<document.documentMode)}function yy(){Ra&&(Ra.detachEvent("onpropertychange",vy),Aa=Ra=null)}function vy(s){if(s.propertyName==="value"&&mu(Aa)){var o=[];py(o,Aa,s,jd(s)),$m(_E,o)}}function SE(s,o,u){s==="focusin"?(yy(),Ra=o,Aa=u,Ra.attachEvent("onpropertychange",vy)):s==="focusout"&&yy()}function bE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mu(Aa)}function xE(s,o){if(s==="click")return mu(o)}function kE(s,o){if(s==="input"||s==="change")return mu(o)}function EE(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var An=typeof Object.is=="function"?Object.is:EE;function Ia(s,o){if(An(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var p=u[h];if(!d.call(o,p)||!An(s[p],o[p]))return!1}return!0}function _y(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wy(s,o){var u=_y(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_y(u)}}function Sy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Sy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function by(){for(var s=window,o=Zl();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Zl(s.document)}return o}function ih(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function CE(s){var o=by(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Sy(u.ownerDocument.documentElement,u)){if(h!==null&&ih(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var p=u.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!s.extend&&y>h&&(p=h,h=y,y=p),p=wy(u,y);var x=wy(u,h);p&&x&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var TE=c&&"documentMode"in document&&11>=document.documentMode,Ki=null,oh=null,Da=null,ah=!1;function xy(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ah||Ki==null||Ki!==Zl(h)||(h=Ki,"selectionStart"in h&&ih(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Da&&Ia(Da,h)||(Da=h,h=wu(oh,"onSelect"),0<h.length&&(o=new Yd("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Ki)))}function yu(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Vi={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},lh={},ky={};c&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function vu(s){if(lh[s])return lh[s];if(!Vi[s])return s;var o=Vi[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in ky)return lh[s]=o[u];return s}var Ey=vu("animationend"),Cy=vu("animationiteration"),Ty=vu("animationstart"),Oy=vu("transitionend"),Py=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(s,o){Py.set(s,o),a(o,[s])}for(var uh=0;uh<Ny.length;uh++){var ch=Ny[uh],OE=ch.toLowerCase(),PE=ch[0].toUpperCase()+ch.slice(1);Hr(OE,"on"+PE)}Hr(Ey,"onAnimationEnd"),Hr(Cy,"onAnimationIteration"),Hr(Ty,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(Oy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Ry(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Ok(h,o,void 0,s),s.currentTarget=null}function Ay(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],p=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var x=h.length-1;0<=x;x--){var T=h[x],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==y&&p.isPropagationStopped())break e;Ry(p,T,z),y=R}else for(x=0;x<h.length;x++){if(T=h[x],R=T.instance,z=T.currentTarget,T=T.listener,R!==y&&p.isPropagationStopped())break e;Ry(p,T,z),y=R}}}if(nu)throw s=zd,nu=!1,zd=null,s}function Ze(s,o){var u=o[vh];u===void 0&&(u=o[vh]=new Set);var h=s+"__bubble";u.has(h)||(Iy(o,s,2,!1),u.add(h))}function dh(s,o,u){var h=0;o&&(h|=4),Iy(u,s,h,o)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Ma(s){if(!s[_u]){s[_u]=!0,r.forEach(function(u){u!=="selectionchange"&&(NE.has(u)||dh(u,!1,s),dh(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[_u]||(o[_u]=!0,dh("selectionchange",!1,o))}}function Iy(s,o,u,h){switch(ny(o)){case 1:var p=Kk;break;case 4:p=Vk;break;default:p=Jd}u=p.bind(null,o,u,s),p=void 0,!Ud||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(o,u,{capture:!0,passive:p}):s.addEventListener(o,u,!0):p!==void 0?s.addEventListener(o,u,{passive:p}):s.addEventListener(o,u,!1)}function hh(s,o,u,h,p){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var T=h.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(x===4)for(x=h.return;x!==null;){var R=x.tag;if((R===3||R===4)&&(R=x.stateNode.containerInfo,R===p||R.nodeType===8&&R.parentNode===p))return;x=x.return}for(;T!==null;){if(x=js(T),x===null)return;if(R=x.tag,R===5||R===6){h=y=x;continue e}T=T.parentNode}}h=h.return}$m(function(){var z=y,G=jd(u),Y=[];e:{var J=Py.get(s);if(J!==void 0){var ie=Yd,le=s;switch(s){case"keypress":if(fu(u)===0)break e;case"keydown":case"keyup":ie=oE;break;case"focusin":le="focus",ie=eh;break;case"focusout":le="blur",ie=eh;break;case"beforeblur":case"afterblur":ie=eh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=uE;break;case Ey:case Cy:case Ty:ie=Yk;break;case Oy:ie=dE;break;case"scroll":ie=Hk;break;case"wheel":ie=fE;break;case"copy":case"cut":case"paste":ie=Zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ay}var he=(o&4)!==0,dt=!he&&s==="scroll",j=he?J!==null?J+"Capture":null:J;he=[];for(var A=z,$;A!==null;){$=A;var Z=$.stateNode;if($.tag===5&&Z!==null&&($=Z,j!==null&&(Z=va(A,j),Z!=null&&he.push(ja(A,Z,$)))),dt)break;A=A.return}0<he.length&&(J=new ie(J,le,null,u,G),Y.push({event:J,listeners:he}))}}if((o&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",J&&u!==Md&&(le=u.relatedTarget||u.fromElement)&&(js(le)||le[cr]))break e;if((ie||J)&&(J=G.window===G?G:(J=G.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(le=u.relatedTarget||u.toElement,ie=z,le=le?js(le):null,le!==null&&(dt=Ms(le),le!==dt||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=z),ie!==le)){if(he=iy,Z="onMouseLeave",j="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(he=ay,Z="onPointerLeave",j="onPointerEnter",A="pointer"),dt=ie==null?J:Ji(ie),$=le==null?J:Ji(le),J=new he(Z,A+"leave",ie,u,G),J.target=dt,J.relatedTarget=$,Z=null,js(G)===z&&(he=new he(j,A+"enter",le,u,G),he.target=$,he.relatedTarget=dt,Z=he),dt=Z,ie&&le)t:{for(he=ie,j=le,A=0,$=he;$;$=Hi($))A++;for($=0,Z=j;Z;Z=Hi(Z))$++;for(;0<A-$;)he=Hi(he),A--;for(;0<$-A;)j=Hi(j),$--;for(;A--;){if(he===j||j!==null&&he===j.alternate)break t;he=Hi(he),j=Hi(j)}he=null}else he=null;ie!==null&&Dy(Y,J,ie,he,!1),le!==null&&dt!==null&&Dy(Y,dt,le,he,!0)}}e:{if(J=z?Ji(z):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var pe=wE;else if(fy(J))if(gy)pe=kE;else{pe=bE;var Se=SE}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=xE);if(pe&&(pe=pe(s,z))){py(Y,pe,u,G);break e}Se&&Se(s,J,z),s==="focusout"&&(Se=J._wrapperState)&&Se.controlled&&J.type==="number"&&Rd(J,"number",J.value)}switch(Se=z?Ji(z):window,s){case"focusin":(fy(Se)||Se.contentEditable==="true")&&(Ki=Se,oh=z,Da=null);break;case"focusout":Da=oh=Ki=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,xy(Y,u,G);break;case"selectionchange":if(TE)break;case"keydown":case"keyup":xy(Y,u,G)}var be;if(nh)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Wi?dy(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(ly&&u.locale!=="ko"&&(Wi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Wi&&(be=ry()):(Vr=G,Qd="value"in Vr?Vr.value:Vr.textContent,Wi=!0)),Se=wu(z,Ce),0<Se.length&&(Ce=new oy(Ce,s,null,u,G),Y.push({event:Ce,listeners:Se}),be?Ce.data=be:(be=hy(u),be!==null&&(Ce.data=be)))),(be=gE?mE(s,u):yE(s,u))&&(z=wu(z,"onBeforeInput"),0<z.length&&(G=new oy("onBeforeInput","beforeinput",null,u,G),Y.push({event:G,listeners:z}),G.data=be))}Ay(Y,o)})}function ja(s,o,u){return{instance:s,listener:o,currentTarget:u}}function wu(s,o){for(var u=o+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=va(s,u),y!=null&&h.unshift(ja(s,y,p)),y=va(s,o),y!=null&&h.push(ja(s,y,p))),s=s.return}return h}function Hi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Dy(s,o,u,h,p){for(var y=o._reactName,x=[];u!==null&&u!==h;){var T=u,R=T.alternate,z=T.stateNode;if(R!==null&&R===h)break;T.tag===5&&z!==null&&(T=z,p?(R=va(u,y),R!=null&&x.unshift(ja(u,R,T))):p||(R=va(u,y),R!=null&&x.push(ja(u,R,T)))),u=u.return}x.length!==0&&s.push({event:o,listeners:x})}var RE=/\r\n?/g,AE=/\u0000|\uFFFD/g;function Ly(s){return(typeof s=="string"?s:""+s).replace(RE,`
`).replace(AE,"")}function Su(s,o,u){if(o=Ly(o),Ly(s)!==o&&u)throw Error(t(425))}function bu(){}var fh=null,ph=null;function gh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(s){return My.resolve(null).then(s).catch(LE)}:mh;function LE(s){setTimeout(function(){throw s})}function yh(s,o){var u=o,h=0;do{var p=u.nextSibling;if(s.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(h===0){s.removeChild(p),Ta(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=p}while(u);Ta(o)}function qr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function jy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Yn="__reactFiber$"+qi,$a="__reactProps$"+qi,cr="__reactContainer$"+qi,vh="__reactEvents$"+qi,ME="__reactListeners$"+qi,jE="__reactHandles$"+qi;function js(s){var o=s[Yn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[cr]||u[Yn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=jy(s);s!==null;){if(u=s[Yn])return u;s=jy(s)}return o}s=u,u=s.parentNode}return null}function Fa(s){return s=s[Yn]||s[cr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ji(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function xu(s){return s[$a]||null}var _h=[],Gi=-1;function Jr(s){return{current:s}}function et(s){0>Gi||(s.current=_h[Gi],_h[Gi]=null,Gi--)}function Ye(s,o){Gi++,_h[Gi]=s.current,s.current=o}var Gr={},jt=Jr(Gr),Qt=Jr(!1),$s=Gr;function Qi(s,o){var u=s.type.contextTypes;if(!u)return Gr;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in u)p[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=p),p}function Yt(s){return s=s.childContextTypes,s!=null}function ku(){et(Qt),et(jt)}function $y(s,o,u){if(jt.current!==Gr)throw Error(t(168));Ye(jt,o),Ye(Qt,u)}function Fy(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ee(s)||"Unknown",p));return te({},u,h)}function Eu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Gr,$s=jt.current,Ye(jt,s),Ye(Qt,Qt.current),!0}function Uy(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=Fy(s,o,$s),h.__reactInternalMemoizedMergedChildContext=s,et(Qt),et(jt),Ye(jt,s)):et(Qt),Ye(Qt,u)}var dr=null,Cu=!1,wh=!1;function zy(s){dr===null?dr=[s]:dr.push(s)}function $E(s){Cu=!0,zy(s)}function Qr(){if(!wh&&dr!==null){wh=!0;var s=0,o=qe;try{var u=dr;for(qe=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}dr=null,Cu=!1}catch(p){throw dr!==null&&(dr=dr.slice(s+1)),Wm(Bd,Qr),p}finally{qe=o,wh=!1}}return null}var Yi=[],Xi=0,Tu=null,Ou=0,vn=[],_n=0,Fs=null,hr=1,fr="";function Us(s,o){Yi[Xi++]=Ou,Yi[Xi++]=Tu,Tu=s,Ou=o}function By(s,o,u){vn[_n++]=hr,vn[_n++]=fr,vn[_n++]=Fs,Fs=s;var h=hr;s=fr;var p=32-Rn(h)-1;h&=~(1<<p),u+=1;var y=32-Rn(o)+p;if(30<y){var x=p-p%5;y=(h&(1<<x)-1).toString(32),h>>=x,p-=x,hr=1<<32-Rn(o)+p|u<<p|h,fr=y+s}else hr=1<<y|u<<p|h,fr=s}function Sh(s){s.return!==null&&(Us(s,1),By(s,1,0))}function bh(s){for(;s===Tu;)Tu=Yi[--Xi],Yi[Xi]=null,Ou=Yi[--Xi],Yi[Xi]=null;for(;s===Fs;)Fs=vn[--_n],vn[_n]=null,fr=vn[--_n],vn[_n]=null,hr=vn[--_n],vn[_n]=null}var un=null,cn=null,tt=!1,In=null;function Wy(s,o){var u=xn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Ky(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,un=s,cn=qr(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,un=s,cn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Fs!==null?{id:hr,overflow:fr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=xn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,un=s,cn=null,!0):!1;default:return!1}}function xh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function kh(s){if(tt){var o=cn;if(o){var u=o;if(!Ky(s,o)){if(xh(s))throw Error(t(418));o=qr(u.nextSibling);var h=un;o&&Ky(s,o)?Wy(h,u):(s.flags=s.flags&-4097|2,tt=!1,un=s)}}else{if(xh(s))throw Error(t(418));s.flags=s.flags&-4097|2,tt=!1,un=s}}}function Vy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;un=s}function Pu(s){if(s!==un)return!1;if(!tt)return Vy(s),tt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!gh(s.type,s.memoizedProps)),o&&(o=cn)){if(xh(s))throw Hy(),Error(t(418));for(;o;)Wy(s,o),o=qr(o.nextSibling)}if(Vy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){cn=qr(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}cn=null}}else cn=un?qr(s.stateNode.nextSibling):null;return!0}function Hy(){for(var s=cn;s;)s=qr(s.nextSibling)}function Zi(){cn=un=null,tt=!1}function Eh(s){In===null?In=[s]:In.push(s)}var FE=O.ReactCurrentBatchConfig;function Ua(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var p=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(x){var T=p.refs;x===null?delete T[y]:T[y]=x},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Nu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function qy(s){var o=s._init;return o(s._payload)}function Jy(s){function o(j,A){if(s){var $=j.deletions;$===null?(j.deletions=[A],j.flags|=16):$.push(A)}}function u(j,A){if(!s)return null;for(;A!==null;)o(j,A),A=A.sibling;return null}function h(j,A){for(j=new Map;A!==null;)A.key!==null?j.set(A.key,A):j.set(A.index,A),A=A.sibling;return j}function p(j,A){return j=ss(j,A),j.index=0,j.sibling=null,j}function y(j,A,$){return j.index=$,s?($=j.alternate,$!==null?($=$.index,$<A?(j.flags|=2,A):$):(j.flags|=2,A)):(j.flags|=1048576,A)}function x(j){return s&&j.alternate===null&&(j.flags|=2),j}function T(j,A,$,Z){return A===null||A.tag!==6?(A=yf($,j.mode,Z),A.return=j,A):(A=p(A,$),A.return=j,A)}function R(j,A,$,Z){var pe=$.type;return pe===F?G(j,A,$.props.children,Z,$.key):A!==null&&(A.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Re&&qy(pe)===A.type)?(Z=p(A,$.props),Z.ref=Ua(j,A,$),Z.return=j,Z):(Z=ec($.type,$.key,$.props,null,j.mode,Z),Z.ref=Ua(j,A,$),Z.return=j,Z)}function z(j,A,$,Z){return A===null||A.tag!==4||A.stateNode.containerInfo!==$.containerInfo||A.stateNode.implementation!==$.implementation?(A=vf($,j.mode,Z),A.return=j,A):(A=p(A,$.children||[]),A.return=j,A)}function G(j,A,$,Z,pe){return A===null||A.tag!==7?(A=Js($,j.mode,Z,pe),A.return=j,A):(A=p(A,$),A.return=j,A)}function Y(j,A,$){if(typeof A=="string"&&A!==""||typeof A=="number")return A=yf(""+A,j.mode,$),A.return=j,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return $=ec(A.type,A.key,A.props,null,j.mode,$),$.ref=Ua(j,null,A),$.return=j,$;case I:return A=vf(A,j.mode,$),A.return=j,A;case Re:var Z=A._init;return Y(j,Z(A._payload),$)}if(ga(A)||de(A))return A=Js(A,j.mode,$,null),A.return=j,A;Nu(j,A)}return null}function J(j,A,$,Z){var pe=A!==null?A.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return pe!==null?null:T(j,A,""+$,Z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return $.key===pe?R(j,A,$,Z):null;case I:return $.key===pe?z(j,A,$,Z):null;case Re:return pe=$._init,J(j,A,pe($._payload),Z)}if(ga($)||de($))return pe!==null?null:G(j,A,$,Z,null);Nu(j,$)}return null}function ie(j,A,$,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return j=j.get($)||null,T(A,j,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return j=j.get(Z.key===null?$:Z.key)||null,R(A,j,Z,pe);case I:return j=j.get(Z.key===null?$:Z.key)||null,z(A,j,Z,pe);case Re:var Se=Z._init;return ie(j,A,$,Se(Z._payload),pe)}if(ga(Z)||de(Z))return j=j.get($)||null,G(A,j,Z,pe,null);Nu(A,Z)}return null}function le(j,A,$,Z){for(var pe=null,Se=null,be=A,Ce=A=0,Ct=null;be!==null&&Ce<$.length;Ce++){be.index>Ce?(Ct=be,be=null):Ct=be.sibling;var We=J(j,be,$[Ce],Z);if(We===null){be===null&&(be=Ct);break}s&&be&&We.alternate===null&&o(j,be),A=y(We,A,Ce),Se===null?pe=We:Se.sibling=We,Se=We,be=Ct}if(Ce===$.length)return u(j,be),tt&&Us(j,Ce),pe;if(be===null){for(;Ce<$.length;Ce++)be=Y(j,$[Ce],Z),be!==null&&(A=y(be,A,Ce),Se===null?pe=be:Se.sibling=be,Se=be);return tt&&Us(j,Ce),pe}for(be=h(j,be);Ce<$.length;Ce++)Ct=ie(be,j,Ce,$[Ce],Z),Ct!==null&&(s&&Ct.alternate!==null&&be.delete(Ct.key===null?Ce:Ct.key),A=y(Ct,A,Ce),Se===null?pe=Ct:Se.sibling=Ct,Se=Ct);return s&&be.forEach(function(is){return o(j,is)}),tt&&Us(j,Ce),pe}function he(j,A,$,Z){var pe=de($);if(typeof pe!="function")throw Error(t(150));if($=pe.call($),$==null)throw Error(t(151));for(var Se=pe=null,be=A,Ce=A=0,Ct=null,We=$.next();be!==null&&!We.done;Ce++,We=$.next()){be.index>Ce?(Ct=be,be=null):Ct=be.sibling;var is=J(j,be,We.value,Z);if(is===null){be===null&&(be=Ct);break}s&&be&&is.alternate===null&&o(j,be),A=y(is,A,Ce),Se===null?pe=is:Se.sibling=is,Se=is,be=Ct}if(We.done)return u(j,be),tt&&Us(j,Ce),pe;if(be===null){for(;!We.done;Ce++,We=$.next())We=Y(j,We.value,Z),We!==null&&(A=y(We,A,Ce),Se===null?pe=We:Se.sibling=We,Se=We);return tt&&Us(j,Ce),pe}for(be=h(j,be);!We.done;Ce++,We=$.next())We=ie(be,j,Ce,We.value,Z),We!==null&&(s&&We.alternate!==null&&be.delete(We.key===null?Ce:We.key),A=y(We,A,Ce),Se===null?pe=We:Se.sibling=We,Se=We);return s&&be.forEach(function(vC){return o(j,vC)}),tt&&Us(j,Ce),pe}function dt(j,A,$,Z){if(typeof $=="object"&&$!==null&&$.type===F&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case M:e:{for(var pe=$.key,Se=A;Se!==null;){if(Se.key===pe){if(pe=$.type,pe===F){if(Se.tag===7){u(j,Se.sibling),A=p(Se,$.props.children),A.return=j,j=A;break e}}else if(Se.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Re&&qy(pe)===Se.type){u(j,Se.sibling),A=p(Se,$.props),A.ref=Ua(j,Se,$),A.return=j,j=A;break e}u(j,Se);break}else o(j,Se);Se=Se.sibling}$.type===F?(A=Js($.props.children,j.mode,Z,$.key),A.return=j,j=A):(Z=ec($.type,$.key,$.props,null,j.mode,Z),Z.ref=Ua(j,A,$),Z.return=j,j=Z)}return x(j);case I:e:{for(Se=$.key;A!==null;){if(A.key===Se)if(A.tag===4&&A.stateNode.containerInfo===$.containerInfo&&A.stateNode.implementation===$.implementation){u(j,A.sibling),A=p(A,$.children||[]),A.return=j,j=A;break e}else{u(j,A);break}else o(j,A);A=A.sibling}A=vf($,j.mode,Z),A.return=j,j=A}return x(j);case Re:return Se=$._init,dt(j,A,Se($._payload),Z)}if(ga($))return le(j,A,$,Z);if(de($))return he(j,A,$,Z);Nu(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,A!==null&&A.tag===6?(u(j,A.sibling),A=p(A,$),A.return=j,j=A):(u(j,A),A=yf($,j.mode,Z),A.return=j,j=A),x(j)):u(j,A)}return dt}var eo=Jy(!0),Gy=Jy(!1),Ru=Jr(null),Au=null,to=null,Ch=null;function Th(){Ch=to=Au=null}function Oh(s){var o=Ru.current;et(Ru),s._currentValue=o}function Ph(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function no(s,o){Au=s,Ch=to=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Xt=!0),s.firstContext=null)}function wn(s){var o=s._currentValue;if(Ch!==s)if(s={context:s,memoizedValue:o,next:null},to===null){if(Au===null)throw Error(t(308));to=s,Au.dependencies={lanes:0,firstContext:s}}else to=to.next=s;return o}var zs=null;function Nh(s){zs===null?zs=[s]:zs.push(s)}function Qy(s,o,u,h){var p=o.interleaved;return p===null?(u.next=u,Nh(o)):(u.next=p.next,p.next=u),o.interleaved=u,pr(s,h)}function pr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Yr=!1;function Rh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function gr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Xr(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,pr(s,u)}return p=h.interleaved,p===null?(o.next=o,Nh(h)):(o.next=p.next,p.next=o),h.interleaved=o,pr(s,u)}function Iu(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Vd(s,u)}}function Xy(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?p=y=x:y=y.next=x,u=u.next}while(u!==null);y===null?p=y=o:y=y.next=o}else p=y=o;u={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Du(s,o,u,h){var p=s.updateQueue;Yr=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var R=T,z=R.next;R.next=null,x===null?y=z:x.next=z,x=R;var G=s.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==x&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=R))}if(y!==null){var Y=p.baseState;x=0,G=z=R=null,T=y;do{var J=T.lane,ie=T.eventTime;if((h&J)===J){G!==null&&(G=G.next={eventTime:ie,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var le=s,he=T;switch(J=o,ie=u,he.tag){case 1:if(le=he.payload,typeof le=="function"){Y=le.call(ie,Y,J);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=he.payload,J=typeof le=="function"?le.call(ie,Y,J):le,J==null)break e;Y=te({},Y,J);break e;case 2:Yr=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,J=p.effects,J===null?p.effects=[T]:J.push(T))}else ie={eventTime:ie,lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=ie,R=Y):G=G.next=ie,x|=J;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;J=T,T=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(G===null&&(R=Y),p.baseState=R,p.firstBaseUpdate=z,p.lastBaseUpdate=G,o=p.shared.interleaved,o!==null){p=o;do x|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Ks|=x,s.lanes=x,s.memoizedState=Y}}function Zy(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],p=h.callback;if(p!==null){if(h.callback=null,h=u,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var za={},Xn=Jr(za),Ba=Jr(za),Wa=Jr(za);function Bs(s){if(s===za)throw Error(t(174));return s}function Ah(s,o){switch(Ye(Wa,o),Ye(Ba,s),Ye(Xn,za),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Id(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Id(o,s)}et(Xn),Ye(Xn,o)}function ro(){et(Xn),et(Ba),et(Wa)}function ev(s){Bs(Wa.current);var o=Bs(Xn.current),u=Id(o,s.type);o!==u&&(Ye(Ba,s),Ye(Xn,u))}function Ih(s){Ba.current===s&&(et(Xn),et(Ba))}var rt=Jr(0);function Lu(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Lh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Mu=O.ReactCurrentDispatcher,Mh=O.ReactCurrentBatchConfig,Ws=0,st=null,yt=null,kt=null,ju=!1,Ka=!1,Va=0,UE=0;function $t(){throw Error(t(321))}function jh(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!An(s[u],o[u]))return!1;return!0}function $h(s,o,u,h,p,y){if(Ws=y,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Mu.current=s===null||s.memoizedState===null?KE:VE,s=u(h,p),Ka){y=0;do{if(Ka=!1,Va=0,25<=y)throw Error(t(301));y+=1,kt=yt=null,o.updateQueue=null,Mu.current=HE,s=u(h,p)}while(Ka)}if(Mu.current=Uu,o=yt!==null&&yt.next!==null,Ws=0,kt=yt=st=null,ju=!1,o)throw Error(t(300));return s}function Fh(){var s=Va!==0;return Va=0,s}function Zn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?st.memoizedState=kt=s:kt=kt.next=s,kt}function Sn(){if(yt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=yt.next;var o=kt===null?st.memoizedState:kt.next;if(o!==null)kt=o,yt=s;else{if(s===null)throw Error(t(310));yt=s,s={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?st.memoizedState=kt=s:kt=kt.next=s}return kt}function Ha(s,o){return typeof o=="function"?o(s):o}function Uh(s){var o=Sn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=yt,p=h.baseQueue,y=u.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}h.baseQueue=p=y,u.pending=null}if(p!==null){y=p.next,h=h.baseState;var T=x=null,R=null,z=y;do{var G=z.lane;if((Ws&G)===G)R!==null&&(R=R.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:s(h,z.action);else{var Y={lane:G,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};R===null?(T=R=Y,x=h):R=R.next=Y,st.lanes|=G,Ks|=G}z=z.next}while(z!==null&&z!==y);R===null?x=h:R.next=T,An(h,o.memoizedState)||(Xt=!0),o.memoizedState=h,o.baseState=x,o.baseQueue=R,u.lastRenderedState=h}if(s=u.interleaved,s!==null){p=s;do y=p.lane,st.lanes|=y,Ks|=y,p=p.next;while(p!==s)}else p===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function zh(s){var o=Sn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,p=u.pending,y=o.memoizedState;if(p!==null){u.pending=null;var x=p=p.next;do y=s(y,x.action),x=x.next;while(x!==p);An(y,o.memoizedState)||(Xt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,h]}function tv(){}function nv(s,o){var u=st,h=Sn(),p=o(),y=!An(h.memoizedState,p);if(y&&(h.memoizedState=p,Xt=!0),h=h.queue,Bh(iv.bind(null,u,h,s),[s]),h.getSnapshot!==o||y||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,qa(9,sv.bind(null,u,h,p,o),void 0,null),Et===null)throw Error(t(349));(Ws&30)!==0||rv(u,o,p)}return p}function rv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function sv(s,o,u,h){o.value=u,o.getSnapshot=h,ov(o)&&av(s)}function iv(s,o,u){return u(function(){ov(o)&&av(s)})}function ov(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!An(s,u)}catch{return!0}}function av(s){var o=pr(s,1);o!==null&&jn(o,s,1,-1)}function lv(s){var o=Zn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},o.queue=s,s=s.dispatch=WE.bind(null,st,s),[o.memoizedState,s]}function qa(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function uv(){return Sn().memoizedState}function $u(s,o,u,h){var p=Zn();st.flags|=s,p.memoizedState=qa(1|o,u,void 0,h===void 0?null:h)}function Fu(s,o,u,h){var p=Sn();h=h===void 0?null:h;var y=void 0;if(yt!==null){var x=yt.memoizedState;if(y=x.destroy,h!==null&&jh(h,x.deps)){p.memoizedState=qa(o,u,y,h);return}}st.flags|=s,p.memoizedState=qa(1|o,u,y,h)}function cv(s,o){return $u(8390656,8,s,o)}function Bh(s,o){return Fu(2048,8,s,o)}function dv(s,o){return Fu(4,2,s,o)}function hv(s,o){return Fu(4,4,s,o)}function fv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function pv(s,o,u){return u=u!=null?u.concat([s]):null,Fu(4,4,fv.bind(null,o,s),u)}function Wh(){}function gv(s,o){var u=Sn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&jh(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function mv(s,o){var u=Sn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&jh(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function yv(s,o,u){return(Ws&21)===0?(s.baseState&&(s.baseState=!1,Xt=!0),s.memoizedState=u):(An(u,o)||(u=qm(),st.lanes|=u,Ks|=u,s.baseState=!0),o)}function zE(s,o){var u=qe;qe=u!==0&&4>u?u:4,s(!0);var h=Mh.transition;Mh.transition={};try{s(!1),o()}finally{qe=u,Mh.transition=h}}function vv(){return Sn().memoizedState}function BE(s,o,u){var h=ns(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},_v(s))wv(o,u);else if(u=Qy(s,o,u,h),u!==null){var p=Vt();jn(u,s,h,p),Sv(u,o,h)}}function WE(s,o,u){var h=ns(s),p={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(_v(s))wv(o,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var x=o.lastRenderedState,T=y(x,u);if(p.hasEagerState=!0,p.eagerState=T,An(T,x)){var R=o.interleaved;R===null?(p.next=p,Nh(o)):(p.next=R.next,R.next=p),o.interleaved=p;return}}catch{}finally{}u=Qy(s,o,p,h),u!==null&&(p=Vt(),jn(u,s,h,p),Sv(u,o,h))}}function _v(s){var o=s.alternate;return s===st||o!==null&&o===st}function wv(s,o){Ka=ju=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Sv(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Vd(s,u)}}var Uu={readContext:wn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},KE={readContext:wn,useCallback:function(s,o){return Zn().memoizedState=[s,o===void 0?null:o],s},useContext:wn,useEffect:cv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,$u(4194308,4,fv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return $u(4194308,4,s,o)},useInsertionEffect:function(s,o){return $u(4,2,s,o)},useMemo:function(s,o){var u=Zn();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Zn();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=BE.bind(null,st,s),[h.memoizedState,s]},useRef:function(s){var o=Zn();return s={current:s},o.memoizedState=s},useState:lv,useDebugValue:Wh,useDeferredValue:function(s){return Zn().memoizedState=s},useTransition:function(){var s=lv(!1),o=s[0];return s=zE.bind(null,s[1]),Zn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=st,p=Zn();if(tt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Et===null)throw Error(t(349));(Ws&30)!==0||rv(h,o,u)}p.memoizedState=u;var y={value:u,getSnapshot:o};return p.queue=y,cv(iv.bind(null,h,y,s),[s]),h.flags|=2048,qa(9,sv.bind(null,h,y,u,o),void 0,null),u},useId:function(){var s=Zn(),o=Et.identifierPrefix;if(tt){var u=fr,h=hr;u=(h&~(1<<32-Rn(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=Va++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=UE++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},VE={readContext:wn,useCallback:gv,useContext:wn,useEffect:Bh,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:mv,useReducer:Uh,useRef:uv,useState:function(){return Uh(Ha)},useDebugValue:Wh,useDeferredValue:function(s){var o=Sn();return yv(o,yt.memoizedState,s)},useTransition:function(){var s=Uh(Ha)[0],o=Sn().memoizedState;return[s,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:vv,unstable_isNewReconciler:!1},HE={readContext:wn,useCallback:gv,useContext:wn,useEffect:Bh,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:mv,useReducer:zh,useRef:uv,useState:function(){return zh(Ha)},useDebugValue:Wh,useDeferredValue:function(s){var o=Sn();return yt===null?o.memoizedState=s:yv(o,yt.memoizedState,s)},useTransition:function(){var s=zh(Ha)[0],o=Sn().memoizedState;return[s,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:vv,unstable_isNewReconciler:!1};function Dn(s,o){if(s&&s.defaultProps){o=te({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Kh(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:te({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var zu={isMounted:function(s){return(s=s._reactInternals)?Ms(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Vt(),p=ns(s),y=gr(h,p);y.payload=o,u!=null&&(y.callback=u),o=Xr(s,y,p),o!==null&&(jn(o,s,p,h),Iu(o,s,p))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Vt(),p=ns(s),y=gr(h,p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Xr(s,y,p),o!==null&&(jn(o,s,p,h),Iu(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Vt(),h=ns(s),p=gr(u,h);p.tag=2,o!=null&&(p.callback=o),o=Xr(s,p,h),o!==null&&(jn(o,s,h,u),Iu(o,s,h))}};function bv(s,o,u,h,p,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,x):o.prototype&&o.prototype.isPureReactComponent?!Ia(u,h)||!Ia(p,y):!0}function xv(s,o,u){var h=!1,p=Gr,y=o.contextType;return typeof y=="object"&&y!==null?y=wn(y):(p=Yt(o)?$s:jt.current,h=o.contextTypes,y=(h=h!=null)?Qi(s,p):Gr),o=new o(u,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=zu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),o}function kv(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&zu.enqueueReplaceState(o,o.state,null)}function Vh(s,o,u,h){var p=s.stateNode;p.props=u,p.state=s.memoizedState,p.refs={},Rh(s);var y=o.contextType;typeof y=="object"&&y!==null?p.context=wn(y):(y=Yt(o)?$s:jt.current,p.context=Qi(s,y)),p.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Kh(s,o,y,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&zu.enqueueReplaceState(p,p.state,null),Du(s,u,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function so(s,o){try{var u="",h=o;do u+=Ne(h),h=h.return;while(h);var p=u}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:p,digest:null}}function Hh(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function qh(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var qE=typeof WeakMap=="function"?WeakMap:Map;function Ev(s,o,u){u=gr(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Ju||(Ju=!0,uf=h),qh(s,o)},u}function Cv(s,o,u){u=gr(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;u.payload=function(){return h(p)},u.callback=function(){qh(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){qh(s,o),typeof h!="function"&&(es===null?es=new Set([this]):es.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),u}function Tv(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new qE;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(u)||(p.add(u),s=aC.bind(null,s,o,u),o.then(s,s))}function Ov(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Pv(s,o,u,h,p){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=gr(-1,1),o.tag=2,Xr(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var JE=O.ReactCurrentOwner,Xt=!1;function Kt(s,o,u,h){o.child=s===null?Gy(o,null,u,h):eo(o,s.child,u,h)}function Nv(s,o,u,h,p){u=u.render;var y=o.ref;return no(o,p),h=$h(s,o,u,h,y,p),u=Fh(),s!==null&&!Xt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,mr(s,o,p)):(tt&&u&&Sh(o),o.flags|=1,Kt(s,o,h,p),o.child)}function Rv(s,o,u,h,p){if(s===null){var y=u.type;return typeof y=="function"&&!mf(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Av(s,o,y,h,p)):(s=ec(u.type,null,h,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&p)===0){var x=y.memoizedProps;if(u=u.compare,u=u!==null?u:Ia,u(x,h)&&s.ref===o.ref)return mr(s,o,p)}return o.flags|=1,s=ss(y,h),s.ref=o.ref,s.return=o,o.child=s}function Av(s,o,u,h,p){if(s!==null){var y=s.memoizedProps;if(Ia(y,h)&&s.ref===o.ref)if(Xt=!1,o.pendingProps=h=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Xt=!0);else return o.lanes=s.lanes,mr(s,o,p)}return Jh(s,o,u,h,p)}function Iv(s,o,u){var h=o.pendingProps,p=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(oo,dn),dn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ye(oo,dn),dn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,Ye(oo,dn),dn|=h}else y!==null?(h=y.baseLanes|u,o.memoizedState=null):h=u,Ye(oo,dn),dn|=h;return Kt(s,o,p,u),o.child}function Dv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Jh(s,o,u,h,p){var y=Yt(u)?$s:jt.current;return y=Qi(o,y),no(o,p),u=$h(s,o,u,h,y,p),h=Fh(),s!==null&&!Xt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,mr(s,o,p)):(tt&&h&&Sh(o),o.flags|=1,Kt(s,o,u,p),o.child)}function Lv(s,o,u,h,p){if(Yt(u)){var y=!0;Eu(o)}else y=!1;if(no(o,p),o.stateNode===null)Wu(s,o),xv(o,u,h),Vh(o,u,h,p),h=!0;else if(s===null){var x=o.stateNode,T=o.memoizedProps;x.props=T;var R=x.context,z=u.contextType;typeof z=="object"&&z!==null?z=wn(z):(z=Yt(u)?$s:jt.current,z=Qi(o,z));var G=u.getDerivedStateFromProps,Y=typeof G=="function"||typeof x.getSnapshotBeforeUpdate=="function";Y||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==h||R!==z)&&kv(o,x,h,z),Yr=!1;var J=o.memoizedState;x.state=J,Du(o,h,x,p),R=o.memoizedState,T!==h||J!==R||Qt.current||Yr?(typeof G=="function"&&(Kh(o,u,G,h),R=o.memoizedState),(T=Yr||bv(o,u,T,h,J,R,z))?(Y||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=R),x.props=h,x.state=R,x.context=z,h=T):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Yy(s,o),T=o.memoizedProps,z=o.type===o.elementType?T:Dn(o.type,T),x.props=z,Y=o.pendingProps,J=x.context,R=u.contextType,typeof R=="object"&&R!==null?R=wn(R):(R=Yt(u)?$s:jt.current,R=Qi(o,R));var ie=u.getDerivedStateFromProps;(G=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==Y||J!==R)&&kv(o,x,h,R),Yr=!1,J=o.memoizedState,x.state=J,Du(o,h,x,p);var le=o.memoizedState;T!==Y||J!==le||Qt.current||Yr?(typeof ie=="function"&&(Kh(o,u,ie,h),le=o.memoizedState),(z=Yr||bv(o,u,z,h,J,le,R)||!1)?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,le,R),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,le,R)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=le),x.props=h,x.state=le,x.context=R,h=z):(typeof x.componentDidUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),h=!1)}return Gh(s,o,u,h,y,p)}function Gh(s,o,u,h,p,y){Dv(s,o);var x=(o.flags&128)!==0;if(!h&&!x)return p&&Uy(o,u,!1),mr(s,o,y);h=o.stateNode,JE.current=o;var T=x&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&x?(o.child=eo(o,s.child,null,y),o.child=eo(o,null,T,y)):Kt(s,o,T,y),o.memoizedState=h.state,p&&Uy(o,u,!0),o.child}function Mv(s){var o=s.stateNode;o.pendingContext?$y(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$y(s,o.context,!1),Ah(s,o.containerInfo)}function jv(s,o,u,h,p){return Zi(),Eh(p),o.flags|=256,Kt(s,o,u,h),o.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Yh(s){return{baseLanes:s,cachePool:null,transitions:null}}function $v(s,o,u){var h=o.pendingProps,p=rt.current,y=!1,x=(o.flags&128)!==0,T;if((T=x)||(T=s!==null&&s.memoizedState===null?!1:(p&2)!==0),T?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ye(rt,p&1),s===null)return kh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(x=h.children,s=h.fallback,y?(h=o.mode,y=o.child,x={mode:"hidden",children:x},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=tc(x,h,0,null),s=Js(s,h,u,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Yh(u),o.memoizedState=Qh,s):Xh(o,x));if(p=s.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return GE(s,o,x,h,T,p,u);if(y){y=h.fallback,x=o.mode,p=s.child,T=p.sibling;var R={mode:"hidden",children:h.children};return(x&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=R,o.deletions=null):(h=ss(p,R),h.subtreeFlags=p.subtreeFlags&14680064),T!==null?y=ss(T,y):(y=Js(y,x,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,x=s.child.memoizedState,x=x===null?Yh(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=s.childLanes&~u,o.memoizedState=Qh,h}return y=s.child,s=y.sibling,h=ss(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function Xh(s,o){return o=tc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Bu(s,o,u,h){return h!==null&&Eh(h),eo(o,s.child,null,u),s=Xh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function GE(s,o,u,h,p,y,x){if(u)return o.flags&256?(o.flags&=-257,h=Hh(Error(t(422))),Bu(s,o,x,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,p=o.mode,h=tc({mode:"visible",children:h.children},p,0,null),y=Js(y,p,x,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&eo(o,s.child,null,x),o.child.memoizedState=Yh(x),o.memoizedState=Qh,y);if((o.mode&1)===0)return Bu(s,o,x,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var T=h.dgst;return h=T,y=Error(t(419)),h=Hh(y,h,void 0),Bu(s,o,x,h)}if(T=(x&s.childLanes)!==0,Xt||T){if(h=Et,h!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|x))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,pr(s,p),jn(h,s,p,-1))}return gf(),h=Hh(Error(t(421))),Bu(s,o,x,h)}return p.data==="$?"?(o.flags|=128,o.child=s.child,o=lC.bind(null,s),p._reactRetry=o,null):(s=y.treeContext,cn=qr(p.nextSibling),un=o,tt=!0,In=null,s!==null&&(vn[_n++]=hr,vn[_n++]=fr,vn[_n++]=Fs,hr=s.id,fr=s.overflow,Fs=o),o=Xh(o,h.children),o.flags|=4096,o)}function Fv(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Ph(s.return,o,u)}function Zh(s,o,u,h,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=p)}function Uv(s,o,u){var h=o.pendingProps,p=h.revealOrder,y=h.tail;if(Kt(s,o,h.children,u),h=rt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Fv(s,u,o);else if(s.tag===19)Fv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ye(rt,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(u=o.child,p=null;u!==null;)s=u.alternate,s!==null&&Lu(s)===null&&(p=u),u=u.sibling;u=p,u===null?(p=o.child,o.child=null):(p=u.sibling,u.sibling=null),Zh(o,!1,p,u,y);break;case"backwards":for(u=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&Lu(s)===null){o.child=p;break}s=p.sibling,p.sibling=u,u=p,p=s}Zh(o,!0,u,null,y);break;case"together":Zh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Wu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function mr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ks|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=ss(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ss(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function QE(s,o,u){switch(o.tag){case 3:Mv(o),Zi();break;case 5:ev(o);break;case 1:Yt(o.type)&&Eu(o);break;case 4:Ah(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;Ye(Ru,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ye(rt,rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?$v(s,o,u):(Ye(rt,rt.current&1),s=mr(s,o,u),s!==null?s.sibling:null);Ye(rt,rt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Uv(s,o,u);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(rt,rt.current),h)break;return null;case 22:case 23:return o.lanes=0,Iv(s,o,u)}return mr(s,o,u)}var zv,ef,Bv,Wv;zv=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ef=function(){},Bv=function(s,o,u,h){var p=s.memoizedProps;if(p!==h){s=o.stateNode,Bs(Xn.current);var y=null;switch(u){case"input":p=Pd(s,p),h=Pd(s,h),y=[];break;case"select":p=te({},p,{value:void 0}),h=te({},h,{value:void 0}),y=[];break;case"textarea":p=Ad(s,p),h=Ad(s,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=bu)}Dd(u,h);var x;u=null;for(z in p)if(!h.hasOwnProperty(z)&&p.hasOwnProperty(z)&&p[z]!=null)if(z==="style"){var T=p[z];for(x in T)T.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var R=h[z];if(T=p!=null?p[z]:void 0,h.hasOwnProperty(z)&&R!==T&&(R!=null||T!=null))if(z==="style")if(T){for(x in T)!T.hasOwnProperty(x)||R&&R.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in R)R.hasOwnProperty(x)&&T[x]!==R[x]&&(u||(u={}),u[x]=R[x])}else u||(y||(y=[]),y.push(z,u)),u=R;else z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(y=y||[]).push(z,R)):z==="children"?typeof R!="string"&&typeof R!="number"||(y=y||[]).push(z,""+R):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(i.hasOwnProperty(z)?(R!=null&&z==="onScroll"&&Ze("scroll",s),y||T===R||(y=[])):(y=y||[]).push(z,R))}u&&(y=y||[]).push("style",u);var z=y;(o.updateQueue=z)&&(o.flags|=4)}},Wv=function(s,o,u,h){u!==h&&(o.flags|=4)};function Ja(s,o){if(!tt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ft(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var p=s.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function YE(s,o,u){var h=o.pendingProps;switch(bh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Yt(o.type)&&ku(),Ft(o),null;case 3:return h=o.stateNode,ro(),et(Qt),et(jt),Lh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Pu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,In!==null&&(hf(In),In=null))),ef(s,o),Ft(o),null;case 5:Ih(o);var p=Bs(Wa.current);if(u=o.type,s!==null&&o.stateNode!=null)Bv(s,o,u,h,p),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Ft(o),null}if(s=Bs(Xn.current),Pu(o)){h=o.stateNode,u=o.type;var y=o.memoizedProps;switch(h[Yn]=o,h[$a]=y,s=(o.mode&1)!==0,u){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(p=0;p<La.length;p++)Ze(La[p],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":xm(h,y),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",h);break;case"textarea":Cm(h,y),Ze("invalid",h)}Dd(u,y),p=null;for(var x in y)if(y.hasOwnProperty(x)){var T=y[x];x==="children"?typeof T=="string"?h.textContent!==T&&(y.suppressHydrationWarning!==!0&&Su(h.textContent,T,s),p=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&Su(h.textContent,T,s),p=["children",""+T]):i.hasOwnProperty(x)&&T!=null&&x==="onScroll"&&Ze("scroll",h)}switch(u){case"input":Ur(h),Em(h,y,!0);break;case"textarea":Ur(h),Om(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=bu)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pm(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(u,{is:h.is}):(s=x.createElement(u),u==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,u),s[Yn]=o,s[$a]=h,zv(s,o,!1,!1),o.stateNode=s;e:{switch(x=Ld(u,h),u){case"dialog":Ze("cancel",s),Ze("close",s),p=h;break;case"iframe":case"object":case"embed":Ze("load",s),p=h;break;case"video":case"audio":for(p=0;p<La.length;p++)Ze(La[p],s);p=h;break;case"source":Ze("error",s),p=h;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),p=h;break;case"details":Ze("toggle",s),p=h;break;case"input":xm(s,h),p=Pd(s,h),Ze("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=te({},h,{value:void 0}),Ze("invalid",s);break;case"textarea":Cm(s,h),p=Ad(s,h),Ze("invalid",s);break;default:p=h}Dd(u,p),T=p;for(y in T)if(T.hasOwnProperty(y)){var R=T[y];y==="style"?Am(s,R):y==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Nm(s,R)):y==="children"?typeof R=="string"?(u!=="textarea"||R!=="")&&ma(s,R):typeof R=="number"&&ma(s,""+R):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?R!=null&&y==="onScroll"&&Ze("scroll",s):R!=null&&E(s,y,R,x))}switch(u){case"input":Ur(s),Em(s,h,!1);break;case"textarea":Ur(s),Om(s);break;case"option":h.value!=null&&s.setAttribute("value",""+je(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?$i(s,!!h.multiple,y,!1):h.defaultValue!=null&&$i(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=bu)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ft(o),null;case 6:if(s&&o.stateNode!=null)Wv(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Bs(Wa.current),Bs(Xn.current),Pu(o)){if(h=o.stateNode,u=o.memoizedProps,h[Yn]=o,(y=h.nodeValue!==u)&&(s=un,s!==null))switch(s.tag){case 3:Su(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Su(h.nodeValue,u,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Yn]=o,o.stateNode=h}return Ft(o),null;case 13:if(et(rt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(tt&&cn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Hy(),Zi(),o.flags|=98560,y=!1;else if(y=Pu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Yn]=o}else Zi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),y=!1}else In!==null&&(hf(In),In=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?vt===0&&(vt=3):gf())),o.updateQueue!==null&&(o.flags|=4),Ft(o),null);case 4:return ro(),ef(s,o),s===null&&Ma(o.stateNode.containerInfo),Ft(o),null;case 10:return Oh(o.type._context),Ft(o),null;case 17:return Yt(o.type)&&ku(),Ft(o),null;case 19:if(et(rt),y=o.memoizedState,y===null)return Ft(o),null;if(h=(o.flags&128)!==0,x=y.rendering,x===null)if(h)Ja(y,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=Lu(s),x!==null){for(o.flags|=128,Ja(y,!1),h=x.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)y=u,s=h,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,s=x.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Ye(rt,rt.current&1|2),o.child}s=s.sibling}y.tail!==null&&ct()>ao&&(o.flags|=128,h=!0,Ja(y,!1),o.lanes=4194304)}else{if(!h)if(s=Lu(x),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ja(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!tt)return Ft(o),null}else 2*ct()-y.renderingStartTime>ao&&u!==1073741824&&(o.flags|=128,h=!0,Ja(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(u=y.last,u!==null?u.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ct(),o.sibling=null,u=rt.current,Ye(rt,h?u&1|2:u&1),o):(Ft(o),null);case 22:case 23:return pf(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(dn&1073741824)!==0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function XE(s,o){switch(bh(o),o.tag){case 1:return Yt(o.type)&&ku(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ro(),et(Qt),et(jt),Lh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Ih(o),null;case 13:if(et(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Zi()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(rt),null;case 4:return ro(),null;case 10:return Oh(o.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var Ku=!1,Ut=!1,ZE=typeof WeakSet=="function"?WeakSet:Set,ae=null;function io(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){ot(s,o,h)}else u.current=null}function tf(s,o,u){try{u()}catch(h){ot(s,o,h)}}var Kv=!1;function eC(s,o){if(fh=cu,s=by(),ih(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var x=0,T=-1,R=-1,z=0,G=0,Y=s,J=null;t:for(;;){for(var ie;Y!==u||p!==0&&Y.nodeType!==3||(T=x+p),Y!==y||h!==0&&Y.nodeType!==3||(R=x+h),Y.nodeType===3&&(x+=Y.nodeValue.length),(ie=Y.firstChild)!==null;)J=Y,Y=ie;for(;;){if(Y===s)break t;if(J===u&&++z===p&&(T=x),J===y&&++G===h&&(R=x),(ie=Y.nextSibling)!==null)break;Y=J,J=Y.parentNode}Y=ie}u=T===-1||R===-1?null:{start:T,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(ph={focusedElem:s,selectionRange:u},cu=!1,ae=o;ae!==null;)if(o=ae,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ae=s;else for(;ae!==null;){o=ae;try{var le=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var he=le.memoizedProps,dt=le.memoizedState,j=o.stateNode,A=j.getSnapshotBeforeUpdate(o.elementType===o.type?he:Dn(o.type,he),dt);j.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ot(o,o.return,Z)}if(s=o.sibling,s!==null){s.return=o.return,ae=s;break}ae=o.return}return le=Kv,Kv=!1,le}function Ga(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&tf(o,u,y)}p=p.next}while(p!==h)}}function Vu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function nf(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Vv(s){var o=s.alternate;o!==null&&(s.alternate=null,Vv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Yn],delete o[$a],delete o[vh],delete o[ME],delete o[jE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Hv(s){return s.tag===5||s.tag===3||s.tag===4}function qv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Hv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rf(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bu));else if(h!==4&&(s=s.child,s!==null))for(rf(s,o,u),s=s.sibling;s!==null;)rf(s,o,u),s=s.sibling}function sf(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(sf(s,o,u),s=s.sibling;s!==null;)sf(s,o,u),s=s.sibling}var At=null,Ln=!1;function Zr(s,o,u){for(u=u.child;u!==null;)Jv(s,o,u),u=u.sibling}function Jv(s,o,u){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(su,u)}catch{}switch(u.tag){case 5:Ut||io(u,o);case 6:var h=At,p=Ln;At=null,Zr(s,o,u),At=h,Ln=p,At!==null&&(Ln?(s=At,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):At.removeChild(u.stateNode));break;case 18:At!==null&&(Ln?(s=At,u=u.stateNode,s.nodeType===8?yh(s.parentNode,u):s.nodeType===1&&yh(s,u),Ta(s)):yh(At,u.stateNode));break;case 4:h=At,p=Ln,At=u.stateNode.containerInfo,Ln=!0,Zr(s,o,u),At=h,Ln=p;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&tf(u,o,x),p=p.next}while(p!==h)}Zr(s,o,u);break;case 1:if(!Ut&&(io(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(T){ot(u,o,T)}Zr(s,o,u);break;case 21:Zr(s,o,u);break;case 22:u.mode&1?(Ut=(h=Ut)||u.memoizedState!==null,Zr(s,o,u),Ut=h):Zr(s,o,u);break;default:Zr(s,o,u)}}function Gv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new ZE),o.forEach(function(h){var p=uC.bind(null,s,h);u.has(h)||(u.add(h),h.then(p,p))})}}function Mn(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];try{var y=s,x=o,T=x;e:for(;T!==null;){switch(T.tag){case 5:At=T.stateNode,Ln=!1;break e;case 3:At=T.stateNode.containerInfo,Ln=!0;break e;case 4:At=T.stateNode.containerInfo,Ln=!0;break e}T=T.return}if(At===null)throw Error(t(160));Jv(y,x,p),At=null,Ln=!1;var R=p.alternate;R!==null&&(R.return=null),p.return=null}catch(z){ot(p,o,z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qv(o,s),o=o.sibling}function Qv(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mn(o,s),er(s),h&4){try{Ga(3,s,s.return),Vu(3,s)}catch(he){ot(s,s.return,he)}try{Ga(5,s,s.return)}catch(he){ot(s,s.return,he)}}break;case 1:Mn(o,s),er(s),h&512&&u!==null&&io(u,u.return);break;case 5:if(Mn(o,s),er(s),h&512&&u!==null&&io(u,u.return),s.flags&32){var p=s.stateNode;try{ma(p,"")}catch(he){ot(s,s.return,he)}}if(h&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,x=u!==null?u.memoizedProps:y,T=s.type,R=s.updateQueue;if(s.updateQueue=null,R!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&km(p,y),Ld(T,x);var z=Ld(T,y);for(x=0;x<R.length;x+=2){var G=R[x],Y=R[x+1];G==="style"?Am(p,Y):G==="dangerouslySetInnerHTML"?Nm(p,Y):G==="children"?ma(p,Y):E(p,G,Y,z)}switch(T){case"input":Nd(p,y);break;case"textarea":Tm(p,y);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ie=y.value;ie!=null?$i(p,!!y.multiple,ie,!1):J!==!!y.multiple&&(y.defaultValue!=null?$i(p,!!y.multiple,y.defaultValue,!0):$i(p,!!y.multiple,y.multiple?[]:"",!1))}p[$a]=y}catch(he){ot(s,s.return,he)}}break;case 6:if(Mn(o,s),er(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(he){ot(s,s.return,he)}}break;case 3:if(Mn(o,s),er(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ta(o.containerInfo)}catch(he){ot(s,s.return,he)}break;case 4:Mn(o,s),er(s);break;case 13:Mn(o,s),er(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(lf=ct())),h&4&&Gv(s);break;case 22:if(G=u!==null&&u.memoizedState!==null,s.mode&1?(Ut=(z=Ut)||G,Mn(o,s),Ut=z):Mn(o,s),er(s),h&8192){if(z=s.memoizedState!==null,(s.stateNode.isHidden=z)&&!G&&(s.mode&1)!==0)for(ae=s,G=s.child;G!==null;){for(Y=ae=G;ae!==null;){switch(J=ae,ie=J.child,J.tag){case 0:case 11:case 14:case 15:Ga(4,J,J.return);break;case 1:io(J,J.return);var le=J.stateNode;if(typeof le.componentWillUnmount=="function"){h=J,u=J.return;try{o=h,le.props=o.memoizedProps,le.state=o.memoizedState,le.componentWillUnmount()}catch(he){ot(h,u,he)}}break;case 5:io(J,J.return);break;case 22:if(J.memoizedState!==null){Zv(Y);continue}}ie!==null?(ie.return=J,ae=ie):Zv(Y)}G=G.sibling}e:for(G=null,Y=s;;){if(Y.tag===5){if(G===null){G=Y;try{p=Y.stateNode,z?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=Y.stateNode,R=Y.memoizedProps.style,x=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Rm("display",x))}catch(he){ot(s,s.return,he)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(he){ot(s,s.return,he)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===s)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===s)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===s)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Mn(o,s),er(s),h&4&&Gv(s);break;case 21:break;default:Mn(o,s),er(s)}}function er(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Hv(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ma(p,""),h.flags&=-33);var y=qv(s);sf(s,y,p);break;case 3:case 4:var x=h.stateNode.containerInfo,T=qv(s);rf(s,T,x);break;default:throw Error(t(161))}}catch(R){ot(s,s.return,R)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function tC(s,o,u){ae=s,Yv(s)}function Yv(s,o,u){for(var h=(s.mode&1)!==0;ae!==null;){var p=ae,y=p.child;if(p.tag===22&&h){var x=p.memoizedState!==null||Ku;if(!x){var T=p.alternate,R=T!==null&&T.memoizedState!==null||Ut;T=Ku;var z=Ut;if(Ku=x,(Ut=R)&&!z)for(ae=p;ae!==null;)x=ae,R=x.child,x.tag===22&&x.memoizedState!==null?e_(p):R!==null?(R.return=x,ae=R):e_(p);for(;y!==null;)ae=y,Yv(y),y=y.sibling;ae=p,Ku=T,Ut=z}Xv(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ae=y):Xv(s)}}function Xv(s){for(;ae!==null;){var o=ae;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ut||Vu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ut)if(u===null)h.componentDidMount();else{var p=o.elementType===o.type?u.memoizedProps:Dn(o.type,u.memoizedProps);h.componentDidUpdate(p,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Zy(o,y,h);break;case 3:var x=o.updateQueue;if(x!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Zy(o,x,u)}break;case 5:var T=o.stateNode;if(u===null&&o.flags&4){u=T;var R=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&u.focus();break;case"img":R.src&&(u.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var z=o.alternate;if(z!==null){var G=z.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&Ta(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||o.flags&512&&nf(o)}catch(J){ot(o,o.return,J)}}if(o===s){ae=null;break}if(u=o.sibling,u!==null){u.return=o.return,ae=u;break}ae=o.return}}function Zv(s){for(;ae!==null;){var o=ae;if(o===s){ae=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ae=u;break}ae=o.return}}function e_(s){for(;ae!==null;){var o=ae;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Vu(4,o)}catch(R){ot(o,u,R)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(R){ot(o,p,R)}}var y=o.return;try{nf(o)}catch(R){ot(o,y,R)}break;case 5:var x=o.return;try{nf(o)}catch(R){ot(o,x,R)}}}catch(R){ot(o,o.return,R)}if(o===s){ae=null;break}var T=o.sibling;if(T!==null){T.return=o.return,ae=T;break}ae=o.return}}var nC=Math.ceil,Hu=O.ReactCurrentDispatcher,of=O.ReactCurrentOwner,bn=O.ReactCurrentBatchConfig,Be=0,Et=null,pt=null,It=0,dn=0,oo=Jr(0),vt=0,Qa=null,Ks=0,qu=0,af=0,Ya=null,Zt=null,lf=0,ao=1/0,yr=null,Ju=!1,uf=null,es=null,Gu=!1,ts=null,Qu=0,Xa=0,cf=null,Yu=-1,Xu=0;function Vt(){return(Be&6)!==0?ct():Yu!==-1?Yu:Yu=ct()}function ns(s){return(s.mode&1)===0?1:(Be&2)!==0&&It!==0?It&-It:FE.transition!==null?(Xu===0&&(Xu=qm()),Xu):(s=qe,s!==0||(s=window.event,s=s===void 0?16:ny(s.type)),s)}function jn(s,o,u,h){if(50<Xa)throw Xa=0,cf=null,Error(t(185));ba(s,u,h),((Be&2)===0||s!==Et)&&(s===Et&&((Be&2)===0&&(qu|=u),vt===4&&rs(s,It)),en(s,h),u===1&&Be===0&&(o.mode&1)===0&&(ao=ct()+500,Cu&&Qr()))}function en(s,o){var u=s.callbackNode;Fk(s,o);var h=au(s,s===Et?It:0);if(h===0)u!==null&&Km(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Km(u),o===1)s.tag===0?$E(n_.bind(null,s)):zy(n_.bind(null,s)),DE(function(){(Be&6)===0&&Qr()}),u=null;else{switch(Jm(h)){case 1:u=Bd;break;case 4:u=Vm;break;case 16:u=ru;break;case 536870912:u=Hm;break;default:u=ru}u=c_(u,t_.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function t_(s,o){if(Yu=-1,Xu=0,(Be&6)!==0)throw Error(t(327));var u=s.callbackNode;if(lo()&&s.callbackNode!==u)return null;var h=au(s,s===Et?It:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Zu(s,h);else{o=h;var p=Be;Be|=2;var y=s_();(Et!==s||It!==o)&&(yr=null,ao=ct()+500,Hs(s,o));do try{iC();break}catch(T){r_(s,T)}while(!0);Th(),Hu.current=y,Be=p,pt!==null?o=0:(Et=null,It=0,o=vt)}if(o!==0){if(o===2&&(p=Wd(s),p!==0&&(h=p,o=df(s,p))),o===1)throw u=Qa,Hs(s,0),rs(s,h),en(s,ct()),u;if(o===6)rs(s,h);else{if(p=s.current.alternate,(h&30)===0&&!rC(p)&&(o=Zu(s,h),o===2&&(y=Wd(s),y!==0&&(h=y,o=df(s,y))),o===1))throw u=Qa,Hs(s,0),rs(s,h),en(s,ct()),u;switch(s.finishedWork=p,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:qs(s,Zt,yr);break;case 3:if(rs(s,h),(h&130023424)===h&&(o=lf+500-ct(),10<o)){if(au(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){Vt(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=mh(qs.bind(null,s,Zt,yr),o);break}qs(s,Zt,yr);break;case 4:if(rs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,p=-1;0<h;){var x=31-Rn(h);y=1<<x,x=o[x],x>p&&(p=x),h&=~y}if(h=p,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*nC(h/1960))-h,10<h){s.timeoutHandle=mh(qs.bind(null,s,Zt,yr),h);break}qs(s,Zt,yr);break;case 5:qs(s,Zt,yr);break;default:throw Error(t(329))}}}return en(s,ct()),s.callbackNode===u?t_.bind(null,s):null}function df(s,o){var u=Ya;return s.current.memoizedState.isDehydrated&&(Hs(s,o).flags|=256),s=Zu(s,o),s!==2&&(o=Zt,Zt=u,o!==null&&hf(o)),s}function hf(s){Zt===null?Zt=s:Zt.push.apply(Zt,s)}function rC(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var p=u[h],y=p.getSnapshot;p=p.value;try{if(!An(y(),p))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function rs(s,o){for(o&=~af,o&=~qu,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Rn(o),h=1<<u;s[u]=-1,o&=~h}}function n_(s){if((Be&6)!==0)throw Error(t(327));lo();var o=au(s,0);if((o&1)===0)return en(s,ct()),null;var u=Zu(s,o);if(s.tag!==0&&u===2){var h=Wd(s);h!==0&&(o=h,u=df(s,h))}if(u===1)throw u=Qa,Hs(s,0),rs(s,o),en(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,qs(s,Zt,yr),en(s,ct()),null}function ff(s,o){var u=Be;Be|=1;try{return s(o)}finally{Be=u,Be===0&&(ao=ct()+500,Cu&&Qr())}}function Vs(s){ts!==null&&ts.tag===0&&(Be&6)===0&&lo();var o=Be;Be|=1;var u=bn.transition,h=qe;try{if(bn.transition=null,qe=1,s)return s()}finally{qe=h,bn.transition=u,Be=o,(Be&6)===0&&Qr()}}function pf(){dn=oo.current,et(oo)}function Hs(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,IE(u)),pt!==null)for(u=pt.return;u!==null;){var h=u;switch(bh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ku();break;case 3:ro(),et(Qt),et(jt),Lh();break;case 5:Ih(h);break;case 4:ro();break;case 13:et(rt);break;case 19:et(rt);break;case 10:Oh(h.type._context);break;case 22:case 23:pf()}u=u.return}if(Et=s,pt=s=ss(s.current,null),It=dn=o,vt=0,Qa=null,af=qu=Ks=0,Zt=Ya=null,zs!==null){for(o=0;o<zs.length;o++)if(u=zs[o],h=u.interleaved,h!==null){u.interleaved=null;var p=h.next,y=u.pending;if(y!==null){var x=y.next;y.next=p,h.next=x}u.pending=h}zs=null}return s}function r_(s,o){do{var u=pt;try{if(Th(),Mu.current=Uu,ju){for(var h=st.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}ju=!1}if(Ws=0,kt=yt=st=null,Ka=!1,Va=0,of.current=null,u===null||u.return===null){vt=1,Qa=o,pt=null;break}e:{var y=s,x=u.return,T=u,R=o;if(o=It,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var z=R,G=T,Y=G.tag;if((G.mode&1)===0&&(Y===0||Y===11||Y===15)){var J=G.alternate;J?(G.updateQueue=J.updateQueue,G.memoizedState=J.memoizedState,G.lanes=J.lanes):(G.updateQueue=null,G.memoizedState=null)}var ie=Ov(x);if(ie!==null){ie.flags&=-257,Pv(ie,x,T,y,o),ie.mode&1&&Tv(y,z,o),o=ie,R=z;var le=o.updateQueue;if(le===null){var he=new Set;he.add(R),o.updateQueue=he}else le.add(R);break e}else{if((o&1)===0){Tv(y,z,o),gf();break e}R=Error(t(426))}}else if(tt&&T.mode&1){var dt=Ov(x);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Pv(dt,x,T,y,o),Eh(so(R,T));break e}}y=R=so(R,T),vt!==4&&(vt=2),Ya===null?Ya=[y]:Ya.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var j=Ev(y,R,o);Xy(y,j);break e;case 1:T=R;var A=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(es===null||!es.has($)))){y.flags|=65536,o&=-o,y.lanes|=o;var Z=Cv(y,T,o);Xy(y,Z);break e}}y=y.return}while(y!==null)}o_(u)}catch(pe){o=pe,pt===u&&u!==null&&(pt=u=u.return);continue}break}while(!0)}function s_(){var s=Hu.current;return Hu.current=Uu,s===null?Uu:s}function gf(){(vt===0||vt===3||vt===2)&&(vt=4),Et===null||(Ks&268435455)===0&&(qu&268435455)===0||rs(Et,It)}function Zu(s,o){var u=Be;Be|=2;var h=s_();(Et!==s||It!==o)&&(yr=null,Hs(s,o));do try{sC();break}catch(p){r_(s,p)}while(!0);if(Th(),Be=u,Hu.current=h,pt!==null)throw Error(t(261));return Et=null,It=0,vt}function sC(){for(;pt!==null;)i_(pt)}function iC(){for(;pt!==null&&!Nk();)i_(pt)}function i_(s){var o=u_(s.alternate,s,dn);s.memoizedProps=s.pendingProps,o===null?o_(s):pt=o,of.current=null}function o_(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=YE(u,o,dn),u!==null){pt=u;return}}else{if(u=XE(u,o),u!==null){u.flags&=32767,pt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{vt=6,pt=null;return}}if(o=o.sibling,o!==null){pt=o;return}pt=o=s}while(o!==null);vt===0&&(vt=5)}function qs(s,o,u){var h=qe,p=bn.transition;try{bn.transition=null,qe=1,oC(s,o,u,h)}finally{bn.transition=p,qe=h}return null}function oC(s,o,u,h){do lo();while(ts!==null);if((Be&6)!==0)throw Error(t(327));u=s.finishedWork;var p=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(Uk(s,y),s===Et&&(pt=Et=null,It=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Gu||(Gu=!0,c_(ru,function(){return lo(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=bn.transition,bn.transition=null;var x=qe;qe=1;var T=Be;Be|=4,of.current=null,eC(s,u),Qv(u,s),CE(ph),cu=!!fh,ph=fh=null,s.current=u,tC(u),Rk(),Be=T,qe=x,bn.transition=y}else s.current=u;if(Gu&&(Gu=!1,ts=s,Qu=p),y=s.pendingLanes,y===0&&(es=null),Dk(u.stateNode),en(s,ct()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)p=o[u],h(p.value,{componentStack:p.stack,digest:p.digest});if(Ju)throw Ju=!1,s=uf,uf=null,s;return(Qu&1)!==0&&s.tag!==0&&lo(),y=s.pendingLanes,(y&1)!==0?s===cf?Xa++:(Xa=0,cf=s):Xa=0,Qr(),null}function lo(){if(ts!==null){var s=Jm(Qu),o=bn.transition,u=qe;try{if(bn.transition=null,qe=16>s?16:s,ts===null)var h=!1;else{if(s=ts,ts=null,Qu=0,(Be&6)!==0)throw Error(t(331));var p=Be;for(Be|=4,ae=s.current;ae!==null;){var y=ae,x=y.child;if((ae.flags&16)!==0){var T=y.deletions;if(T!==null){for(var R=0;R<T.length;R++){var z=T[R];for(ae=z;ae!==null;){var G=ae;switch(G.tag){case 0:case 11:case 15:Ga(8,G,y)}var Y=G.child;if(Y!==null)Y.return=G,ae=Y;else for(;ae!==null;){G=ae;var J=G.sibling,ie=G.return;if(Vv(G),G===z){ae=null;break}if(J!==null){J.return=ie,ae=J;break}ae=ie}}}var le=y.alternate;if(le!==null){var he=le.child;if(he!==null){le.child=null;do{var dt=he.sibling;he.sibling=null,he=dt}while(he!==null)}}ae=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,ae=x;else e:for(;ae!==null;){if(y=ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ga(9,y,y.return)}var j=y.sibling;if(j!==null){j.return=y.return,ae=j;break e}ae=y.return}}var A=s.current;for(ae=A;ae!==null;){x=ae;var $=x.child;if((x.subtreeFlags&2064)!==0&&$!==null)$.return=x,ae=$;else e:for(x=A;ae!==null;){if(T=ae,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Vu(9,T)}}catch(pe){ot(T,T.return,pe)}if(T===x){ae=null;break e}var Z=T.sibling;if(Z!==null){Z.return=T.return,ae=Z;break e}ae=T.return}}if(Be=p,Qr(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(su,s)}catch{}h=!0}return h}finally{qe=u,bn.transition=o}}return!1}function a_(s,o,u){o=so(u,o),o=Ev(s,o,1),s=Xr(s,o,1),o=Vt(),s!==null&&(ba(s,1,o),en(s,o))}function ot(s,o,u){if(s.tag===3)a_(s,s,u);else for(;o!==null;){if(o.tag===3){a_(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(es===null||!es.has(h))){s=so(u,s),s=Cv(o,s,1),o=Xr(o,s,1),s=Vt(),o!==null&&(ba(o,1,s),en(o,s));break}}o=o.return}}function aC(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Vt(),s.pingedLanes|=s.suspendedLanes&u,Et===s&&(It&u)===u&&(vt===4||vt===3&&(It&130023424)===It&&500>ct()-lf?Hs(s,0):af|=u),en(s,o)}function l_(s,o){o===0&&((s.mode&1)===0?o=1:(o=ou,ou<<=1,(ou&130023424)===0&&(ou=4194304)));var u=Vt();s=pr(s,o),s!==null&&(ba(s,o,u),en(s,u))}function lC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),l_(s,u)}function uC(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(u=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),l_(s,u)}var u_;u_=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Qt.current)Xt=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Xt=!1,QE(s,o,u);Xt=(s.flags&131072)!==0}else Xt=!1,tt&&(o.flags&1048576)!==0&&By(o,Ou,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Wu(s,o),s=o.pendingProps;var p=Qi(o,jt.current);no(o,u),p=$h(null,o,h,s,p,u);var y=Fh();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Yt(h)?(y=!0,Eu(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Rh(o),p.updater=zu,o.stateNode=p,p._reactInternals=o,Vh(o,h,s,u),o=Gh(null,o,h,!0,y,u)):(o.tag=0,tt&&y&&Sh(o),Kt(null,o,p,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Wu(s,o),s=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=dC(h),s=Dn(h,s),p){case 0:o=Jh(null,o,h,s,u);break e;case 1:o=Lv(null,o,h,s,u);break e;case 11:o=Nv(null,o,h,s,u);break e;case 14:o=Rv(null,o,h,Dn(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Dn(h,p),Jh(s,o,h,p,u);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Dn(h,p),Lv(s,o,h,p,u);case 3:e:{if(Mv(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,p=y.element,Yy(s,o),Du(o,h,null,u);var x=o.memoizedState;if(h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=so(Error(t(423)),o),o=jv(s,o,h,u,p);break e}else if(h!==p){p=so(Error(t(424)),o),o=jv(s,o,h,u,p);break e}else for(cn=qr(o.stateNode.containerInfo.firstChild),un=o,tt=!0,In=null,u=Gy(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Zi(),h===p){o=mr(s,o,u);break e}Kt(s,o,h,u)}o=o.child}return o;case 5:return ev(o),s===null&&kh(o),h=o.type,p=o.pendingProps,y=s!==null?s.memoizedProps:null,x=p.children,gh(h,p)?x=null:y!==null&&gh(h,y)&&(o.flags|=32),Dv(s,o),Kt(s,o,x,u),o.child;case 6:return s===null&&kh(o),null;case 13:return $v(s,o,u);case 4:return Ah(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=eo(o,null,h,u):Kt(s,o,h,u),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Dn(h,p),Nv(s,o,h,p,u);case 7:return Kt(s,o,o.pendingProps,u),o.child;case 8:return Kt(s,o,o.pendingProps.children,u),o.child;case 12:return Kt(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,y=o.memoizedProps,x=p.value,Ye(Ru,h._currentValue),h._currentValue=x,y!==null)if(An(y.value,x)){if(y.children===p.children&&!Qt.current){o=mr(s,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var T=y.dependencies;if(T!==null){x=y.child;for(var R=T.firstContext;R!==null;){if(R.context===h){if(y.tag===1){R=gr(-1,u&-u),R.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var G=z.pending;G===null?R.next=R:(R.next=G.next,G.next=R),z.pending=R}}y.lanes|=u,R=y.alternate,R!==null&&(R.lanes|=u),Ph(y.return,u,o),T.lanes|=u;break}R=R.next}}else if(y.tag===10)x=y.type===o.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(t(341));x.lanes|=u,T=x.alternate,T!==null&&(T.lanes|=u),Ph(x,u,o),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===o){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Kt(s,o,p.children,u),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,no(o,u),p=wn(p),h=h(p),o.flags|=1,Kt(s,o,h,u),o.child;case 14:return h=o.type,p=Dn(h,o.pendingProps),p=Dn(h.type,p),Rv(s,o,h,p,u);case 15:return Av(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Dn(h,p),Wu(s,o),o.tag=1,Yt(h)?(s=!0,Eu(o)):s=!1,no(o,u),xv(o,h,p),Vh(o,h,p,u),Gh(null,o,h,!0,s,u);case 19:return Uv(s,o,u);case 22:return Iv(s,o,u)}throw Error(t(156,o.tag))};function c_(s,o){return Wm(s,o)}function cC(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(s,o,u,h){return new cC(s,o,u,h)}function mf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dC(s){if(typeof s=="function")return mf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===we)return 11;if(s===Ie)return 14}return 2}function ss(s,o){var u=s.alternate;return u===null?(u=xn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function ec(s,o,u,h,p,y){var x=2;if(h=s,typeof s=="function")mf(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case F:return Js(u.children,p,y,o);case D:x=8,p|=8;break;case U:return s=xn(12,u,o,p|2),s.elementType=U,s.lanes=y,s;case fe:return s=xn(13,u,o,p),s.elementType=fe,s.lanes=y,s;case Te:return s=xn(19,u,o,p),s.elementType=Te,s.lanes=y,s;case Oe:return tc(u,p,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case W:x=10;break e;case re:x=9;break e;case we:x=11;break e;case Ie:x=14;break e;case Re:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=xn(x,u,o,p),o.elementType=s,o.type=h,o.lanes=y,o}function Js(s,o,u,h){return s=xn(7,s,h,o),s.lanes=u,s}function tc(s,o,u,h){return s=xn(22,s,h,o),s.elementType=Oe,s.lanes=u,s.stateNode={isHidden:!1},s}function yf(s,o,u){return s=xn(6,s,null,o),s.lanes=u,s}function vf(s,o,u){return o=xn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function hC(s,o,u,h,p){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function _f(s,o,u,h,p,y,x,T,R){return s=new hC(s,o,u,T,R),o===1?(o=1,y===!0&&(o|=8)):o=0,y=xn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rh(y),s}function fC(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function d_(s){if(!s)return Gr;s=s._reactInternals;e:{if(Ms(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Yt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Yt(u))return Fy(s,u,o)}return o}function h_(s,o,u,h,p,y,x,T,R){return s=_f(u,h,!0,s,p,y,x,T,R),s.context=d_(null),u=s.current,h=Vt(),p=ns(u),y=gr(h,p),y.callback=o??null,Xr(u,y,p),s.current.lanes=p,ba(s,p,h),en(s,h),s}function nc(s,o,u,h){var p=o.current,y=Vt(),x=ns(p);return u=d_(u),o.context===null?o.context=u:o.pendingContext=u,o=gr(y,x),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Xr(p,o,x),s!==null&&(jn(s,p,x,y),Iu(s,p,x)),x}function rc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function f_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function wf(s,o){f_(s,o),(s=s.alternate)&&f_(s,o)}function pC(){return null}var p_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Sf(s){this._internalRoot=s}sc.prototype.render=Sf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));nc(s,o,null,null)},sc.prototype.unmount=Sf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Vs(function(){nc(null,s,null,null)}),o[cr]=null}};function sc(s){this._internalRoot=s}sc.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ym();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Kr.length&&o!==0&&o<Kr[u].priority;u++);Kr.splice(u,0,s),u===0&&ey(s)}};function bf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ic(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function g_(){}function gC(s,o,u,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var z=rc(x);y.call(z)}}var x=h_(o,h,s,0,null,!1,!1,"",g_);return s._reactRootContainer=x,s[cr]=x.current,Ma(s.nodeType===8?s.parentNode:s),Vs(),x}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var T=h;h=function(){var z=rc(R);T.call(z)}}var R=_f(s,0,!1,null,null,!1,!1,"",g_);return s._reactRootContainer=R,s[cr]=R.current,Ma(s.nodeType===8?s.parentNode:s),Vs(function(){nc(o,R,u,h)}),R}function oc(s,o,u,h,p){var y=u._reactRootContainer;if(y){var x=y;if(typeof p=="function"){var T=p;p=function(){var R=rc(x);T.call(R)}}nc(o,x,s,p)}else x=gC(u,o,s,p,h);return rc(x)}Gm=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Sa(o.pendingLanes);u!==0&&(Vd(o,u|1),en(o,ct()),(Be&6)===0&&(ao=ct()+500,Qr()))}break;case 13:Vs(function(){var h=pr(s,1);if(h!==null){var p=Vt();jn(h,s,1,p)}}),wf(s,1)}},Hd=function(s){if(s.tag===13){var o=pr(s,134217728);if(o!==null){var u=Vt();jn(o,s,134217728,u)}wf(s,134217728)}},Qm=function(s){if(s.tag===13){var o=ns(s),u=pr(s,o);if(u!==null){var h=Vt();jn(u,s,o,h)}wf(s,o)}},Ym=function(){return qe},Xm=function(s,o){var u=qe;try{return qe=s,o()}finally{qe=u}},$d=function(s,o,u){switch(o){case"input":if(Nd(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var p=xu(h);if(!p)throw Error(t(90));Ls(h),Nd(h,p)}}}break;case"textarea":Tm(s,u);break;case"select":o=u.value,o!=null&&$i(s,!!u.multiple,o,!1)}},Mm=ff,jm=Vs;var mC={usingClientEntryPoint:!1,Events:[Fa,Ji,xu,Dm,Lm,ff]},Za={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yC={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=zm(s),s===null?null:s.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||pC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{su=ac.inject(yC),Qn=ac}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC,tn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bf(o))throw Error(t(200));return fC(s,o,null,u)},tn.createRoot=function(s,o){if(!bf(s))throw Error(t(299));var u=!1,h="",p=p_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=_f(s,1,!1,null,null,u,!1,h,p),s[cr]=o.current,Ma(s.nodeType===8?s.parentNode:s),new Sf(o)},tn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=zm(o),s=s===null?null:s.stateNode,s},tn.flushSync=function(s){return Vs(s)},tn.hydrate=function(s,o,u){if(!ic(o))throw Error(t(200));return oc(null,s,o,!0,u)},tn.hydrateRoot=function(s,o,u){if(!bf(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,p=!1,y="",x=p_;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),o=h_(o,null,s,1,u??null,p,!1,y,x),s[cr]=o.current,Ma(s),h)for(s=0;s<h.length;s++)u=h[s],p=u._getVersion,p=p(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,p]:o.mutableSourceEagerHydrationData.push(u,p);return new sc(o)},tn.render=function(s,o,u){if(!ic(o))throw Error(t(200));return oc(null,s,o,!1,u)},tn.unmountComponentAtNode=function(s){if(!ic(s))throw Error(t(40));return s._reactRootContainer?(Vs(function(){oc(null,null,s,!1,function(){s._reactRootContainer=null,s[cr]=null})}),!0):!1},tn.unstable_batchedUpdates=ff,tn.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!ic(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return oc(s,o,u,!1,h)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var k_;function hS(){if(k_)return Cf.exports;k_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cf.exports=OC(),Cf.exports}var E_;function PC(){if(E_)return uc;E_=1;var n=hS();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var NC=PC();const RC=cS(NC);var Xo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AC={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},ds,gg,Z0,IC=(Z0=class{constructor(){ve(this,ds,AC);ve(this,gg,!1)}setTimeoutProvider(n){ne(this,ds,n)}setTimeout(n,e){return P(this,ds).setTimeout(n,e)}clearTimeout(n){P(this,ds).clearTimeout(n)}setInterval(n,e){return P(this,ds).setInterval(n,e)}clearInterval(n){P(this,ds).clearInterval(n)}},ds=new WeakMap,gg=new WeakMap,Z0),ii=new IC;function DC(n){setTimeout(n,0)}var Si=typeof window>"u"||"Deno"in globalThis;function Gt(){}function LC(n,e){return typeof n=="function"?n(e):n}function lp(n){return typeof n=="number"&&n>=0&&n!==1/0}function fS(n,e){return Math.max(n+(e||0)-Date.now(),0)}function xs(n,e){return typeof n=="function"?n(e):n}function En(n,e){return typeof n=="function"?n(e):n}function C_(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:c}=n;if(l){if(r){if(e.queryHash!==yg(l,e.options))return!1}else if(!_l(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function T_(n,e){const{exact:t,status:r,predicate:i,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(bi(e.options.mutationKey)!==bi(a))return!1}else if(!_l(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function yg(n,e){return((e==null?void 0:e.queryKeyHashFn)||bi)(n)}function bi(n){return JSON.stringify(n,(e,t)=>up(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function _l(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>_l(n[t],e[t])):!1}var MC=Object.prototype.hasOwnProperty;function pS(n,e){if(n===e)return n;const t=O_(n)&&O_(e);if(!t&&!(up(n)&&up(e)))return e;const i=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),l=a.length,c=t?new Array(l):{};let d=0;for(let f=0;f<l;f++){const g=t?f:a[f],m=n[g],v=e[g];if(m===v){c[g]=m,(t?f<i:MC.call(n,g))&&d++;continue}if(m===null||v===null||typeof m!="object"||typeof v!="object"){c[g]=v;continue}const _=pS(m,v);c[g]=_,_===m&&d++}return i===l&&d===i?n:c}function Fc(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function O_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function up(n){if(!P_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!P_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function P_(n){return Object.prototype.toString.call(n)==="[object Object]"}function jC(n){return new Promise(e=>{ii.setTimeout(e,n)})}function cp(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?pS(n,e):e}function $C(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function FC(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var vg=Symbol();function gS(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===vg?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function mS(n,e){return typeof n=="function"?n(...e):!!n}var li,hs,jo,eS,UC=(eS=class extends Xo{constructor(){super();ve(this,li);ve(this,hs);ve(this,jo);ne(this,jo,e=>{if(!Si&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){P(this,hs)||this.setEventListener(P(this,jo))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,hs))==null||e.call(this),ne(this,hs,void 0))}setEventListener(e){var t;ne(this,jo,e),(t=P(this,hs))==null||t.call(this),ne(this,hs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,li)!==e&&(ne(this,li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof P(this,li)=="boolean"?P(this,li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},li=new WeakMap,hs=new WeakMap,jo=new WeakMap,eS),_g=new UC;function dp(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var zC=DC;function BC(){let n=[],e=0,t=c=>{c()},r=c=>{c()},i=zC;const a=c=>{e?n.push(c):i(()=>{t(c)})},l=()=>{const c=n;n=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var St=BC(),$o,fs,Fo,tS,WC=(tS=class extends Xo{constructor(){super();ve(this,$o,!0);ve(this,fs);ve(this,Fo);ne(this,Fo,e=>{if(!Si&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,fs)||this.setEventListener(P(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,fs))==null||e.call(this),ne(this,fs,void 0))}setEventListener(e){var t;ne(this,Fo,e),(t=P(this,fs))==null||t.call(this),ne(this,fs,e(this.setOnline.bind(this)))}setOnline(e){P(this,$o)!==e&&(ne(this,$o,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,$o)}},$o=new WeakMap,fs=new WeakMap,Fo=new WeakMap,tS),Uc=new WC;function KC(n){return Math.min(1e3*2**n,3e4)}function yS(n){return(n??"online")==="online"?Uc.isOnline():!0}var hp=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function vS(n){let e=!1,t=0,r;const i=dp(),a=()=>i.status!=="pending",l=S=>{var b;if(!a()){const k=new hp(S);v(k),(b=n.onCancel)==null||b.call(n,k)}},c=()=>{e=!0},d=()=>{e=!1},f=()=>_g.isFocused()&&(n.networkMode==="always"||Uc.isOnline())&&n.canRun(),g=()=>yS(n.networkMode)&&n.canRun(),m=S=>{a()||(r==null||r(),i.resolve(S))},v=S=>{a()||(r==null||r(),i.reject(S))},_=()=>new Promise(S=>{var b;r=k=>{(a()||f())&&S(k)},(b=n.onPause)==null||b.call(n)}).then(()=>{var S;r=void 0,a()||(S=n.onContinue)==null||S.call(n)}),w=()=>{if(a())return;let S;const b=t===0?n.initialPromise:void 0;try{S=b??n.fn()}catch(k){S=Promise.reject(k)}Promise.resolve(S).then(m).catch(k=>{var I;if(a())return;const C=n.retry??(Si?0:3),E=n.retryDelay??KC,O=typeof E=="function"?E(t,k):E,M=C===!0||typeof C=="number"&&t<C||typeof C=="function"&&C(t,k);if(e||!M){v(k);return}t++,(I=n.onFail)==null||I.call(n,t,k),jC(O).then(()=>f()?void 0:_()).then(()=>{e?v(k):w()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:d,canStart:g,start:()=>(g()?w():_().then(w),i)}}var ui,nS,_S=(nS=class{constructor(){ve(this,ui)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lp(this.gcTime)&&ne(this,ui,ii.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Si?1/0:300*1e3))}clearGcTimeout(){P(this,ui)&&(ii.clearTimeout(P(this,ui)),ne(this,ui,void 0))}},ui=new WeakMap,nS),ci,Uo,kn,di,Tt,Ll,hi,Un,Sr,rS,VC=(rS=class extends _S{constructor(e){super();ve(this,Un);ve(this,ci);ve(this,Uo);ve(this,kn);ve(this,di);ve(this,Tt);ve(this,Ll);ve(this,hi);ne(this,hi,!1),ne(this,Ll,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,di,e.client),ne(this,kn,P(this,di).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,ci,R_(this.options)),this.state=e.state??P(this,ci),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,Tt))==null?void 0:e.promise}setOptions(e){if(this.options={...P(this,Ll),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=R_(this.options);t.data!==void 0&&(this.setState(N_(t.data,t.dataUpdatedAt)),ne(this,ci,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,kn).remove(this)}setData(e,t){const r=cp(this.state.data,e,this.options);return De(this,Un,Sr).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){De(this,Un,Sr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=P(this,Tt))==null?void 0:r.promise;return(i=P(this,Tt))==null||i.cancel(e),t?t.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,ci))}isActive(){return this.observers.some(e=>En(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fS(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=P(this,Tt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=P(this,Tt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,kn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(P(this,Tt)&&(P(this,hi)?P(this,Tt).cancel({revert:!0}):P(this,Tt).cancelRetry()),this.scheduleGc()),P(this,kn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,Un,Sr).call(this,{type:"invalidate"})}async fetch(e,t){var d,f,g,m,v,_,w,S,b,k,C,E;if(this.state.fetchStatus!=="idle"&&((d=P(this,Tt))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(P(this,Tt))return P(this,Tt).continueRetry(),P(this,Tt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const O=this.observers.find(M=>M.options.queryFn);O&&this.setOptions(O.options)}const r=new AbortController,i=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(ne(this,hi,!0),r.signal)})},a=()=>{const O=gS(this.options,t),I=(()=>{const F={client:P(this,di),queryKey:this.queryKey,meta:this.meta};return i(F),F})();return ne(this,hi,!1),this.options.persister?this.options.persister(O,I,this):O(I)},c=(()=>{const O={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:P(this,di),state:this.state,fetchFn:a};return i(O),O})();(f=this.options.behavior)==null||f.onFetch(c,this),ne(this,Uo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&De(this,Un,Sr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),ne(this,Tt,vS({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,onCancel:O=>{O instanceof hp&&O.revert&&this.setState({...P(this,Uo),fetchStatus:"idle"}),r.abort()},onFail:(O,M)=>{De(this,Un,Sr).call(this,{type:"failed",failureCount:O,error:M})},onPause:()=>{De(this,Un,Sr).call(this,{type:"pause"})},onContinue:()=>{De(this,Un,Sr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const O=await P(this,Tt).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(_=(v=P(this,kn).config).onSuccess)==null||_.call(v,O,this),(S=(w=P(this,kn).config).onSettled)==null||S.call(w,O,this.state.error,this),O}catch(O){if(O instanceof hp){if(O.silent)return P(this,Tt).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw De(this,Un,Sr).call(this,{type:"error",error:O}),(k=(b=P(this,kn).config).onError)==null||k.call(b,O,this),(E=(C=P(this,kn).config).onSettled)==null||E.call(C,this.state.data,O,this),O}finally{this.scheduleGc()}}},ci=new WeakMap,Uo=new WeakMap,kn=new WeakMap,di=new WeakMap,Tt=new WeakMap,Ll=new WeakMap,hi=new WeakMap,Un=new WeakSet,Sr=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wS(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...N_(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Uo,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),St.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,kn).notify({query:this,type:"updated",action:e})})},rS);function wS(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yS(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function N_(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function R_(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var nn,Ue,Ml,qt,fi,zo,Cr,ps,jl,Bo,Wo,pi,gi,gs,Ko,He,ll,fp,pp,gp,mp,yp,vp,_p,SS,sS,HC=(sS=class extends Xo{constructor(e,t){super();ve(this,He);ve(this,nn);ve(this,Ue);ve(this,Ml);ve(this,qt);ve(this,fi);ve(this,zo);ve(this,Cr);ve(this,ps);ve(this,jl);ve(this,Bo);ve(this,Wo);ve(this,pi);ve(this,gi);ve(this,gs);ve(this,Ko,new Set);this.options=t,ne(this,nn,e),ne(this,ps,null),ne(this,Cr,dp()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Ue).addObserver(this),A_(P(this,Ue),this.options)?De(this,He,ll).call(this):this.updateResult(),De(this,He,mp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wp(P(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wp(P(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,He,yp).call(this),De(this,He,vp).call(this),P(this,Ue).removeObserver(this)}setOptions(e){const t=this.options,r=P(this,Ue);if(this.options=P(this,nn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof En(this.options.enabled,P(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,He,_p).call(this),P(this,Ue).setOptions(this.options),t._defaulted&&!Fc(this.options,t)&&P(this,nn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Ue),observer:this});const i=this.hasListeners();i&&I_(P(this,Ue),r,this.options,t)&&De(this,He,ll).call(this),this.updateResult(),i&&(P(this,Ue)!==r||En(this.options.enabled,P(this,Ue))!==En(t.enabled,P(this,Ue))||xs(this.options.staleTime,P(this,Ue))!==xs(t.staleTime,P(this,Ue)))&&De(this,He,fp).call(this);const a=De(this,He,pp).call(this);i&&(P(this,Ue)!==r||En(this.options.enabled,P(this,Ue))!==En(t.enabled,P(this,Ue))||a!==P(this,gs))&&De(this,He,gp).call(this,a)}getOptimisticResult(e){const t=P(this,nn).getQueryCache().build(P(this,nn),e),r=this.createResult(t,e);return JC(this,r)&&(ne(this,qt,r),ne(this,zo,this.options),ne(this,fi,P(this,Ue).state)),r}getCurrentResult(){return P(this,qt)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&P(this,Cr).status==="pending"&&P(this,Cr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){P(this,Ko).add(e)}getCurrentQuery(){return P(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=P(this,nn).defaultQueryOptions(e),r=P(this,nn).getQueryCache().build(P(this,nn),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return De(this,He,ll).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,qt)))}createResult(e,t){var U;const r=P(this,Ue),i=this.options,a=P(this,qt),l=P(this,fi),c=P(this,zo),f=e!==r?e.state:P(this,Ml),{state:g}=e;let m={...g},v=!1,_;if(t._optimisticResults){const W=this.hasListeners(),re=!W&&A_(e,t),we=W&&I_(e,r,t,i);(re||we)&&(m={...m,...wS(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:b}=m;_=m.data;let k=!1;if(t.placeholderData!==void 0&&_===void 0&&b==="pending"){let W;a!=null&&a.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData)?(W=a.data,k=!0):W=typeof t.placeholderData=="function"?t.placeholderData((U=P(this,Wo))==null?void 0:U.state.data,P(this,Wo)):t.placeholderData,W!==void 0&&(b="success",_=cp(a==null?void 0:a.data,W,t),v=!0)}if(t.select&&_!==void 0&&!k)if(a&&_===(l==null?void 0:l.data)&&t.select===P(this,jl))_=P(this,Bo);else try{ne(this,jl,t.select),_=t.select(_),_=cp(a==null?void 0:a.data,_,t),ne(this,Bo,_),ne(this,ps,null)}catch(W){ne(this,ps,W)}P(this,ps)&&(w=P(this,ps),_=P(this,Bo),S=Date.now(),b="error");const C=m.fetchStatus==="fetching",E=b==="pending",O=b==="error",M=E&&C,I=_!==void 0,D={status:b,fetchStatus:m.fetchStatus,isPending:E,isSuccess:b==="success",isError:O,isInitialLoading:M,isLoading:M,data:_,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:O&&!I,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:O&&I,isStale:wg(e,t),refetch:this.refetch,promise:P(this,Cr),isEnabled:En(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const W=fe=>{D.status==="error"?fe.reject(D.error):D.data!==void 0&&fe.resolve(D.data)},re=()=>{const fe=ne(this,Cr,D.promise=dp());W(fe)},we=P(this,Cr);switch(we.status){case"pending":e.queryHash===r.queryHash&&W(we);break;case"fulfilled":(D.status==="error"||D.data!==we.value)&&re();break;case"rejected":(D.status!=="error"||D.error!==we.reason)&&re();break}}return D}updateResult(){const e=P(this,qt),t=this.createResult(P(this,Ue),this.options);if(ne(this,fi,P(this,Ue).state),ne(this,zo,this.options),P(this,fi).data!==void 0&&ne(this,Wo,P(this,Ue)),Fc(t,e))return;ne(this,qt,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!P(this,Ko).size)return!0;const l=new Set(a??P(this,Ko));return this.options.throwOnError&&l.add("error"),Object.keys(P(this,qt)).some(c=>{const d=c;return P(this,qt)[d]!==e[d]&&l.has(d)})};De(this,He,SS).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,He,mp).call(this)}},nn=new WeakMap,Ue=new WeakMap,Ml=new WeakMap,qt=new WeakMap,fi=new WeakMap,zo=new WeakMap,Cr=new WeakMap,ps=new WeakMap,jl=new WeakMap,Bo=new WeakMap,Wo=new WeakMap,pi=new WeakMap,gi=new WeakMap,gs=new WeakMap,Ko=new WeakMap,He=new WeakSet,ll=function(e){De(this,He,_p).call(this);let t=P(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Gt)),t},fp=function(){De(this,He,yp).call(this);const e=xs(this.options.staleTime,P(this,Ue));if(Si||P(this,qt).isStale||!lp(e))return;const r=fS(P(this,qt).dataUpdatedAt,e)+1;ne(this,pi,ii.setTimeout(()=>{P(this,qt).isStale||this.updateResult()},r))},pp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Ue)):this.options.refetchInterval)??!1},gp=function(e){De(this,He,vp).call(this),ne(this,gs,e),!(Si||En(this.options.enabled,P(this,Ue))===!1||!lp(P(this,gs))||P(this,gs)===0)&&ne(this,gi,ii.setInterval(()=>{(this.options.refetchIntervalInBackground||_g.isFocused())&&De(this,He,ll).call(this)},P(this,gs)))},mp=function(){De(this,He,fp).call(this),De(this,He,gp).call(this,De(this,He,pp).call(this))},yp=function(){P(this,pi)&&(ii.clearTimeout(P(this,pi)),ne(this,pi,void 0))},vp=function(){P(this,gi)&&(ii.clearInterval(P(this,gi)),ne(this,gi,void 0))},_p=function(){const e=P(this,nn).getQueryCache().build(P(this,nn),this.options);if(e===P(this,Ue))return;const t=P(this,Ue);ne(this,Ue,e),ne(this,Ml,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},SS=function(e){St.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(P(this,qt))}),P(this,nn).getQueryCache().notify({query:P(this,Ue),type:"observerResultsUpdated"})})},sS);function qC(n,e){return En(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function A_(n,e){return qC(n,e)||n.state.data!==void 0&&wp(n,e,e.refetchOnMount)}function wp(n,e,t){if(En(e.enabled,n)!==!1&&xs(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&wg(n,e)}return!1}function I_(n,e,t,r){return(n!==e||En(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&wg(n,t)}function wg(n,e){return En(e.enabled,n)!==!1&&n.isStaleByTime(xs(e.staleTime,n))}function JC(n,e){return!Fc(n.getCurrentResult(),e)}function D_(n){return{onFetch:(e,t)=>{var g,m,v,_,w;const r=e.options,i=(v=(m=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,a=((_=e.state.data)==null?void 0:_.pages)||[],l=((w=e.state.data)==null?void 0:w.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let S=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},k=gS(e.options,e.fetchOptions),C=async(E,O,M)=>{if(S)return Promise.reject();if(O==null&&E.pages.length)return Promise.resolve(E);const F=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:O,direction:M?"backward":"forward",meta:e.options.meta};return b(re),re})(),D=await k(F),{maxPages:U}=e.options,W=M?FC:$C;return{pages:W(E.pages,D,U),pageParams:W(E.pageParams,O,U)}};if(i&&a.length){const E=i==="backward",O=E?GC:L_,M={pages:a,pageParams:l},I=O(r,M);c=await C(M,I,E)}else{const E=n??a.length;do{const O=d===0?l[0]??r.initialPageParam:L_(r,c);if(d>0&&O==null)break;c=await C(c,O),d++}while(d<E)}return c};e.options.persister?e.fetchFn=()=>{var S,b;return(b=(S=e.options).persister)==null?void 0:b.call(S,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function L_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function GC(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var $l,nr,Jt,mi,rr,as,iS,QC=(iS=class extends _S{constructor(e){super();ve(this,rr);ve(this,$l);ve(this,nr);ve(this,Jt);ve(this,mi);ne(this,$l,e.client),this.mutationId=e.mutationId,ne(this,Jt,e.mutationCache),ne(this,nr,[]),this.state=e.state||bS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,nr).includes(e)||(P(this,nr).push(e),this.clearGcTimeout(),P(this,Jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,nr,P(this,nr).filter(t=>t!==e)),this.scheduleGc(),P(this,Jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,nr).length||(this.state.status==="pending"?this.scheduleGc():P(this,Jt).remove(this))}continue(){var e;return((e=P(this,mi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,c,d,f,g,m,v,_,w,S,b,k,C,E,O,M,I,F,D,U;const t=()=>{De(this,rr,as).call(this,{type:"continue"})},r={client:P(this,$l),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,mi,vS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(W,re)=>{De(this,rr,as).call(this,{type:"failed",failureCount:W,error:re})},onPause:()=>{De(this,rr,as).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Jt).canRun(this)}));const i=this.state.status==="pending",a=!P(this,mi).canStart();try{if(i)t();else{De(this,rr,as).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(l=P(this,Jt).config).onMutate)==null?void 0:c.call(l,e,this,r));const re=await((f=(d=this.options).onMutate)==null?void 0:f.call(d,e,r));re!==this.state.context&&De(this,rr,as).call(this,{type:"pending",context:re,variables:e,isPaused:a})}const W=await P(this,mi).start();return await((m=(g=P(this,Jt).config).onSuccess)==null?void 0:m.call(g,W,e,this.state.context,this,r)),await((_=(v=this.options).onSuccess)==null?void 0:_.call(v,W,e,this.state.context,r)),await((S=(w=P(this,Jt).config).onSettled)==null?void 0:S.call(w,W,null,this.state.variables,this.state.context,this,r)),await((k=(b=this.options).onSettled)==null?void 0:k.call(b,W,null,e,this.state.context,r)),De(this,rr,as).call(this,{type:"success",data:W}),W}catch(W){try{throw await((E=(C=P(this,Jt).config).onError)==null?void 0:E.call(C,W,e,this.state.context,this,r)),await((M=(O=this.options).onError)==null?void 0:M.call(O,W,e,this.state.context,r)),await((F=(I=P(this,Jt).config).onSettled)==null?void 0:F.call(I,void 0,W,this.state.variables,this.state.context,this,r)),await((U=(D=this.options).onSettled)==null?void 0:U.call(D,void 0,W,e,this.state.context,r)),W}finally{De(this,rr,as).call(this,{type:"error",error:W})}}finally{P(this,Jt).runNext(this)}}},$l=new WeakMap,nr=new WeakMap,Jt=new WeakMap,mi=new WeakMap,rr=new WeakSet,as=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),St.batch(()=>{P(this,nr).forEach(r=>{r.onMutationUpdate(e)}),P(this,Jt).notify({mutation:this,type:"updated",action:e})})},iS);function bS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tr,zn,Fl,oS,YC=(oS=class extends Xo{constructor(e={}){super();ve(this,Tr);ve(this,zn);ve(this,Fl);this.config=e,ne(this,Tr,new Set),ne(this,zn,new Map),ne(this,Fl,0)}build(e,t,r){const i=new QC({client:e,mutationCache:this,mutationId:++lc(this,Fl)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){P(this,Tr).add(e);const t=cc(e);if(typeof t=="string"){const r=P(this,zn).get(t);r?r.push(e):P(this,zn).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,Tr).delete(e)){const t=cc(e);if(typeof t=="string"){const r=P(this,zn).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&P(this,zn).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=cc(e);if(typeof t=="string"){const r=P(this,zn).get(t),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=cc(e);if(typeof t=="string"){const i=(r=P(this,zn).get(t))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{P(this,Tr).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,Tr).clear(),P(this,zn).clear()})}getAll(){return Array.from(P(this,Tr))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>T_(t,r))}findAll(e={}){return this.getAll().filter(t=>T_(e,t))}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return St.batch(()=>Promise.all(e.map(t=>t.continue().catch(Gt))))}},Tr=new WeakMap,zn=new WeakMap,Fl=new WeakMap,oS);function cc(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Or,ms,rn,Pr,Ir,Pc,Sp,aS,XC=(aS=class extends Xo{constructor(t,r){super();ve(this,Ir);ve(this,Or);ve(this,ms);ve(this,rn);ve(this,Pr);ne(this,Or,t),this.setOptions(r),this.bindMethods(),De(this,Ir,Pc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=P(this,Or).defaultMutationOptions(t),Fc(this.options,r)||P(this,Or).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,rn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&bi(r.mutationKey)!==bi(this.options.mutationKey)?this.reset():((i=P(this,rn))==null?void 0:i.state.status)==="pending"&&P(this,rn).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=P(this,rn))==null||t.removeObserver(this)}onMutationUpdate(t){De(this,Ir,Pc).call(this),De(this,Ir,Sp).call(this,t)}getCurrentResult(){return P(this,ms)}reset(){var t;(t=P(this,rn))==null||t.removeObserver(this),ne(this,rn,void 0),De(this,Ir,Pc).call(this),De(this,Ir,Sp).call(this)}mutate(t,r){var i;return ne(this,Pr,r),(i=P(this,rn))==null||i.removeObserver(this),ne(this,rn,P(this,Or).getMutationCache().build(P(this,Or),this.options)),P(this,rn).addObserver(this),P(this,rn).execute(t)}},Or=new WeakMap,ms=new WeakMap,rn=new WeakMap,Pr=new WeakMap,Ir=new WeakSet,Pc=function(){var r;const t=((r=P(this,rn))==null?void 0:r.state)??bS();ne(this,ms,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Sp=function(t){St.batch(()=>{var r,i,a,l,c,d,f,g;if(P(this,Pr)&&this.hasListeners()){const m=P(this,ms).variables,v=P(this,ms).context,_={client:P(this,Or),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(r=P(this,Pr)).onSuccess)==null||i.call(r,t.data,m,v,_),(l=(a=P(this,Pr)).onSettled)==null||l.call(a,t.data,null,m,v,_)):(t==null?void 0:t.type)==="error"&&((d=(c=P(this,Pr)).onError)==null||d.call(c,t.error,m,v,_),(g=(f=P(this,Pr)).onSettled)==null||g.call(f,void 0,t.error,m,v,_))}this.listeners.forEach(m=>{m(P(this,ms))})})},aS),sr,lS,ZC=(lS=class extends Xo{constructor(e={}){super();ve(this,sr);this.config=e,ne(this,sr,new Map)}build(e,t,r){const i=t.queryKey,a=t.queryHash??yg(i,t);let l=this.get(a);return l||(l=new VC({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){P(this,sr).has(e.queryHash)||(P(this,sr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=P(this,sr).get(e.queryHash);t&&(e.destroy(),t===e&&P(this,sr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,sr).get(e)}getAll(){return[...P(this,sr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>C_(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>C_(e,r)):t}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sr=new WeakMap,lS),at,ys,vs,Vo,Ho,_s,qo,Jo,uS,eT=(uS=class{constructor(n={}){ve(this,at);ve(this,ys);ve(this,vs);ve(this,Vo);ve(this,Ho);ve(this,_s);ve(this,qo);ve(this,Jo);ne(this,at,n.queryCache||new ZC),ne(this,ys,n.mutationCache||new YC),ne(this,vs,n.defaultOptions||{}),ne(this,Vo,new Map),ne(this,Ho,new Map),ne(this,_s,0)}mount(){lc(this,_s)._++,P(this,_s)===1&&(ne(this,qo,_g.subscribe(async n=>{n&&(await this.resumePausedMutations(),P(this,at).onFocus())})),ne(this,Jo,Uc.subscribe(async n=>{n&&(await this.resumePausedMutations(),P(this,at).onOnline())})))}unmount(){var n,e;lc(this,_s)._--,P(this,_s)===0&&((n=P(this,qo))==null||n.call(this),ne(this,qo,void 0),(e=P(this,Jo))==null||e.call(this),ne(this,Jo,void 0))}isFetching(n){return P(this,at).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return P(this,ys).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=P(this,at).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=P(this,at).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(xs(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return P(this,at).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=P(this,at).get(r.queryHash),a=i==null?void 0:i.state.data,l=LC(e,a);if(l!==void 0)return P(this,at).build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return St.batch(()=>P(this,at).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=P(this,at).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=P(this,at);St.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=P(this,at);return St.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=St.batch(()=>P(this,at).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Gt).catch(Gt)}invalidateQueries(n,e={}){return St.batch(()=>(P(this,at).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=St.batch(()=>P(this,at).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(Gt)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Gt)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=P(this,at).build(this,e);return t.isStaleByTime(xs(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Gt).catch(Gt)}fetchInfiniteQuery(n){return n.behavior=D_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Gt).catch(Gt)}ensureInfiniteQueryData(n){return n.behavior=D_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Uc.isOnline()?P(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,at)}getMutationCache(){return P(this,ys)}getDefaultOptions(){return P(this,vs)}setDefaultOptions(n){ne(this,vs,n)}setQueryDefaults(n,e){P(this,Vo).set(bi(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...P(this,Vo).values()],t={};return e.forEach(r=>{_l(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){P(this,Ho).set(bi(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...P(this,Ho).values()],t={};return e.forEach(r=>{_l(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...P(this,vs).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=yg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vg&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...P(this,vs).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){P(this,at).clear(),P(this,ys).clear()}},at=new WeakMap,ys=new WeakMap,vs=new WeakMap,Vo=new WeakMap,Ho=new WeakMap,_s=new WeakMap,qo=new WeakMap,Jo=new WeakMap,uS),xS=N.createContext(void 0),Ul=n=>{const e=N.useContext(xS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tT=({client:n,children:e})=>(N.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),V.jsx(xS.Provider,{value:n,children:e})),kS=N.createContext(!1),nT=()=>N.useContext(kS);kS.Provider;function rT(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var sT=N.createContext(rT()),iT=()=>N.useContext(sT),oT=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},aT=n=>{N.useEffect(()=>{n.clearReset()},[n])},lT=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||mS(t,[n.error,r])),uT=n=>{if(n.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...i)=>t(r(...i)):t(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},cT=(n,e)=>n.isLoading&&n.isFetching&&!e,dT=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,M_=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function hT(n,e,t){var m,v,_,w,S;const r=nT(),i=iT(),a=Ul(),l=a.defaultQueryOptions(n);(v=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||v.call(m,l),l._optimisticResults=r?"isRestoring":"optimistic",uT(l),oT(l,i),aT(i);const c=!a.getQueryCache().get(l.queryHash),[d]=N.useState(()=>new e(a,l)),f=d.getOptimisticResult(l),g=!r&&n.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(b=>{const k=g?d.subscribe(St.batchCalls(b)):Gt;return d.updateResult(),k},[d,g]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(l)},[l,d]),dT(l,f))throw M_(l,d,i);if(lT({result:f,errorResetBoundary:i,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;if((w=(_=a.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||w.call(_,l,f),l.experimental_prefetchInRender&&!Si&&cT(f,r)){const b=c?M_(l,d,i):(S=a.getQueryCache().get(l.queryHash))==null?void 0:S.promise;b==null||b.catch(Gt).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?f:d.trackResult(f)}function ES(n,e){return hT(n,HC)}function Sg(n,e){const t=Ul(),[r]=N.useState(()=>new XC(t,n));N.useEffect(()=>{r.setOptions(n)},[r,n]);const i=N.useSyncExternalStore(N.useCallback(l=>r.subscribe(St.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=N.useCallback((l,c)=>{r.mutate(l,c).catch(Gt)},[r]);if(i.error&&mS(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function dd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function fT(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(r.next(g))}catch(m){l(m)}}function d(g){try{f(r.throw(g))}catch(m){l(m)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((r=r.apply(n,e||[])).next())})}const pT=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class bg extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class gT extends bg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j_ extends bg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $_ extends bg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(bp||(bp={}));class mT{constructor(e,{headers:t={},customFetch:r,region:i=bp.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=pT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fT(this,arguments,void 0,function*(t,r={}){var i;let a,l;try{const{headers:c,method:d,body:f,signal:g,timeout:m}=r;let v={},{region:_}=r;_||(_=this.region);const w=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let S;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(v["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(v["Content-Type"]="application/json",S=JSON.stringify(f)):S=f;let b=g;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),g?(b=l.signal,g.addEventListener("abort",()=>l.abort())):b=l.signal);const k=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:S,signal:b}).catch(M=>{throw new gT(M)}),C=k.headers.get("x-relay-error");if(C&&C==="true")throw new j_(k);if(!k.ok)throw new $_(k);let E=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield k.json():E==="application/octet-stream"||E==="application/pdf"?O=yield k.blob():E==="text/event-stream"?O=k:E==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(c){return{data:null,error:c,response:c instanceof $_||c instanceof j_?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var yT=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},vT=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,d=null,f=a.status,g=a.statusText;if(a.ok){var m,v;if(t.method!=="HEAD"){var _;const k=await a.text();k===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((_=t.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=k:c=JSON.parse(k))}const S=(m=t.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),b=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&b&&b.length>1&&(d=parseInt(b[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var w;const S=await a.text();try{l=JSON.parse(S),Array.isArray(l)&&a.status===404&&(c=[],l=null,f=200,g="OK")}catch{a.status===404&&S===""?(f=204,g="No Content"):l={message:S}}if(l&&t.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,f=200,g="OK"),l&&t.shouldThrowOnError)throw new yT(l)}return{error:l,data:c,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(a=>{var l;let c="";const d=a==null?void 0:a.cause;if(d){var f,g,m,v;const w=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",S=(g=d==null?void 0:d.code)!==null&&g!==void 0?g:"";c=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${w}`,S&&(c+=` (${S})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var _;c=(_=a==null?void 0:a.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}},_T=class extends vT{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(a,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var l;const c=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const F_=new RegExp("[,()]");var So=class extends _T{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&F_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&F_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${i}fts${a}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},wT=class{constructor(n,{headers:e={},schema:t,fetch:r}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r}select(n,e){const{head:t=!1,count:r}=e??{},i=t?"HEAD":"GET";let a=!1;const l=(n??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new So({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const a=n.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new So({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new So({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(n,{count:e}={}){var t;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new So({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new So({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},ST=class CS{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new CS(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:a}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;r||i?(c=r?"HEAD":"GET",Object.entries(t).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{d.searchParams.append(m,v)})):(c="POST",f=t);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new So({method:c,url:d,headers:g,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class bT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xT="2.89.0",kT=`realtime-js/${xT}`,TS="1.0.0",ET="2.0.0",U_=TS,xp=1e4,CT=1e3,TT=100;var ls;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ls||(ls={}));var wt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(wt||(wt={}));var Bn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Bn||(Bn={}));var kp;(function(n){n.websocket="websocket"})(kp||(kp={}));var ni;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ni||(ni={}));class OT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,r){var i,a;const l=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",d=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+f.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(_),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,d.length),w.setUint8(S++,c.length),w.setUint8(S++,l.length),w.setUint8(S++,f.length),w.setUint8(S++,m.length),w.setUint8(S++,t),Array.from(d,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(c,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(l,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(f,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(m,k=>w.setUint8(S++,k.charCodeAt(0)));var b=new Uint8Array(_.byteLength+r.byteLength);return b.set(new Uint8Array(_),0),b.set(new Uint8Array(r),_.byteLength),b.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,l,c,d]=r;return t({join_ref:i,ref:a,topic:l,event:c,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+i));d=d+i;const g=r.decode(e.slice(d,d+a));d=d+a;const m=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),_=c===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,w={type:this.BROADCAST_EVENT,event:g,payload:_};return l>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class OS{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Xe||(Xe={}));const z_=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=PT(l,n,e,i),a),{}):{}},PT=(n,e,t,r)=>{const i=e.find(c=>c.name===n),a=i==null?void 0:i.type,l=t[n];return a&&!r.includes(a)?PS(a,l):Ep(l)},PS=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return IT(e,t)}switch(n){case Xe.bool:return NT(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return RT(e);case Xe.json:case Xe.jsonb:return AT(e);case Xe.timestamp:return DT(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Ep(e);default:return Ep(e)}},Ep=n=>n,NT=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},RT=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},AT=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},IT=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>PS(e,c))}return n},DT=n=>typeof n=="string"?n.replace(" ","T"):n,NS=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Pf{constructor(e,t,r={},i=xp){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var B_;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(B_||(B_={}));class fl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=fl.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fl.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(f,g)=>{l[f]||(d[f]=g)}),this.map(l,(f,g)=>{const m=a[f];if(m){const v=g.map(b=>b.presence_ref),_=m.map(b=>b.presence_ref),w=g.filter(b=>_.indexOf(b.presence_ref)<0),S=m.filter(b=>v.indexOf(b.presence_ref)<0);w.length>0&&(c[f]=w),S.length>0&&(d[f]=S)}else c[f]=g}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(e,t,r,i){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const g=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),g.length>0){const m=e[c].map(_=>_.presence_ref),v=g.filter(_=>m.indexOf(_.presence_ref)<0);e[c].unshift(...v)}r(c,g,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const g=d.map(m=>m.presence_ref);f=f.filter(m=>g.indexOf(m.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var W_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(W_||(W_={}));var pl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(pl||(pl={}));var xr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(xr||(xr={}));class Oo{constructor(e,t={config:{}},r){var i,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Pf(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new OS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new fl(this),this.broadcastEndpointURL=NS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(xr.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(xr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(xr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,b=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,k=[];for(let C=0;C<b;C++){const E=S[C],{filter:{event:O,schema:M,table:I,filter:F}}=E,D=_&&_[C];if(D&&D.event===O&&Oo.isFilterValueEqual(D.schema,M)&&Oo.isFilterValueEqual(D.table,I)&&Oo.isFilterValueEqual(D.filter,F))k.push(Object.assign(Object.assign({},E),{id:D.id}));else{this.unsubscribe(),this.state=wt.errored,e==null||e(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(xr.SUBSCRIBED);return}}).receive("error",_=>{this.state=wt.errored,e==null||e(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===wt.joined&&e===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Pf(this,Bn.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Pf(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TT){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:g}=Bn;if(r&&[c,d,f,g].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var w,S,b;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(S=_.filter)===null||S===void 0?void 0:S.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var w,S,b,k,C,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const O=_.id,M=(w=_.filter)===null||w===void 0?void 0:w.event;return O&&((S=t.ids)===null||S===void 0?void 0:S.includes(O))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const O=(C=(k=_==null?void 0:_.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return O==="*"||O===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:b,commit_timestamp:k,type:C,errors:E}=w;v=Object.assign(Object.assign({},{schema:S,table:b,commit_timestamp:k,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(w))}_.callback(v,r)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Oo.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bn.close,{},e)}_onError(e){this._on(Bn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=z_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=z_(e.columns,e.old_record)),t}}const Nf=()=>{},dc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LT=[1e3,2e3,5e3,1e4],MT=1e4,jT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $T{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xp,this.transport=null,this.heartbeatIntervalMs=dc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nf,this.ref=0,this.reconnectTimer=null,this.vsn=U_,this.logger=Nf,this.conn=null,this.sendBuffer=[],this.serializer=new OT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${kp.websocket}`,this.httpEndpoint=NS(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return ni.Connecting;case ls.open:return ni.Open;case ls.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Oo(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(CT,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},dc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ls.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ls.open||this.conn.readyState===ls.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([jT],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const a={access_token:t,version:kT};t&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Bn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new OS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,a,l,c,d,f,g,m,v,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:xp,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:dc.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Nf,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:U_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(w=>LT[w-1]||MT),this.vsn){case TS:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((w,S)=>S(JSON.stringify(w))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((w,S)=>S(JSON.parse(w)));break;case ET:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var wl=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function FT(n,e,t){const r=new URL(e,n);if(t)for(const[i,a]of Object.entries(t))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function UT(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function zT(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:a,headers:l}){const c=FT(n.baseUrl,r,i),d=await UT(n.auth),f=await e(c,{method:t,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),g=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&g?JSON.parse(g):g;if(!f.ok){const _=m?v:void 0,w=_==null?void 0:_.error;throw new wl((w==null?void 0:w.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function hc(n){return n.join("")}var BT=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:hc(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hc(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hc(n.namespace)}`}),!0}catch(e){if(e instanceof wl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof wl&&t.status===409)return;throw t}}};function uo(n){return n.join("")}var WT=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof wl&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof wl&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},KT=class{constructor(n){var r;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=zT({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new BT(this.client,e),this.tableOps=new WT(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},hd=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function it(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var VT=class extends hd{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cp=class extends hd{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const xg=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),HT=()=>Response,Tp=n=>{if(Array.isArray(n))return n.map(t=>Tp(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Tp(r)}),e},qT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},JT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Sl(n){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(n)}function GT(n,e){if(Sl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function QT(n){var e=GT(n,"string");return Sl(e)=="symbol"?e:e+""}function YT(n,e,t){return(e=QT(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(t),!0).forEach(function(r){YT(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):K_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Rf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},XT=async(n,e,t)=>{n instanceof await HT()&&!(t!=null&&t.noResolveJson)?n.json().then(r=>{const i=n.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new VT(Rf(r),i,a))}).catch(r=>{e(new Cp(Rf(r),r))}):e(new Cp(Rf(n),n))},ZT=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?i:(qT(r)?(i.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),ke(ke({},i),t))};async function zl(n,e,t,r,i,a){return new Promise((l,c)=>{n(t,ZT(e,r,i,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>XT(d,c,r))})}async function bl(n,e,t,r){return zl(n,"GET",e,t,r)}async function Fn(n,e,t,r,i){return zl(n,"POST",e,r,i,t)}async function Op(n,e,t,r,i){return zl(n,"PUT",e,r,i,t)}async function e1(n,e,t,r){return zl(n,"HEAD",e,ke(ke({},t),{},{noResolveJson:!0}),r)}async function kg(n,e,t,r,i){return zl(n,"DELETE",e,r,i,t)}var t1=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};let RS;RS=Symbol.toStringTag;var n1=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[RS]="BlobDownloadBuilder",this.promise=null}asStream(){return new t1(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};const r1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var s1=class{constructor(n,e={},t,r){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=xg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,r){var i=this;try{let a;const l=ke(ke({},V_),r);let c=ke(ke({},i.headers),n==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&t instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",t)):typeof FormData<"u"&&t instanceof FormData?(a=t,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=t,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(c=ke(ke({},c),r.headers));const f=i._removeEmptyFolders(e),g=i._getFinalPath(f),m=await(n=="PUT"?Op:Fn)(i.fetch,`${i.url}/object/${g}`,a,ke({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var i=this;const a=i._removeEmptyFolders(n),l=i._getFinalPath(a),c=new URL(i.url+`/object/upload/sign/${l}`);c.searchParams.set("token",e);try{let d;const f=ke({upsert:V_.upsert},r),g=ke(ke({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&t instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",t)):typeof FormData<"u"&&t instanceof FormData?(d=t,d.append("cacheControl",f.cacheControl)):(d=t,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{data:{path:a,fullPath:(await Op(i.fetch,c.toString(),d,{headers:g})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(it(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(n,e){var t=this;try{let r=t._getFinalPath(n);const i=ke({},t.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await Fn(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(t.url+a.url),c=l.searchParams.get("token");if(!c)throw new hd("No token returned by API");return{data:{signedUrl:l.toString(),path:n,token:c},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async copy(n,e,t){var r=this;try{return{data:{path:(await Fn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async createSignedUrl(n,e,t){var r=this;try{let i=r._getFinalPath(n),a=await Fn(r.fetch,`${r.url}/object/sign/${i}`,ke({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:r.headers});const l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async createSignedUrls(n,e,t){var r=this;try{const i=await Fn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:i.map(l=>ke(ke({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}download(n,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(n),l=()=>bl(this.fetch,`${this.url}/${t}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new n1(l,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:Tp(await bl(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await e1(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(it(r)&&r instanceof Cp){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${t}${c}`)}}}async remove(n){var e=this;try{return{data:await kg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async list(n,e,t){var r=this;try{const i=ke(ke(ke({},r1),e),{},{prefix:n||""});return{data:await Fn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async listV2(n,e){var t=this;try{const r=ke({},n);return{data:await Fn(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const AS="2.89.0",IS={"X-Client-Info":`storage-js/${AS}`};var i1=class{constructor(n,e={},t,r){this.shouldThrowOnError=!1;const i=new URL(n);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ke(ke({},IS),e),this.fetch=xg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await bl(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await bl(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async updateBucket(n,e){var t=this;try{return{data:await Op(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async emptyBucket(n){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await kg(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},o1=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},IS),e),this.fetch=xg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const r=t.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await bl(e.fetch,i,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await kg(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!JT(n))throw new hd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new KT({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(i,c),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}};const Eg={"X-Client-Info":`storage-js/${AS}`,"Content-Type":"application/json"};var DS=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Af=class extends DS{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},a1=class extends DS{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const Cg=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),l1=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},H_=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),u1=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const r=n.status||500,i=n;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new Af(H_(a),r,l))}).catch(()=>{const a=r+"";e(new Af(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new Af(i.statusText||`HTTP ${r} error`,r,a))}}else e(new a1(H_(n),n))},c1=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(l1(r)?(i.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,ke(ke({},i),t)):i};async function d1(n,e,t,r,i,a){return new Promise((l,c)=>{n(t,c1(e,r,i,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>u1(d,c,r))})}async function gn(n,e,t,r,i){return d1(n,"POST",e,r,i,t)}var h1=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},Eg),e),this.fetch=Cg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await gn(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listIndexes(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await gn(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},f1=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},Eg),e),this.fetch=Cg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await gn(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await gn(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await gn(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}},p1=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},Eg),e),this.fetch=Cg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await gn(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}},g1=class extends p1{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new m1(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},m1=class extends h1{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new y1(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},y1=class extends f1{constructor(n,e,t,r,i){super(n,e,i),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},v1=class extends i1{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new s1(this.url,this.headers,n,this.fetch)}get vectors(){return new g1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new o1(this.url+"/iceberg",this.headers,this.fetch)}};const LS="2.89.0",bo=30*1e3,Pp=3,If=Pp*bo,_1="http://localhost:9999",w1="supabase.auth.token",S1={"X-Client-Info":`gotrue-js/${LS}`},Np="X-Supabase-Api-Version",MS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x1=600*1e3;class xl extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function me(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class k1 extends xl{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function E1(n){return me(n)&&n.name==="AuthApiError"}class ri extends xl{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class $r extends xl{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class hn extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C1(n){return me(n)&&n.name==="AuthSessionMissingError"}class co extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fc extends $r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class pc extends $r{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function T1(n){return me(n)&&n.name==="AuthImplicitGrantRedirectError"}class q_ extends $r{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O1 extends $r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Rp extends $r{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Df(n){return me(n)&&n.name==="AuthRetryableFetchError"}class J_ extends $r{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ap extends $r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),G_=` 	
\r=`.split(""),P1=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<G_.length;e+=1)n[G_[e].charCodeAt(0)]=-2;for(let e=0;e<zc.length;e+=1)n[zc[e].charCodeAt(0)]=e;return n})();function Q_(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(zc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(zc[r]),e.queuedBits-=6}}function jS(n,e,t){const r=P1[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Y_(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{A1(l,r,t)};for(let l=0;l<n.length;l+=1)jS(n.charCodeAt(l),i,a);return e.join("")}function N1(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function R1(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}N1(r,e)}}function A1(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function No(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)jS(n.charCodeAt(i),t,r);return new Uint8Array(e)}function I1(n){const e=[];return R1(n,t=>e.push(t)),new Uint8Array(e)}function oi(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>Q_(i,t,r)),Q_(null,t,r),e.join("")}function D1(n){return Math.round(Date.now()/1e3)+n}function L1(){return Symbol("auth-callback")}const Lt=()=>typeof window<"u"&&typeof document<"u",Gs={tested:!1,writable:!1},$S=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gs.tested)return Gs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Gs.tested=!0,Gs.writable=!0}catch{Gs.tested=!0,Gs.writable=!1}return Gs.writable};function M1(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const FS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),j1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",xo=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Qs=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Dt=async(n,e)=>{await n.removeItem(e)};class fd{constructor(){this.promise=new fd.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}fd.promiseConstructor=Promise;function Lf(n){const e=n.split(".");if(e.length!==3)throw new Ap("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!b1.test(e[r]))throw new Ap("JWT not in base64url format");return{header:JSON.parse(Y_(e[0])),payload:JSON.parse(Y_(e[1])),signature:No(e[2]),raw:{header:e[0],payload:e[1]}}}async function $1(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function F1(n,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function U1(n){return("0"+n.toString(16)).substr(-2)}function z1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,U1).join("")}async function B1(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function W1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await B1(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ho(n,e,t=!1){const r=z1();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await xo(n,`${e}-code-verifier`,i);const a=await W1(r);return[a,r===a?"plain":"s256"]}const K1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V1(n){const e=n.headers.get(Np);if(!e||!e.match(K1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H1(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function q1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(n){if(!J1.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mf(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G1(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function X_(n){return JSON.parse(JSON.stringify(n))}const Zs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Q1=[502,503,504];async function Z_(n){var e;if(!j1(n))throw new Rp(Zs(n),0);if(Q1.includes(n.status))throw new Rp(Zs(n),n.status);let t;try{t=await n.json()}catch(a){throw new ri(Zs(a),a)}let r;const i=V1(n);if(i&&i.getTime()>=MS["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new J_(Zs(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new J_(Zs(t),n.status,t.weak_password.reasons);throw new k1(Zs(t),n.status||500,r)}const Y1=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function xe(n,e,t,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Np]||(a[Np]=MS["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await X1(n,e,t+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function X1(n,e,t,r,i,a){const l=Y1(e,r,i,a);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Rp(Zs(d),0)}if(c.ok||await Z_(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await Z_(d)}}function $n(n){var e;let t=null;tO(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=D1(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function ew(n){const e=$n(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function us(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Z1(n){return{data:n,error:null}}function eO(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a}=n,l=dd(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function tw(n){return n}function tO(n){return n.access_token&&n.refresh_token&&n.expires_in}const jf=["global","local","others"];class nO{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=FS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=jf[0]){if(jf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jf.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:us})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=dd(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:eO,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:us})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:tw});if(g.error)throw g.error;const m=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(me(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){fo(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:us})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){fo(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:us})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){fo(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:us})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fo(e.userId);try{const{data:t,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:tw});if(g.error)throw g.error;const m=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(me(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}}function nw(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const po={debug:!!(globalThis&&$S()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class US extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rO extends US{}async function sO(n,e,t){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new rO(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(po.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function iO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zS(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function oO(n){return parseInt(n,16)}function aO(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function lO(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:g,uri:m,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=zS(n.address),w=g?`${g}://${r}`:r,S=n.statement?`${n.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${_}

${S}`;let k=`URI: ${m}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),c&&(k+=`
Not Before: ${c.toISOString()}`),d&&(k+=`
Request ID: ${d}`),f){let C=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);C+=`
- ${E}`}k+=C}return`${b}
${k}`}class gt extends Error{constructor({message:e,code:t,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Bc extends gt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function uO({error:n,options:e}){var t,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new gt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(BS(l)){if(a.rp.id!==l)return new gt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function cO({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new gt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(BS(r)){if(t.rpId!==r)return new gt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class dO{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const hO=new dO;function fO(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=dd(n,["challenge","user","excludeCredentials"]),a=No(e).buffer,l=Object.assign(Object.assign({},t),{id:No(t.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:No(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function pO(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=dd(n,["challenge","allowCredentials"]),i=No(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:No(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function gO(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:oi(new Uint8Array(n.response.attestationObject)),clientDataJSON:oi(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mO(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:oi(new Uint8Array(i.authenticatorData)),clientDataJSON:oi(new Uint8Array(i.clientDataJSON)),signature:oi(new Uint8Array(i.signature)),userHandle:i.userHandle?oi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function BS(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function rw(){var n,e;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function yO(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bc("Browser returned unexpected credential type",e)}:{data:null,error:new Bc("Empty credential response",e)}}catch(e){return{data:null,error:uO({error:e,options:n})}}}async function vO(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bc("Browser returned unexpected credential type",e)}:{data:null,error:new Bc("Empty credential response",e)}}catch(e){return{data:null,error:cO({error:e,options:n})}}}const _O={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wc(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const c=r[a];e(c)?r[a]=Wc(c,l):r[a]=Wc(l)}else r[a]=l}return r}function SO(n,e){return Wc(_O,n,e||{})}function bO(n,e){return Wc(wO,n,e||{})}class xO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=i??hO.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=SO(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:m}=await yO({publicKey:f,signal:d});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}case"request":{const f=bO(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:m}=await vO(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ri("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new xl("rpId is required for WebAuthn authentication")};try{if(!rw())return{data:null,error:new ri("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ri("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new xl("rpId is required for WebAuthn registration")};try{if(!rw())return{data:null,error:new ri("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var m;return(m=g.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ri("Unexpected error in register",l)}}}}iO();const kO={url:_1,storageKey:w1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sw(n,e,t){return await t()}const go={};class kl{get jwks(){var e,t;return(t=(e=go[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=go[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},kO),e);if(this.storageKey=a.storageKey,this.instanceID=(t=kl.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,kl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Lt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new nO({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=FS(a.fetch),this.lock=a.lock||sw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=sO:this.lock=sw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:$S()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=nw(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${LS}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(Lt()&&(t=M1(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),T1(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return me(t)?this._returnResult({error:t}):this._returnResult({error:new ri("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:$n}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,i;try{let a;if("email"in e){const{email:g,password:m,options:v}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await ho(this.storage,this.storageKey)),a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:m,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:$n})}else if("phone"in e){const{phone:g,password:m,options:v}=e;a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:$n})}else throw new fc("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await Dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ew})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ew})}else throw new fc("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new co;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,a,l,c,d,f,g,m,v;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:S,wallet:b,statement:k,options:C}=e;let E;if(Lt())if(typeof b=="object")E=b;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")E=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const O=new URL((t=C==null?void 0:C.url)!==null&&t!==void 0?t:window.location.href),M=await E.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=zS(M[0]);let F=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const U=await E.request({method:"eth_chainId"});F=oO(U)}const D={domain:O.host,address:I,statement:k,uri:O.href,version:"1",chainId:F,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=C==null?void 0:C.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=lO(D),w=await E.request({method:"personal_sign",params:[aO(_),I]})}try{const{data:S,error:b}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:$n});if(b)throw b;if(!S||!S.session||!S.user){const k=new co;return this._returnResult({data:{user:null,session:null},error:k})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:b})}catch(S){if(me(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,r,i,a,l,c,d,f,g,m,v,_;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:b,wallet:k,statement:C,options:E}=e;let O;if(Lt())if(typeof k=="object")O=k;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))O=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=k}const M=new URL((t=E==null?void 0:E.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const I=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),C?{statement:C}:null));let F;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")F=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)F=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)w=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),S=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(g=E==null?void 0:E.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const I=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:b,error:k}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:oi(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:$n});if(k)throw k;if(!b||!b.session||!b.user){const C=new co;return this._returnResult({data:{user:null,session:null},error:C})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(me(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const t=await Qs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new O1;const{data:a,error:l}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$n});if(await Dt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new co;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:a,nonce:l}=e,c=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:$n}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const g=new co;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,a,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ho(this.storage,this.storageKey));const{error:m}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:g}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new fc("You must provide either an email or phone number.")}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,r;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:$n});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ho(this.storage,this.storageKey));const f=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Z1});return!((a=f.data)===null||a===void 0)&&a.url&&Lt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new hn;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:c}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new fc("You must provide either an email or phone number and a type")}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<If:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Qs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Mf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=G1(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:us}):await this._useSession(async t=>{var r,i,a;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:us})})}catch(t){if(me(t))return C1(t)&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new hn;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await ho(this.storage,this.storageKey));const{data:f,error:g}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:us});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hn;const t=Date.now()/1e3;let r=t,i=!0,a=null;const{payload:l}=Lf(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(me(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Lt())throw new pc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new q_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new q_("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!l||!f)throw new pc("No session defined in URL");const g=Math.round(Date.now()/1e3),m=parseInt(c);let v=g+m;d&&(v=parseInt(d));const _=v-g;_*1e3<=bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const w=v-m;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,g);const{data:S,error:b}=await this._getUser(a);if(b)throw b;const k={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Qs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(E1(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=L1(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ho(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async a=>{var l,c,d,f,g;const{data:m,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Lt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:a}}=t;if(i)throw i;const{options:l,provider:c,token:d,access_token:f,nonce:g}=e,m=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$n}),{data:v,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new co}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(i){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)throw l;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await F1(async i=>(i>0&&await $1(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$n})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Df(a)&&Date.now()+l-r<bo})}catch(r){if(this._debug(t,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Lt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Qs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await xo(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Mf()}else if(i&&!i.user&&!i.user){const l=await Qs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Dt(this.storage,this.storageKey+"-user"),await xo(this.storage,this.storageKey,i)):i.user=Mf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<If;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${If}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Df(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fd;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new hn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),me(a)){const l={data:null,error:a};return Df(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Dt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await xo(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=X_(i);await xo(this.storage,this.storageKey,a)}else{const i=X_(t);await xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dt(this.storage,this.storageKey),await Dt(this.storage,this.storageKey+"-code-verifier"),await Dt(this.storage,this.storageKey+"-user"),this.userStorage&&await Dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bo}ms, refresh threshold is ${Pp} ticks`),i<=Pp&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof US)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await ho(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?this._returnResult({data:null,error:a}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gO(e.webauthn.credential_response):mO(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:fO(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:pO(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Lf(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new hn})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new hn});const l=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Lt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new hn});const l=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Lt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new hn})})}catch(e){if(me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hn})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+x1>i)return r;const{data:a,error:l}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});r=_.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:d}}=Lf(r);t!=null&&t.allowExpired||H1(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:l},error:null}}const g=q1(i.alg),m=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,m,l,I1(`${c}.${d}`)))throw new Ap("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}}kl.nextInstanceID={};const EO=kl,CO="2.89.0";let ul="";typeof Deno<"u"?ul="deno":typeof document<"u"?ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ul="react-native":ul="node";const TO={"X-Client-Info":`supabase-js-${ul}/${CO}`},OO={headers:TO},PO={schema:"public"},NO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RO={};function El(n){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(n)}function AO(n,e){if(El(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IO(n){var e=AO(n,"string");return El(e)=="symbol"?e:e+""}function DO(n,e,t){return(e=IO(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(t),!0).forEach(function(r){DO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const LO=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),MO=()=>Headers,jO=(n,e,t)=>{const r=LO(t),i=MO();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:n;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,lt(lt({},l),{},{headers:f}))}};function $O(n){return n.endsWith("/")?n:n+"/"}function FO(n,e){var t,r;const{db:i,auth:a,realtime:l,global:c}=n,{db:d,auth:f,realtime:g,global:m}=e,v={db:lt(lt({},d),i),auth:lt(lt({},f),a),realtime:lt(lt({},g),l),storage:{},global:lt(lt(lt({},m),c),{},{headers:lt(lt({},(t=m==null?void 0:m.headers)!==null&&t!==void 0?t:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function UO(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($O(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zO=class extends EO{constructor(n){super(n)}},BO=class{constructor(n,e,t){var r,i;this.supabaseUrl=n,this.supabaseKey=e;const a=UO(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:PO,realtime:RO,auth:lt(lt({},NO),{},{storageKey:l}),global:OO},d=FO(t??{},c);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=jO(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(lt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new ST(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new v1(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new mT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:a,flowType:l,lock:c,debug:d,throwOnError:f},g,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zO({url:this.authUrl.href,headers:lt(lt({},v),g),storageKey:a,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new $T(this.realtimeUrl.href,lt(lt({},n),{},{params:lt(lt({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const WO=(n,e,t)=>new BO(n,e,t);function KO(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VO=void 0,HO=void 0,ko=WO(VO,HO);function qO(){const[n,e]=N.useState(null),[t,r]=N.useState(null),[i,a]=N.useState(!0);return N.useEffect(()=>{ko.auth.getSession().then(({data:{session:g}})=>{r(g),e((g==null?void 0:g.user)??null),a(!1)});const{data:{subscription:f}}=ko.auth.onAuthStateChange((g,m)=>{r(m),e((m==null?void 0:m.user)??null)});return()=>f.unsubscribe()},[]),{user:n,session:t,loading:i,signInWithOtp:async f=>{const{error:g}=await ko.auth.signInWithOtp({email:f});return{error:g}},verifyOtp:async(f,g)=>{const{data:m,error:v}=await ko.auth.verifyOtp({email:f,token:g,type:"email"});return{data:m,error:v}},signOut:async()=>{const{error:f}=await ko.auth.signOut();return{error:f}}}}const WS=N.createContext(null);function JO({children:n}){const e=qO();return V.jsx(WS.Provider,{value:e,children:n})}function KS(){const n=N.useContext(WS);if(!n)throw new Error("useAuthContext must be used within AuthProvider");return n}/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ow="popstate";function GO(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Ip("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Cl(i)}return YO(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QO(){return Math.random().toString(36).substring(2,10)}function aw(n,e){return{usr:n.state,key:n.key,idx:e}}function Ip(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:t,key:e&&e.key||r||QO()}}function Cl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function YO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function m(){c="POP";let b=g(),k=b==null?null:b-f;f=b,d&&d({action:c,location:S.location,delta:k})}function v(b,k){c="PUSH";let C=Ip(S.location,b,k);f=g()+1;let E=aw(C,f),O=S.createHref(C);try{l.pushState(E,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}a&&d&&d({action:c,location:S.location,delta:1})}function _(b,k){c="REPLACE";let C=Ip(S.location,b,k);f=g();let E=aw(C,f),O=S.createHref(C);l.replaceState(E,"",O),a&&d&&d({action:c,location:S.location,delta:0})}function w(b){return XO(b)}let S={get action(){return c},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ow,m),d=b,()=>{i.removeEventListener(ow,m),d=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let k=w(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:_,go(b){return l.go(b)}};return S}function XO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Cl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function VS(n,e,t="/"){return ZO(n,e,t,!1)}function ZO(n,e,t,r){let i=typeof e=="string"?Zo(e):e,a=Dr(i.pathname||"/",t);if(a==null)return null;let l=HS(n);eP(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=dP(a);c=uP(l[d],f,r)}return c}function HS(n,e=[],t=[],r="",i=!1){let a=(l,c,d=i,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;nt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let m=Rr([r,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HS(l.children,e,v,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:aP(m,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let f of qS(l.path))a(l,c,!0,f)}),e}function qS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=qS(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function eP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var tP=/^:[\w-]+$/,nP=3,rP=2,sP=1,iP=10,oP=-2,lw=n=>n==="*";function aP(n,e){let t=n.split("/"),r=t.length;return t.some(lw)&&(r+=oP),e&&(r+=rP),t.filter(i=>!lw(i)).reduce((i,a)=>i+(tP.test(a)?nP:a===""?sP:iP),r)}function lP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function uP(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",m=Kc({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!m&&f&&t&&!r[r.length-1].route.index&&(m=Kc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Rr([a,m.pathname]),pathnameBase:gP(Rr([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=Rr([a,m.pathnameBase]))}return l}function Kc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:m},v)=>{if(g==="*"){let w=c[v]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const _=c[v];return m&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function cP(n,e=!1,t=!0){Tn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var JS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hP=n=>JS.test(n);function fP(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Zo(n):n,a;if(t)if(hP(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=uw(t.substring(1),"/"):a=uw(t,e)}else a=e;return{pathname:a,search:mP(r),hash:yP(i)}}function uw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function $f(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tg(n){let e=pP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Og(n,e,t,r=!1){let i;typeof n=="string"?i=Zo(n):(i={...n},nt(!i.pathname||!i.pathname.includes("?"),$f("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),$f("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),$f("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=fP(i,c),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Rr=n=>n.join("/").replace(/\/\/+/g,"/"),gP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,vP=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function _P(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function wP(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function QS(n,e){let t=n;if(typeof t!="string"||!JS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(GS)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),c=Dr(l.pathname,e);l.origin===a.origin&&c!=null?t=c+l.search+l.hash:i=!0}catch{Tn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YS=["POST","PUT","PATCH","DELETE"];new Set(YS);var SP=["GET",...YS];new Set(SP);var ea=N.createContext(null);ea.displayName="DataRouter";var pd=N.createContext(null);pd.displayName="DataRouterState";var bP=N.createContext(!1),XS=N.createContext({isTransitioning:!1});XS.displayName="ViewTransition";var xP=N.createContext(new Map);xP.displayName="Fetchers";var kP=N.createContext(null);kP.displayName="Await";var yn=N.createContext(null);yn.displayName="Navigation";var Bl=N.createContext(null);Bl.displayName="Location";var Pn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var Pg=N.createContext(null);Pg.displayName="RouteError";var ZS="REACT_ROUTER_ERROR",EP="REDIRECT",CP="ROUTE_ERROR_RESPONSE";function TP(n){if(n.startsWith(`${ZS}:${EP}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function OP(n){if(n.startsWith(`${ZS}:${CP}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vP(e.status,e.statusText,e.data)}catch{}}function PP(n,{relative:e}={}){nt(ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=N.useContext(yn),{hash:i,pathname:a,search:l}=Wl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Rr([t,a])),r.createHref({pathname:c,search:l,hash:i})}function ta(){return N.useContext(Bl)!=null}function Rs(){return nt(ta(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Bl).location}var eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tb(n){N.useContext(yn).static||N.useLayoutEffect(n)}function na(){let{isDataRoute:n}=N.useContext(Pn);return n?KP():NP()}function NP(){nt(ta(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(ea),{basename:e,navigator:t}=N.useContext(yn),{matches:r}=N.useContext(Pn),{pathname:i}=Rs(),a=JSON.stringify(Tg(r)),l=N.useRef(!1);return tb(()=>{l.current=!0}),N.useCallback((d,f={})=>{if(Tn(l.current,eb),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=Og(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Rr([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,a,i,n])}var RP=N.createContext(null);function AP(n){let e=N.useContext(Pn).outlet;return N.useMemo(()=>e&&N.createElement(RP.Provider,{value:n},e),[e,n])}function nb(){let{matches:n}=N.useContext(Pn),e=n[n.length-1];return e?e.params:{}}function Wl(n,{relative:e}={}){let{matches:t}=N.useContext(Pn),{pathname:r}=Rs(),i=JSON.stringify(Tg(t));return N.useMemo(()=>Og(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function IP(n,e){return rb(n,e)}function rb(n,e,t,r,i){var C;nt(ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(yn),{matches:l}=N.useContext(Pn),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",m=c&&c.route;{let E=m&&m.path||"";ib(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=Rs(),_;if(e){let E=typeof e=="string"?Zo(e):e;nt(g==="/"||((C=E.pathname)==null?void 0:C.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),_=E}else _=v;let w=_.pathname||"/",S=w;if(g!=="/"){let E=g.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=VS(n,{pathname:S});Tn(m||b!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Tn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=$P(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:Rr([g,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:Rr([g,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,t,r,i);return e&&k?N.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function DP(){let n=WP(),e=_P(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,l)}var LP=N.createElement(DP,null),sb=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=OP(n.digest);t&&(n=t)}let e=n!==void 0?N.createElement(Pn.Provider,{value:this.props.routeContext},N.createElement(Pg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(MP,{error:n},e):e}};sb.contextType=bP;var Ff=new WeakMap;function MP({children:n,error:e}){let{basename:t}=N.useContext(yn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=TP(e.digest);if(r){let i=Ff.get(e);if(i)throw i;let a=QS(r.location,t);if(GS&&!Ff.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Ff.set(e,l),l}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function jP({routeContext:n,match:e,children:t}){let r=N.useContext(ea);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Pn.Provider,{value:n},t)}function $P(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let g=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,d=-1;if(t)for(let g=0;g<a.length;g++){let m=a[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=g),m.route.id){let{loaderData:v,errors:_}=t,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=t&&r?(g,m)=>{var v,_;r(g,{location:t.location,params:((_=(v=t.matches)==null?void 0:v[0])==null?void 0:_.params)??{},unstable_pattern:wP(t.matches),errorInfo:m})}:void 0;return a.reduceRight((g,m,v)=>{let _,w=!1,S=null,b=null;t&&(_=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||LP,c&&(d<0&&v===0?(ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,b=null):d===v&&(w=!0,b=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,v+1)),C=()=>{let E;return _?E=S:w?E=b:m.route.Component?E=N.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=g,N.createElement(jP,{match:m,routeContext:{outlet:g,matches:k,isDataRoute:t!=null},children:E})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?N.createElement(sb,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):C()},null)}function Ng(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FP(n){let e=N.useContext(ea);return nt(e,Ng(n)),e}function UP(n){let e=N.useContext(pd);return nt(e,Ng(n)),e}function zP(n){let e=N.useContext(Pn);return nt(e,Ng(n)),e}function Rg(n){let e=zP(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BP(){return Rg("useRouteId")}function WP(){var r;let n=N.useContext(Pg),e=UP("useRouteError"),t=Rg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function KP(){let{router:n}=FP("useNavigate"),e=Rg("useNavigate"),t=N.useRef(!1);return tb(()=>{t.current=!0}),N.useCallback(async(i,a={})=>{Tn(t.current,eb),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var cw={};function ib(n,e,t){!e&&!cw[n]&&(cw[n]=!0,Tn(!1,t))}N.memo(VP);function VP({routes:n,future:e,state:t,onError:r}){return rb(n,void 0,t,r,e)}function HP({to:n,replace:e,state:t,relative:r}){nt(ta(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(yn);Tn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(Pn),{pathname:l}=Rs(),c=na(),d=Og(n,Tg(a),l,r==="path"),f=JSON.stringify(d);return N.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function dw(n){return AP(n.context)}function ei(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){nt(!ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[c,i,a,l]);typeof t=="string"&&(t=Zo(t));let{pathname:f="/",search:g="",hash:m="",state:v=null,key:_="default"}=t,w=N.useMemo(()=>{let S=Dr(f,c);return S==null?null:{location:{pathname:S,search:g,hash:m,state:v,key:_},navigationType:r}},[c,f,g,m,v,_,r]);return Tn(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(yn.Provider,{value:d},N.createElement(Bl.Provider,{children:e,value:w}))}function JP({children:n,location:e}){return IP(Dp(n),e)}function Dp(n,e=[]){let t=[];return N.Children.forEach(n,(r,i)=>{if(!N.isValidElement(r))return;let a=[...e,i];if(r.type===N.Fragment){t.push.apply(t,Dp(r.props.children,a));return}nt(r.type===ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Dp(r.props.children,a)),t.push(l)}),t}var Nc="get",Rc="application/x-www-form-urlencoded";function gd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function GP(n){return gd(n)&&n.tagName.toLowerCase()==="button"}function QP(n){return gd(n)&&n.tagName.toLowerCase()==="form"}function YP(n){return gd(n)&&n.tagName.toLowerCase()==="input"}function XP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZP(n,e){return n.button===0&&(!e||e==="_self")&&!XP(n)}var gc=null;function eN(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var tN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uf(n){return n!=null&&!tN.has(n)?(Tn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):n}function nN(n,e){let t,r,i,a,l;if(QP(n)){let c=n.getAttribute("action");r=c?Dr(c,e):null,t=n.getAttribute("method")||Nc,i=Uf(n.getAttribute("enctype"))||Rc,a=new FormData(n)}else if(GP(n)||YP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?Dr(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Nc,i=Uf(n.getAttribute("formenctype"))||Uf(c.getAttribute("enctype"))||Rc,a=new FormData(c,n),!eN()){let{name:f,type:g,value:m}=n;if(g==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nc,r=null,i=Rc,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ag(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rN(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Dr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function sN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oN(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await sN(a,t);return l.links?l.links():[]}return[]}));return cN(r.flat(1).filter(iN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hw(n,e,t,r,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{var m;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function aN(n,e,{includeHydrateFallback:t}={}){return lN(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function lN(n){return[...new Set(n)]}function uN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function cN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(uN(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function ob(){let n=N.useContext(ea);return Ag(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dN(){let n=N.useContext(pd);return Ag(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ig=N.createContext(void 0);Ig.displayName="FrameworkContext";function ab(){let n=N.useContext(Ig);return Ag(n,"You must render this element inside a <HydratedRouter> element"),n}function hN(n,e){let t=N.useContext(Ig),[r,i]=N.useState(!1),[a,l]=N.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:m}=e,v=N.useRef(null);N.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=k=>{k.forEach(C=>{l(C.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[n]),N.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,v,{}]:[a,v,{onFocus:tl(c,_),onBlur:tl(d,w),onMouseEnter:tl(f,_),onMouseLeave:tl(g,w),onTouchStart:tl(m,_)}]:[!1,v,{}]}function tl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function fN({page:n,...e}){let{router:t}=ob(),r=N.useMemo(()=>VS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?N.createElement(gN,{page:n,matches:r,...e}):null}function pN(n){let{manifest:e,routeModules:t}=ab(),[r,i]=N.useState([]);return N.useEffect(()=>{let a=!1;return oN(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function gN({page:n,matches:e,...t}){let r=Rs(),{manifest:i,routeModules:a}=ab(),{basename:l}=ob(),{loaderData:c,matches:d}=dN(),f=N.useMemo(()=>hw(n,e,d,i,r,"data"),[n,e,d,i,r]),g=N.useMemo(()=>hw(n,e,d,i,r,"assets"),[n,e,d,i,r]),m=N.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(k=>{var E;let C=i.routes[k.route.id];!C||!C.hasLoader||(!f.some(O=>O.route.id===k.route.id)&&k.route.id in c&&((E=a[k.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?S=!0:w.add(k.route.id))}),w.size===0)return[];let b=rN(n,l,"data");return S&&w.size>0&&b.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[b.pathname+b.search]},[l,c,r,i,f,e,n,a]),v=N.useMemo(()=>aN(g,i),[g,i]),_=pN(g);return N.createElement(N.Fragment,null,m.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:S})=>N.createElement("link",{key:w,nonce:t.nonce,...S})))}function mN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yN&&(window.__reactRouterVersion="7.11.0")}catch{}function vN({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=N.useRef();i.current==null&&(i.current=GO({window:r,v5Compat:!0}));let a=i.current,[l,c]=N.useState({action:a.action,location:a.location}),d=N.useCallback(f=>{t===!1?c(f):N.startTransition(()=>c(f))},[t]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(qP,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ub=N.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:v,..._},w){let{basename:S,unstable_useTransitions:b}=N.useContext(yn),k=typeof f=="string"&&lb.test(f),C=QS(f,S);f=C.to;let E=PP(f,{relative:i}),[O,M,I]=hN(r,_),F=SN(f,{replace:l,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:b});function D(W){e&&e(W),W.defaultPrevented||F(W)}let U=N.createElement("a",{..._,...I,href:C.absoluteURL||E,onClick:C.isExternal||a?e:D,ref:mN(w,M),target:d,"data-discover":!k&&t==="render"?"true":void 0});return O&&!k?N.createElement(N.Fragment,null,U,N.createElement(fN,{page:E})):U});ub.displayName="Link";var Ac=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},g){let m=Wl(l,{relative:f.relative}),v=Rs(),_=N.useContext(pd),{navigator:w,basename:S}=N.useContext(yn),b=_!=null&&CN(m)&&c===!0,k=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,C=v.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(C=C.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&S&&(E=Dr(E,S)||E);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let M=C===k||!i&&C.startsWith(k)&&C.charAt(O)==="/",I=E!=null&&(E===k||!i&&E.startsWith(k)&&E.charAt(k.length)==="/"),F={isActive:M,isPending:I,isTransitioning:b},D=M?e:void 0,U;typeof r=="function"?U=r(F):U=[r,M?"active":null,I?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a(F):a;return N.createElement(ub,{...f,"aria-current":D,className:U,ref:g,style:W,to:l,viewTransition:c},typeof d=="function"?d(F):d)});Ac.displayName="NavLink";var _N=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Nc,action:c,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:v,..._},w)=>{let{unstable_useTransitions:S}=N.useContext(yn),b=kN(),k=EN(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&lb.test(c),O=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let I=M.nativeEvent.submitter,F=(I==null?void 0:I.getAttribute("formmethod"))||l,D=()=>b(I||M.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:i,state:a,relative:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:v});S&&t!==!1?N.startTransition(()=>D()):D()};return N.createElement("form",{ref:w,method:C,action:k,onSubmit:r?d:O,..._,"data-discover":!E&&n==="render"?"true":void 0})});_N.displayName="Form";function wN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cb(n){let e=N.useContext(ea);return nt(e,wN(n)),e}function SN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=na(),g=Rs(),m=Wl(n,{relative:a});return N.useCallback(v=>{if(ZP(v,e)){v.preventDefault();let _=t!==void 0?t:Cl(g)===Cl(m),w=()=>f(n,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});d?N.startTransition(()=>w()):w()}},[g,f,m,t,r,e,n,i,a,l,c,d])}var bN=0,xN=()=>`__${String(++bN)}__`;function kN(){let{router:n}=cb("useSubmit"),{basename:e}=N.useContext(yn),t=BP(),r=n.fetch,i=n.navigate;return N.useCallback(async(a,l={})=>{let{action:c,method:d,encType:f,formData:g,body:m}=nN(a,e);if(l.navigate===!1){let v=l.fetcherKey||xN();await r(v,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function EN(n,{relative:e}={}){let{basename:t}=N.useContext(yn),r=N.useContext(Pn);nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Wl(n||".",{relative:e})},l=Rs();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Rr([t,a.pathname])),Cl(a)}function CN(n,{relative:e}={}){let t=N.useContext(XS);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cb("useViewTransitionState"),i=Wl(n,{relative:e});if(!t.isTransitioning)return!1;let a=Dr(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Dr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Kc(i.pathname,l)!=null||Kc(i.pathname,a)!=null}var fw=hS();function pw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function TN(...n){return e=>{let t=!1;const r=n.map(i=>{const a=pw(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():pw(n[i],null)}}}}var ON=Symbol.for("react.lazy"),Vc=EC[" use ".trim().toString()];function PN(n){return typeof n=="object"&&n!==null&&"then"in n}function db(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===ON&&"_payload"in n&&PN(n._payload)}function NN(n){const e=AN(n),t=N.forwardRef((r,i)=>{let{children:a,...l}=r;db(a)&&typeof Vc=="function"&&(a=Vc(a._payload));const c=N.Children.toArray(a),d=c.find(DN);if(d){const f=d.props.children,g=c.map(m=>m===d?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:m);return V.jsx(e,{...l,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,g):null})}return V.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var RN=NN("Slot");function AN(n){const e=N.forwardRef((t,r)=>{let{children:i,...a}=t;if(db(i)&&typeof Vc=="function"&&(i=Vc(i._payload)),N.isValidElement(i)){const l=MN(i),c=LN(a,i.props);return i.type!==N.Fragment&&(c.ref=r?TN(r,l):l),N.cloneElement(i,c)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var IN=Symbol("radix.slottable");function DN(n){return N.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===IN}function LN(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function MN(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function hb(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=hb(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function fb(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=hb(n))&&(r&&(r+=" "),r+=e);return r}const gw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,mw=fb,jN=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return mw(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(f=>{const g=t==null?void 0:t[f],m=a==null?void 0:a[f];if(g===null)return null;const v=gw(g)||gw(m);return i[f][v]}),c=t&&Object.entries(t).reduce((f,g)=>{let[m,v]=g;return v===void 0||(f[m]=v),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:m,className:v,..._}=g;return Object.entries(_).every(w=>{let[S,b]=w;return Array.isArray(b)?b.includes({...a,...c}[S]):{...a,...c}[S]===b})?[...f,m,v]:f},[]);return mw(n,l,d,t==null?void 0:t.class,t==null?void 0:t.className)},$N=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},FN=(n,e)=>({classGroupId:n,validator:e}),pb=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Hc="-",yw=[],UN="arbitrary..",zN=n=>{const e=WN(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return BN(l);const c=l.split(Hc),d=c[0]===""&&c.length>1?1:0;return gb(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=t[l];return d?f?$N(f,d):d:f||yw}return t[l]||yw}}},gb=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const i=n[e],a=t.nextPart.get(i);if(a){const f=gb(n,e+1,a);if(f)return f}const l=t.validators;if(l===null)return;const c=e===0?n.join(Hc):n.slice(e).join(Hc),d=l.length;for(let f=0;f<d;f++){const g=l[f];if(g.validator(c))return g.classGroupId}},BN=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?UN+r:void 0})(),WN=n=>{const{theme:e,classGroups:t}=n;return KN(t,e)},KN=(n,e)=>{const t=pb();for(const r in n){const i=n[r];Dg(i,t,r,e)}return t},Dg=(n,e,t,r)=>{const i=n.length;for(let a=0;a<i;a++){const l=n[a];VN(l,e,t,r)}},VN=(n,e,t,r)=>{if(typeof n=="string"){HN(n,e,t);return}if(typeof n=="function"){qN(n,e,t,r);return}JN(n,e,t,r)},HN=(n,e,t)=>{const r=n===""?e:mb(e,n);r.classGroupId=t},qN=(n,e,t,r)=>{if(GN(n)){Dg(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(FN(t,n))},JN=(n,e,t,r)=>{const i=Object.entries(n),a=i.length;for(let l=0;l<a;l++){const[c,d]=i[l];Dg(d,mb(e,c),t,r)}},mb=(n,e)=>{let t=n;const r=e.split(Hc),i=r.length;for(let a=0;a<i;a++){const l=r[a];let c=t.nextPart.get(l);c||(c=pb(),t.nextPart.set(l,c)),t=c}return t},GN=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,QN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const i=(a,l)=>{t[a]=l,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let l=t[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return i(a,l),l},set(a,l){a in t?t[a]=l:i(a,l)}}},Lp="!",vw=":",YN=[],_w=(n,e,t,r,i)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:i}),XN=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let l=0,c=0,d=0,f;const g=i.length;for(let S=0;S<g;S++){const b=i[S];if(l===0&&c===0){if(b===vw){a.push(i.slice(d,S)),d=S+1;continue}if(b==="/"){f=S;continue}}b==="["?l++:b==="]"?l--:b==="("?c++:b===")"&&c--}const m=a.length===0?i:i.slice(d);let v=m,_=!1;m.endsWith(Lp)?(v=m.slice(0,-1),_=!0):m.startsWith(Lp)&&(v=m.slice(1),_=!0);const w=f&&f>d?f-d:void 0;return _w(a,_,v,w)};if(e){const i=e+vw,a=r;r=l=>l.startsWith(i)?a(l.slice(i.length)):_w(YN,!1,l,void 0,!0)}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},ZN=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let i=[];for(let a=0;a<t.length;a++){const l=t[a],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},eR=n=>({cache:QN(n.cacheSize),parseClassName:XN(n),sortModifiers:ZN(n),...zN(n)}),tR=/\s+/,nR=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],c=n.trim().split(tR);let d="";for(let f=c.length-1;f>=0;f-=1){const g=c[f],{isExternal:m,modifiers:v,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:S}=t(g);if(m){d=g+(d.length>0?" "+d:d);continue}let b=!!S,k=r(b?w.substring(0,S):w);if(!k){if(!b){d=g+(d.length>0?" "+d:d);continue}if(k=r(w),!k){d=g+(d.length>0?" "+d:d);continue}b=!1}const C=v.length===0?"":v.length===1?v[0]:a(v).join(":"),E=_?C+Lp:C,O=E+k;if(l.indexOf(O)>-1)continue;l.push(O);const M=i(k,b);for(let I=0;I<M.length;++I){const F=M[I];l.push(E+F)}d=g+(d.length>0?" "+d:d)}return d},rR=(...n)=>{let e=0,t,r,i="";for(;e<n.length;)(t=n[e++])&&(r=yb(t))&&(i&&(i+=" "),i+=r);return i},yb=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=yb(n[r]))&&(t&&(t+=" "),t+=e);return t},sR=(n,...e)=>{let t,r,i,a;const l=d=>{const f=e.reduce((g,m)=>m(g),n());return t=eR(f),r=t.cache.get,i=t.cache.set,a=c,c(d)},c=d=>{const f=r(d);if(f)return f;const g=nR(d,t);return i(d,g),g};return a=l,(...d)=>a(rR(...d))},iR=[],_t=n=>{const e=t=>t[n]||iR;return e.isThemeGetter=!0,e},vb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_b=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oR=/^\d+\/\d+$/,aR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=n=>oR.test(n),Le=n=>!!n&&!Number.isNaN(Number(n)),os=n=>!!n&&Number.isInteger(Number(n)),zf=n=>n.endsWith("%")&&Le(n.slice(0,-1)),vr=n=>aR.test(n),hR=()=>!0,fR=n=>lR.test(n)&&!uR.test(n),wb=()=>!1,pR=n=>cR.test(n),gR=n=>dR.test(n),mR=n=>!ue(n)&&!ce(n),yR=n=>ra(n,xb,wb),ue=n=>vb.test(n),Ys=n=>ra(n,kb,fR),Bf=n=>ra(n,bR,Le),ww=n=>ra(n,Sb,wb),vR=n=>ra(n,bb,gR),mc=n=>ra(n,Eb,pR),ce=n=>_b.test(n),nl=n=>sa(n,kb),_R=n=>sa(n,xR),Sw=n=>sa(n,Sb),wR=n=>sa(n,xb),SR=n=>sa(n,bb),yc=n=>sa(n,Eb,!0),ra=(n,e,t)=>{const r=vb.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},sa=(n,e,t=!1)=>{const r=_b.exec(n);return r?r[1]?e(r[1]):t:!1},Sb=n=>n==="position"||n==="percentage",bb=n=>n==="image"||n==="url",xb=n=>n==="length"||n==="size"||n==="bg-size",kb=n=>n==="length",bR=n=>n==="number",xR=n=>n==="family-name",Eb=n=>n==="shadow",kR=()=>{const n=_t("color"),e=_t("font"),t=_t("text"),r=_t("font-weight"),i=_t("tracking"),a=_t("leading"),l=_t("breakpoint"),c=_t("container"),d=_t("spacing"),f=_t("radius"),g=_t("shadow"),m=_t("inset-shadow"),v=_t("text-shadow"),_=_t("drop-shadow"),w=_t("blur"),S=_t("perspective"),b=_t("aspect"),k=_t("ease"),C=_t("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...O(),ce,ue],I=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],D=()=>[ce,ue,d],U=()=>[mo,"full","auto",...D()],W=()=>[os,"none","subgrid",ce,ue],re=()=>["auto",{span:["full",os,ce,ue]},os,ce,ue],we=()=>[os,"auto",ce,ue],fe=()=>["auto","min","max","fr",ce,ue],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ie=()=>["start","end","center","stretch","center-safe","end-safe"],Re=()=>["auto",...D()],Oe=()=>[mo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],B=()=>[n,ce,ue],de=()=>[...O(),Sw,ww,{position:[ce,ue]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",wR,yR,{size:[ce,ue]}],q=()=>[zf,nl,Ys],ge=()=>["","none","full",f,ce,ue],ye=()=>["",Le,nl,Ys],Ne=()=>["solid","dashed","dotted","double"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[Le,zf,Sw,ww],je=()=>["","none",w,ce,ue],ze=()=>["none",Le,ce,ue],ut=()=>["none",Le,ce,ue],Ur=()=>[Le,ce,ue],Ls=()=>[mo,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vr],breakpoint:[vr],color:[hR],container:[vr],"drop-shadow":[vr],ease:["in","out","in-out"],font:[mR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vr],shadow:[vr],spacing:["px",Le],text:[vr],"text-shadow":[vr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mo,ue,ce,b]}],container:["container"],columns:[{columns:[Le,ue,ce,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[os,"auto",ce,ue]}],basis:[{basis:[mo,"full","auto",c,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,mo,"auto","initial","none",ue]}],grow:[{grow:["",Le,ce,ue]}],shrink:[{shrink:["",Le,ce,ue]}],order:[{order:[os,"first","last","none",ce,ue]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...Ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ie()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...Ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...Ie(),"baseline"]}],"place-self":[{"place-self":["auto",...Ie()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:Re()}],mx:[{mx:Re()}],my:[{my:Re()}],ms:[{ms:Re()}],me:[{me:Re()}],mt:[{mt:Re()}],mr:[{mr:Re()}],mb:[{mb:Re()}],ml:[{ml:Re()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:Oe()}],w:[{w:[c,"screen",...Oe()]}],"min-w":[{"min-w":[c,"screen","none",...Oe()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Oe()]}],h:[{h:["screen","lh",...Oe()]}],"min-h":[{"min-h":["screen","lh","none",...Oe()]}],"max-h":[{"max-h":["screen","lh",...Oe()]}],"font-size":[{text:["base",t,nl,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,Bf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zf,ue]}],"font-family":[{font:[_R,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ce,ue]}],"line-clamp":[{"line-clamp":[Le,"none",ce,Bf]}],leading:[{leading:[a,...D()]}],"list-image":[{"list-image":["none",ce,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",ce,Ys]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Le,"auto",ce,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},os,ce,ue],radial:["",ce,ue],conic:[os,ce,ue]},SR,vR]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,ce,ue]}],"outline-w":[{outline:["",Le,nl,Ys]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",g,yc,mc]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",m,yc,mc]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Le,Ys]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",v,yc,mc]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Le,ce,ue]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[ce,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,ue]}],filter:[{filter:["","none",ce,ue]}],blur:[{blur:je()}],brightness:[{brightness:[Le,ce,ue]}],contrast:[{contrast:[Le,ce,ue]}],"drop-shadow":[{"drop-shadow":["","none",_,yc,mc]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Le,ce,ue]}],"hue-rotate":[{"hue-rotate":[Le,ce,ue]}],invert:[{invert:["",Le,ce,ue]}],saturate:[{saturate:[Le,ce,ue]}],sepia:[{sepia:["",Le,ce,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,ue]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[Le,ce,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Le,ce,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,ce,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,ce,ue]}],"backdrop-invert":[{"backdrop-invert":["",Le,ce,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Le,ce,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Le,ce,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,ce,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",ce,ue]}],ease:[{ease:["linear","initial",k,ce,ue]}],delay:[{delay:[Le,ce,ue]}],animate:[{animate:["none",C,ce,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,ce,ue]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:ut()}],"scale-x":[{"scale-x":ut()}],"scale-y":[{"scale-y":ut()}],"scale-z":[{"scale-z":ut()}],"scale-3d":["scale-3d"],skew:[{skew:Ur()}],"skew-x":[{"skew-x":Ur()}],"skew-y":[{"skew-y":Ur()}],transform:[{transform:[ce,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ls()}],"translate-x":[{"translate-x":Ls()}],"translate-y":[{"translate-y":Ls()}],"translate-z":[{"translate-z":Ls()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,ue]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Le,nl,Ys,Bf]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ER=sR(kR);function ks(...n){return ER(fb(n))}const CR=jN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 touch-target",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tl=N.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?RN:"button";return V.jsx(l,{className:ks(CR({variant:e,size:t,className:n})),ref:a,...i})});Tl.displayName="Button";const md=N.forwardRef(({className:n,type:e,...t},r)=>V.jsx("input",{type:e,className:ks("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));md.displayName="Input";function TR({length:n=6,onComplete:e,disabled:t}){const[r,i]=N.useState(Array(n).fill("")),a=N.useRef([]),l=(f,g)=>{var _;if(!/^\d*$/.test(g))return;const m=[...r];m[f]=g.slice(-1),i(m),g&&f<n-1&&((_=a.current[f+1])==null||_.focus());const v=m.join("");v.length===n&&e(v)},c=(f,g)=>{var m;g.key==="Backspace"&&!r[f]&&f>0&&((m=a.current[f-1])==null||m.focus())},d=f=>{f.preventDefault();const g=f.clipboardData.getData("text").slice(0,n);if(!/^\d+$/.test(g))return;const m=[...r];g.split("").forEach((v,_)=>{m[_]=v}),i(m),g.length===n&&e(g)};return V.jsx("div",{className:"flex gap-2 justify-center",children:r.map((f,g)=>V.jsx(md,{ref:m=>a.current[g]=m,type:"text",inputMode:"numeric",maxLength:1,value:f,onChange:m=>l(g,m.target.value),onKeyDown:m=>c(g,m),onPaste:d,disabled:t,className:ks("w-12 h-14 text-center text-2xl font-mono","focus:ring-2 focus:ring-primary")},g))})}function OR(){const[n,e]=N.useState("email"),[t,r]=N.useState(""),[i,a]=N.useState(!1),[l,c]=N.useState(null),{signInWithOtp:d,verifyOtp:f}=KS(),g=na(),m=async _=>{_.preventDefault(),a(!0),c(null);const{error:w}=await d(t);if(w){c(w.message),a(!1);return}e("otp"),a(!1)},v=async _=>{a(!0),c(null);const{error:w}=await f(t,_);if(w){c(w.message),a(!1);return}g("/")};return V.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:V.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[V.jsxs("div",{className:"text-center",children:[V.jsx("h1",{className:"text-2xl font-bold",children:"Notes"}),V.jsx("p",{className:"text-muted-foreground mt-2",children:n==="email"?"Enter your email to sign in":"Enter the code sent to your email"})]}),l&&V.jsx("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:l}),n==="email"?V.jsxs("form",{onSubmit:m,className:"space-y-4",children:[V.jsx(md,{type:"email",placeholder:"you@example.com",value:t,onChange:_=>r(_.target.value),required:!0,disabled:i,autoFocus:!0}),V.jsx(Tl,{type:"submit",className:"w-full",disabled:i,children:i?"Sending...":"Continue"})]}):V.jsxs("div",{className:"space-y-4",children:[V.jsx(TR,{onComplete:v,disabled:i}),V.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Didn't receive a code?"," ",V.jsx("button",{type:"button",onClick:()=>e("email"),className:"text-primary underline",children:"Try again"})]})]})]})})}function bw(){if(typeof window>"u")return{isIOS:!1,isAndroid:!1,isMobile:!1,isHighDPI:!1,hasTouchScreen:!1,hasCoarsePointer:!1,hasFinePointer:!0,isPortrait:!0,isLandscape:!1};const n=navigator.userAgent;return{isIOS:/iPad|iPhone|iPod/.test(n),isAndroid:/Android/.test(n),isMobile:/Mobi|Android|iPhone|iPad|iPod/.test(n),isHighDPI:window.devicePixelRatio>=2,hasTouchScreen:"ontouchstart"in window||navigator.maxTouchPoints>0,hasCoarsePointer:window.matchMedia("(pointer: coarse)").matches,hasFinePointer:window.matchMedia("(pointer: fine)").matches,isPortrait:window.matchMedia("(orientation: portrait)").matches,isLandscape:window.matchMedia("(orientation: landscape)").matches}}function Cb(){const[n,e]=N.useState(bw);return N.useEffect(()=>{const t=()=>e(bw());window.addEventListener("resize",t),window.addEventListener("orientationchange",t);const r=window.matchMedia("(orientation: portrait)"),i=window.matchMedia("(pointer: coarse)");return r.addEventListener("change",t),i.addEventListener("change",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t),r.removeEventListener("change",t),i.removeEventListener("change",t)}},[]),n}async function PR(){const{data:{session:n}}=await ko.auth.getSession();return{Authorization:`Bearer ${n==null?void 0:n.access_token}`,"Content-Type":"application/json"}}async function rl(n,e){const t=await PR(),r=await fetch(`/api${n}`,{...e,headers:{...t,...e==null?void 0:e.headers}});if(!r.ok){const i=await r.json();throw new Error(i.error||"Request failed")}return r.json()}const Kl={notes:{list:()=>rl("/notes"),get:n=>rl(`/notes/${n}`),create:n=>rl("/notes",{method:"POST",body:JSON.stringify(n)}),update:(n,e)=>rl(`/notes/${n}`,{method:"PATCH",body:JSON.stringify(e)}),delete:n=>rl(`/notes/${n}`,{method:"DELETE"})}};function NR(){return ES({queryKey:["notes"],queryFn:Kl.notes.list})}function RR(){const n=Ul();return Sg({mutationFn:Kl.notes.create,onSuccess:()=>{n.invalidateQueries({queryKey:["notes"]})}})}function AR(){const n=Ul();return Sg({mutationFn:Kl.notes.delete,onMutate:async e=>{await n.cancelQueries({queryKey:["notes"]});const t=n.getQueryData(["notes"]);return n.setQueryData(["notes"],r=>r==null?void 0:r.filter(i=>i.id!==e)),{previous:t}},onError:(e,t,r)=>{n.setQueryData(["notes"],r==null?void 0:r.previous)},onSettled:()=>{n.invalidateQueries({queryKey:["notes"]})}})}const vc=43200,xw=1440,kw=Symbol.for("constructDateFrom");function Lg(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&kw in n?n[kw](e):n instanceof Date?new n.constructor(e):new Date(e)}function Os(n,e){return Lg(n,n)}let IR={};function DR(){return IR}function Ew(n){const e=Os(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Mg(n,...e){const t=Lg.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function Ic(n,e){const t=+Os(n)-+Os(e);return t<0?-1:t>0?1:t}function LR(n){return Lg(n,Date.now())}function MR(n,e,t){const[r,i]=Mg(t==null?void 0:t.in,n,e),a=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return a*12+l}function jR(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function $R(n,e){return+Os(n)-+Os(e)}function FR(n,e){const t=Os(n);return t.setHours(23,59,59,999),t}function UR(n,e){const t=Os(n),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function zR(n,e){const t=Os(n);return+FR(t)==+UR(t)}function BR(n,e,t){const[r,i,a]=Mg(t==null?void 0:t.in,n,n,e),l=Ic(i,a),c=Math.abs(MR(i,a));if(c<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*c);let d=Ic(i,a)===-l;zR(r)&&c===1&&Ic(r,a)===1&&(d=!1);const f=l*(c-+d);return f===0?0:f}function WR(n,e,t){const r=$R(n,e)/1e3;return jR(t==null?void 0:t.roundingMethod)(r)}const KR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VR=(n,e,t)=>{let r;const i=KR[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Wf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const HR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GR={date:Wf({formats:HR,defaultWidth:"full"}),time:Wf({formats:qR,defaultWidth:"full"}),dateTime:Wf({formats:JR,defaultWidth:"full"})},QR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YR=(n,e,t,r)=>QR[n];function sl(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const XR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sA=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},iA={ordinalNumber:sA,era:sl({values:XR,defaultWidth:"wide"}),quarter:sl({values:ZR,defaultWidth:"wide",argumentCallback:n=>n-1}),month:sl({values:eA,defaultWidth:"wide"}),day:sl({values:tA,defaultWidth:"wide"}),dayPeriod:sl({values:nA,defaultWidth:"wide",formattingValues:rA,defaultFormattingWidth:"wide"})};function il(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(c)?aA(c,m=>m.test(l)):oA(c,m=>m.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const g=e.slice(l.length);return{value:f,rest:g}}}function oA(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function aA(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function lA(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const uA=/^(\d+)(th|st|nd|rd)?/i,cA=/\d+/i,dA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hA={any:[/^b/i,/^(a|c)/i]},fA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pA={any:[/1/i,/2/i,/3/i,/4/i]},gA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_A={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SA={ordinalNumber:lA({matchPattern:uA,parsePattern:cA,valueCallback:n=>parseInt(n,10)}),era:il({matchPatterns:dA,defaultMatchWidth:"wide",parsePatterns:hA,defaultParseWidth:"any"}),quarter:il({matchPatterns:fA,defaultMatchWidth:"wide",parsePatterns:pA,defaultParseWidth:"any",valueCallback:n=>n+1}),month:il({matchPatterns:gA,defaultMatchWidth:"wide",parsePatterns:mA,defaultParseWidth:"any"}),day:il({matchPatterns:yA,defaultMatchWidth:"wide",parsePatterns:vA,defaultParseWidth:"any"}),dayPeriod:il({matchPatterns:_A,defaultMatchWidth:"any",parsePatterns:wA,defaultParseWidth:"any"})},bA={code:"en-US",formatDistance:VR,formatLong:GR,formatRelative:YR,localize:iA,match:SA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xA(n,e,t){const r=DR(),i=(t==null?void 0:t.locale)??r.locale??bA,a=2520,l=Ic(n,e);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:l}),[d,f]=Mg(t==null?void 0:t.in,...l>0?[e,n]:[n,e]),g=WR(f,d),m=(Ew(f)-Ew(d))/1e3,v=Math.round((g-m)/60);let _;if(v<2)return t!=null&&t.includeSeconds?g<5?i.formatDistance("lessThanXSeconds",5,c):g<10?i.formatDistance("lessThanXSeconds",10,c):g<20?i.formatDistance("lessThanXSeconds",20,c):g<40?i.formatDistance("halfAMinute",0,c):g<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):v===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",v,c);if(v<45)return i.formatDistance("xMinutes",v,c);if(v<90)return i.formatDistance("aboutXHours",1,c);if(v<xw){const w=Math.round(v/60);return i.formatDistance("aboutXHours",w,c)}else{if(v<a)return i.formatDistance("xDays",1,c);if(v<vc){const w=Math.round(v/xw);return i.formatDistance("xDays",w,c)}else if(v<vc*2)return _=Math.round(v/vc),i.formatDistance("aboutXMonths",_,c)}if(_=BR(f,d),_<12){const w=Math.round(v/vc);return i.formatDistance("xMonths",w,c)}else{const w=_%12,S=Math.trunc(_/12);return w<3?i.formatDistance("aboutXYears",S,c):w<9?i.formatDistance("overXYears",S,c):i.formatDistance("almostXYears",S+1,c)}}function kA(n,e){return xA(n,LR(n),e)}function EA({note:n,onClick:e,isActive:t}){return V.jsxs("button",{onClick:e,className:ks("w-full text-left p-4 border-b border-border","hover:bg-accent/50 transition-colors","touch-target",t&&"bg-accent"),children:[V.jsx("h3",{className:"font-medium truncate",children:n.title||"Untitled"}),V.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:kA(new Date(n.updated_at),{addSuffix:!0})})]})}function Tb(){const{data:n,isLoading:e,error:t}=NR(),r=na(),{id:i}=nb();return e?V.jsx("div",{className:"flex items-center justify-center h-full",children:V.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):t?V.jsx("div",{className:"p-4 text-center text-destructive",children:"Failed to load notes"}):n!=null&&n.length?V.jsx("div",{className:"divide-y divide-border",children:n.map(a=>V.jsx(EA,{note:a,onClick:()=>r(`/note/${a.id}`),isActive:a.id===i},a.id))}):V.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notes yet. Create your first note!"})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Cw=n=>{const e=TA(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ob=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),OA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>N.createElement("svg",{ref:d,...PA,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Ob("lucide",i),...!a&&!OA(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,g])=>N.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=(n,e)=>{const t=N.forwardRef(({className:r,...i},a)=>N.createElement(NA,{ref:a,iconNode:e,className:Ob(`lucide-${CA(Cw(n))}`,`lucide-${n}`,r),...i}));return t.displayName=Cw(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],AA=ia("chevron-left",RA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DA=ia("file-text",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MA=ia("plus",LA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$A=ia("search",jA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UA=ia("settings",FA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BA=ia("trash-2",zA);function WA(){return V.jsxs("nav",{className:"fixed bottom-0 inset-x-0 h-16 border-t bg-background flex items-center justify-around pb-[env(safe-area-inset-bottom)]",children:[V.jsxs(Ac,{to:"/",className:({isActive:n})=>ks("flex flex-col items-center gap-1 p-2 touch-target",n?"text-primary":"text-muted-foreground"),children:[V.jsx(DA,{className:"h-5 w-5"}),V.jsx("span",{className:"text-xs",children:"Notes"})]}),V.jsxs(Ac,{to:"/search",className:({isActive:n})=>ks("flex flex-col items-center gap-1 p-2 touch-target",n?"text-primary":"text-muted-foreground"),children:[V.jsx($A,{className:"h-5 w-5"}),V.jsx("span",{className:"text-xs",children:"Search"})]}),V.jsxs(Ac,{to:"/settings",className:({isActive:n})=>ks("flex flex-col items-center gap-1 p-2 touch-target",n?"text-primary":"text-muted-foreground"),children:[V.jsx(UA,{className:"h-5 w-5"}),V.jsx("span",{className:"text-xs",children:"Settings"})]})]})}function Tw({onClick:n,className:e}){return V.jsx(Tl,{onClick:n,size:"icon",className:ks("fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg","pb-[env(safe-area-inset-bottom)]",e),children:V.jsx(MA,{className:"h-6 w-6"})})}function KA(){const{hasTouchScreen:n,isPortrait:e}=Cb(),t=RR(),r=na(),i=async()=>{const l=await t.mutateAsync({title:"Untitled"});r(`/note/${l.id}`)};return n&&e?V.jsxs("div",{className:"h-screen-safe flex flex-col bg-background",children:[V.jsx("header",{className:"h-14 flex items-center justify-between px-4 border-b",children:V.jsx("h1",{className:"text-lg font-semibold",children:"Notes"})}),V.jsx("main",{className:"flex-1 overflow-auto pb-20",children:V.jsx(dw,{})}),V.jsx(WA,{}),V.jsx(Tw,{onClick:i,className:"bottom-20"})]}):V.jsxs("div",{className:"h-screen-safe flex bg-background",children:[V.jsxs("aside",{className:"w-72 border-r flex flex-col",children:[V.jsx("header",{className:"h-14 flex items-center justify-between px-4 border-b",children:V.jsx("h1",{className:"text-lg font-semibold",children:"Notes"})}),V.jsx("div",{className:"flex-1 overflow-auto",children:V.jsx(Tb,{})})]}),V.jsx("main",{className:"flex-1 overflow-auto",children:V.jsx(dw,{})}),V.jsx(Tw,{onClick:i})]})}function VA(n){return ES({queryKey:["note",n],queryFn:()=>Kl.notes.get(n),enabled:!!n})}function HA(){const n=Ul();return Sg({mutationFn:({id:e,...t})=>Kl.notes.update(e,t),onMutate:async({id:e,...t})=>{await n.cancelQueries({queryKey:["note",e]});const r=n.getQueryData(["note",e]);return n.setQueryData(["note",e],i=>({...i,...t})),{previous:r}},onError:(e,{id:t},r)=>{n.setQueryData(["note",t],r==null?void 0:r.previous)},onSettled:(e,t,{id:r})=>{n.invalidateQueries({queryKey:["note",r]}),n.invalidateQueries({queryKey:["notes"]})}})}const Pb=N.createContext(null);function qA(n,e){return{getTheme:function(){return e??null}}}function As(){const n=N.useContext(Pb);return n==null&&(function(e,...t){const r=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",e);for(const a of t)i.append("v",a);throw r.search=i.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(8),n}function Q(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Nb(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);t.search=r.toString(),console.warn(`Minified Lexical warning #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Jn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,JA=Jn&&"documentMode"in document?document.documentMode:null,Wn=Jn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),xi=Jn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),qc=!(!Jn||!("InputEvent"in window)||JA)&&"getTargetRanges"in new window.InputEvent("input"),Vl=Jn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),oa=Jn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,GA=Jn&&/Android/.test(navigator.userAgent),Rb=Jn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Ow=Jn&&GA&&Rb,Hl=Jn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&Wn&&!Rb;function Ab(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}const QA=0,YA=1,XA=2,Ib=128,ZA=1,eI=2,tI=3,nI=4,rI=5,sI=6,yd=Vl||oa||Hl?"":"",Ps=`

`,iI=xi?"":yd,ki={bold:1,capitalize:1024,code:16,highlight:Ib,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},oI={directionless:1,unmergeable:2},Pw={center:2,end:6,justify:4,left:1,right:3,start:5},aI={[eI]:"center",[sI]:"end",[nI]:"justify",[ZA]:"left",[tI]:"right",[rI]:"start"},lI={normal:0,segmented:2,token:1},uI={[QA]:"normal",[XA]:"segmented",[YA]:"token"},Nw="$config";function Db(n,e,t,r,i,a){let l=n.getFirstChild();for(;l!==null;){const c=l.__key;l.__parent===e&&(K(l)&&Db(l,c,t,r,i,a),t.has(c)||a.delete(c),i.push(c)),l=l.getNextSibling()}}let Mp=!1,jg=0;function cI(n){jg=n.timeStamp}function Kf(n,e,t){const r=n.nodeName==="BR",i=e.__lexicalLineBreak;return i&&(n===i||r&&n.previousSibling===i)||r&&xd(n,t)!==void 0}function dI(n,e,t){const r=Gn(Nn(t));let i=null,a=null;r!==null&&r.anchorNode===n&&(i=r.anchorOffset,a=r.focusOffset);const l=n.nodeValue;l!==null&&am(e,l,i,a,!1)}function hI(n,e,t){if(X(n)){const r=n.anchor.getNode();if(r.is(t)&&n.format!==r.getFormat())return!1}return Fr(e)&&t.isAttached()}function fI(n,e,t,r){for(let i=n;i&&!_D(i);i=Yl(i)){const a=xd(i,e);if(a!==void 0){const l=xt(a,t);if(l)return Ke(l)||!ft(i)?void 0:[i,l]}else if(i===r)return[r,Lx(t)]}}function Lb(n,e,t){Mp=!0;const r=performance.now()-jg>100;try{or(n,()=>{const i=oe()||(function(v){return v.getEditorState().read(()=>{const _=oe();return _!==null?_.clone():null})})(n),a=new Map,l=n.getRootElement(),c=n._editorState,d=n._blockCursorElement;let f=!1,g="";for(let v=0;v<e.length;v++){const _=e[v],w=_.type,S=_.target,b=fI(S,n,c,l);if(!b)continue;const[k,C]=b;if(w==="characterData")r&&ee(C)&&Fr(S)&&hI(i,S,C)&&dI(S,C,n);else if(w==="childList"){f=!0;const E=_.addedNodes;for(let I=0;I<E.length;I++){const F=E[I],D=Ix(F),U=F.parentNode;if(U!=null&&F!==d&&D===null&&!Kf(F,U,n)){if(xi){const W=(ft(F)?F.innerText:null)||F.nodeValue;W&&(g+=W)}U.removeChild(F)}}const O=_.removedNodes,M=O.length;if(M>0){let I=0;for(let F=0;F<M;F++){const D=O[F];(Kf(D,S,n)||d===D)&&(S.appendChild(D),I++)}M!==I&&a.set(k,C)}}}if(a.size>0)for(const[v,_]of a)_.reconcileObservedMutation(v,n);const m=t.takeRecords();if(m.length>0){for(let v=0;v<m.length;v++){const _=m[v],w=_.addedNodes,S=_.target;for(let b=0;b<w.length;b++){const k=w[b],C=k.parentNode;C==null||k.nodeName!=="BR"||Kf(k,S,n)||C.removeChild(k)}}t.takeRecords()}i!==null&&(f&&an(i),xi&&Fx(n)&&i.insertRawText(g))})}finally{Mp=!1}}function Mb(n){const e=n._observer;e!==null&&Lb(n,e.takeRecords(),e)}function jb(n){(function(e){jg===0&&Nn(e).addEventListener("textInput",cI,!0)})(n),n._observer=new MutationObserver((e,t)=>{Lb(n,e,t)})}function pI(n){const e=new Map,t=new Set;for(let r=typeof n=="function"?n:n.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:i}=Ed(r);if(i&&i.stateConfigs)for(const a of i.stateConfigs){let l;"stateConfig"in a?(l=a.stateConfig,a.flat&&t.add(l.key)):l=a,e.set(l.key,l)}}return{flatKeys:t,sharedConfigMap:e}}let gI=class $b{constructor(e,t,r=void 0,i=new Map,a=void 0){H(this,"node");H(this,"knownState");H(this,"unknownState");H(this,"sharedNodeState");H(this,"size");this.node=e,this.sharedNodeState=t,this.unknownState=r,this.knownState=i;const{sharedConfigMap:l}=this.sharedNodeState,c=a!==void 0?a:(function(d,f,g){let m=g.size;if(f)for(const v in f){const _=d.get(v);_&&g.has(_)||m++}return m})(l,r,i);this.size=c}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const i=this.unknownState[e.key];i!==void 0&&(r=e.parse(i)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[r,i]of this.knownState)r.isEqual(i,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(i);for(const r of this.sharedNodeState.flatKeys)r in e&&(t[r]=e[r],delete e[r]);return Rw(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:r}=this,i=new Map(this.knownState);return new $b(e,t,(function(a,l,c){let d;if(c)for(const[f,g]of Object.entries(c)){const m=a.get(f);m?l.has(m)||l.set(m,m.parse(g)):(d=d||{},d[f]=g)}return d})(t.sharedConfigMap,i,r),i,this.size)}updateFromKnown(e,t){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:i,unknownState:a}=this;i.has(e)||a&&r in a||(a&&(delete a[r],this.unknownState=Rw(a)),this.size++),i.set(e,t)}updateFromUnknown(e,t){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[r,i]of Object.entries(e))this.updateFromUnknown(r,i)}};function mI(n){const e=n.getWritable(),t=e.__state?e.__state.getWritable(e):new gI(e,Fb(e));return e.__state=t,t}function Fb(n){return n.__state?n.__state.sharedNodeState:Px(cm(),n.getType()).sharedNodeState}function Rw(n){if(n)for(const e in n)return n}function Aw(n,e,t){for(const[r,i]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const a=t?t.getValue(r):r.defaultValue;if(a!==i&&!r.isEqual(a,i))return!0}return!1}function Iw(n,e,t){const{unknownState:r}=e,i=t?t.unknownState:void 0;if(r){for(const[a,l]of Object.entries(r))if(!n.has(a)&&(n.add(a),l!==(i?i[a]:void 0)))return!0}return!1}function Dw(n,e){const t=n.__state;return t&&t.node===n?t.getWritable(e):t}function Lw(n,e){const t=n.__mode,r=n.__format,i=n.__style,a=e.__mode,l=e.__format,c=e.__style,d=n.__state,f=e.__state;return(t===null||t===a)&&(r===null||r===l)&&(i===null||i===c)&&(n.__state===null||d===f||(function(g,m){if(g===m)return!0;if(g&&m&&g.size!==m.size)return!1;const v=new Set;return!(g&&Aw(v,g,m)||m&&Aw(v,m,g)||g&&Iw(v,g,m)||m&&Iw(v,m,g))})(d,f))}function Mw(n,e){const t=n.mergeWithSibling(e),r=Ge()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function jw(n){let e,t,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&ee(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Lw(e,r)){r=Mw(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&ee(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Lw(r,t)){r=Mw(r,t);break}break}t.remove()}}else r.remove()}function Jc(n){return $w(n.anchor),$w(n.focus),n}function $w(n){for(;n.type==="element";){const e=n.getNode(),t=n.offset;let r,i;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),i=!0):(r=e.getChildAtIndex(t),i=!1),ee(r)){n.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!K(r))break;n.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}let Ei,Bt,Ol,vd,jp,$p,Ci,Vn,Fp,Pl,bt="",tr=null,ti=null,Er="",Eo=!1,Gc=!1;function Qc(n,e){const t=Ci.get(n);if(e!==null){const r=Wp(n);r.parentNode===e&&e.removeChild(r)}if(Vn.has(n)||Bt._keyToDOMMap.delete(n),K(t)){const r=Xc(t,Ci);Up(r,0,r.length-1,null)}t!==void 0&&lm(Pl,Ol,vd,t,"destroyed")}function Up(n,e,t,r){let i=e;for(;i<=t;++i){const a=n[i];a!==void 0&&Qc(a,r)}}function Xs(n,e){n.setProperty("text-align",e)}const yI="40px";function Ub(n,e){const t=Ei.theme.indent;if(typeof t=="string"){const i=n.classList.contains(t);e>0&&!i?n.classList.add(t):e<1&&i&&n.classList.remove(t)}const r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||yI;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function zb(n,e){const t=n.style;e===0?Xs(t,""):e===1?Xs(t,"left"):e===2?Xs(t,"center"):e===3?Xs(t,"right"):e===4?Xs(t,"justify"):e===5?Xs(t,"start"):e===6&&Xs(t,"end")}function zp(n,e){const t=(function(r){const i=r.__dir;if(i!==null)return i;if(mt(r))return null;const a=r.getParentOrThrow();return mt(a)&&a.__dir===null?"auto":null})(e);t!==null?n.dir=t:n.removeAttribute("dir")}function Yc(n,e){const t=Vn.get(n);t===void 0&&Q(60);const r=t.createDOM(Ei,Bt);if((function(i,a,l){const c=l._keyToDOMMap;(function(d,f,g){const m=`__lexicalKey_${f._key}`;d[m]=g})(a,l,i),c.set(i,a)})(n,r,Bt),ee(t)?r.setAttribute("data-lexical-text","true"):Ke(t)&&r.setAttribute("data-lexical-decorator","true"),K(t)){const i=t.__indent,a=t.__size;if(zp(r,t),i!==0&&Ub(r,i),a!==0){const c=a-1;Bp(Xc(t,Vn),t,0,c,t.getDOMSlot(r))}const l=t.__format;l!==0&&zb(r,l),t.isInline()||Bb(null,t,r),kd(t)&&(bt+=Ps,Er+=Ps)}else{const i=t.getTextContent();if(Ke(t)){const a=t.decorate(Bt,Ei);a!==null&&Wb(n,a),r.contentEditable="false"}bt+=i,Er+=i}return e!==null&&e.insertChild(r),lm(Pl,Ol,vd,t,"created"),r}function Bp(n,e,t,r,i){const a=bt;bt="";let l=t;for(;l<=r;++l){Yc(n[l],i);const c=Vn.get(n[l]);c!==null&&ee(c)&&tr===null&&(tr=c.getFormat(),ti=c.getStyle())}kd(e)&&(bt+=Ps),i.element.__lexicalTextContent=bt,bt=a+bt}function Fw(n,e){if(n){const t=n.__last;if(t){const r=e.get(t);if(r)return Do(r)?"line-break":Ke(r)&&r.isInline()?"decorator":null}return"empty"}return null}function Bb(n,e,t){const r=Fw(n,Ci),i=Fw(e,Vn);r!==i&&e.getDOMSlot(t).setManagedLineBreak(i)}function vI(n,e,t){var r;tr=null,ti=null,(function(i,a,l){const c=bt,d=i.__size,f=a.__size;bt="";const g=l.element;if(d===1&&f===1){const m=i.__first,v=a.__first;if(m===v)cl(m,g);else{const w=Wp(m),S=Yc(v,null);try{g.replaceChild(S,w)}catch(b){if(typeof b=="object"&&b!=null){const k=`${b.toString()} Parent: ${g.tagName}, new child: {tag: ${S.tagName} key: ${v}}, old child: {tag: ${w.tagName}, key: ${m}}.`;throw new Error(k)}throw b}Qc(m,null)}const _=Vn.get(v);ee(_)&&tr===null&&(tr=_.getFormat(),ti=_.getStyle())}else{const m=Xc(i,Ci),v=Xc(a,Vn);if(m.length!==d&&Q(227),v.length!==f&&Q(228),d===0)f!==0&&Bp(v,a,0,f-1,l);else if(f===0){if(d!==0){const _=l.after==null&&l.before==null&&l.element.__lexicalLineBreak==null;Up(m,0,d-1,_?null:g),_&&(g.textContent="")}}else(function(_,w,S,b,k,C){const E=b-1,O=k-1;let M,I,F=C.getFirstChild(),D=0,U=0;for(;D<=E&&U<=O;){const we=w[D],fe=S[U];if(we===fe)F=Vf(cl(fe,C.element)),D++,U++;else{M===void 0&&(M=new Set(w)),I===void 0&&(I=new Set(S));const Ie=I.has(we),Re=M.has(fe);if(Ie)if(Re){const Oe=Pi(Bt,fe);Oe===F?F=Vf(cl(fe,C.element)):(C.withBefore(F).insertChild(Oe),cl(fe,C.element)),D++,U++}else Yc(fe,C.withBefore(F)),U++;else F=Vf(Wp(we)),Qc(we,C.element),D++}const Te=Vn.get(fe);Te!==null&&ee(Te)&&tr===null&&(tr=Te.getFormat(),ti=Te.getStyle())}const W=D>E,re=U>O;if(W&&!re){const we=S[O+1],fe=we===void 0?null:Bt.getElementByKey(we);Bp(S,_,U,O,C.withBefore(fe))}else re&&!W&&Up(w,D,E,C.element)})(a,m,v,d,f,l)}kd(a)&&(bt+=Ps),g.__lexicalTextContent=bt,bt=c+bt})(n,e,e.getDOMSlot(t)),r=e,tr==null||tr===r.__textFormat||Gc||r.setTextFormat(tr),(function(i){ti==null||ti===i.__textStyle||Gc||i.setTextStyle(ti)})(e)}function Xc(n,e){const t=[];let r=n.__first;for(;r!==null;){const i=e.get(r);i===void 0&&Q(101),t.push(r),r=i.__next}return t}function cl(n,e){const t=Ci.get(n);let r=Vn.get(n);t!==void 0&&r!==void 0||Q(61);const i=Eo||$p.has(n)||jp.has(n),a=Pi(Bt,n);if(t===r&&!i){if(K(t)){const l=a.__lexicalTextContent;l!==void 0&&(bt+=l,Er+=l)}else{const l=t.getTextContent();Er+=l,bt+=l}return a}if(t!==r&&i&&lm(Pl,Ol,vd,r,"updated"),r.updateDOM(t,a,Ei)){const l=Yc(n,null);return e===null&&Q(62),e.replaceChild(l,a),Qc(n,null),l}if(K(t)&&K(r)){const l=r.__indent;(Eo||l!==t.__indent)&&Ub(a,l);const c=r.__format;if((Eo||c!==t.__format)&&zb(a,c),i&&(vI(t,r,a),mt(r)||r.isInline()||Bb(t,r,a)),kd(r)&&(bt+=Ps,Er+=Ps),(Eo||r.__dir!==t.__dir)&&(zp(a,r),mt(r)&&!Eo))for(const d of r.getChildren())K(d)&&zp(Pi(Bt,d.getKey()),d)}else{const l=r.getTextContent();if(Ke(r)){const c=r.decorate(Bt,Ei);c!==null&&Wb(n,c)}bt+=l,Er+=l}if(!Gc&&mt(r)&&r.__cachedText!==Er){const l=r.getWritable();l.__cachedText=Er,r=l}return a}function Wb(n,e){let t=Bt._pendingDecorators;const r=Bt._decorators;if(t===null){if(r[n]===e)return;t=Dx(Bt)}t[n]=e}function Vf(n){let e=n.nextSibling;return e!==null&&e===Bt._blockCursorElement&&(e=e.nextSibling),e}function _I(n,e,t,r,i,a){bt="",Er="",Eo=r===2,Bt=t,Ei=t._config,Ol=t._nodes,vd=Bt._listeners.mutation,jp=i,$p=a,Ci=n._nodeMap,Vn=e._nodeMap,Gc=e._readOnly,Fp=new Map(t._keyToDOMMap);const l=new Map;return Pl=l,cl("root",null),Bt=void 0,Ol=void 0,jp=void 0,$p=void 0,Ci=void 0,Vn=void 0,Ei=void 0,Fp=void 0,Pl=void 0,l}function Wp(n){const e=Fp.get(n);return e===void 0&&Q(75,n),e}function _e(n){return{type:n}}const Kb=_e("SELECTION_CHANGE_COMMAND"),wI=_e("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Vb=_e("CLICK_COMMAND"),Hb=_e("BEFORE_INPUT_COMMAND"),qb=_e("INPUT_COMMAND"),Jb=_e("COMPOSITION_START_COMMAND"),Gb=_e("COMPOSITION_END_COMMAND"),yi=_e("DELETE_CHARACTER_COMMAND"),Ro=_e("INSERT_LINE_BREAK_COMMAND"),Nl=_e("INSERT_PARAGRAPH_COMMAND"),Ao=_e("CONTROLLED_TEXT_INSERTION_COMMAND"),$g=_e("PASTE_COMMAND"),Kp=_e("REMOVE_TEXT_COMMAND"),Rl=_e("DELETE_WORD_COMMAND"),Al=_e("DELETE_LINE_COMMAND"),ws=_e("FORMAT_TEXT_COMMAND"),Fg=_e("UNDO_COMMAND"),Ug=_e("REDO_COMMAND"),Qb=_e("KEYDOWN_COMMAND"),Yb=_e("KEY_ARROW_RIGHT_COMMAND"),SI=_e("MOVE_TO_END"),zg=_e("KEY_ARROW_LEFT_COMMAND"),bI=_e("MOVE_TO_START"),Bg=_e("KEY_ARROW_UP_COMMAND"),Wg=_e("KEY_ARROW_DOWN_COMMAND"),Zc=_e("KEY_ENTER_COMMAND"),Kg=_e("KEY_SPACE_COMMAND"),Xb=_e("KEY_BACKSPACE_COMMAND"),Vg=_e("KEY_ESCAPE_COMMAND"),Zb=_e("KEY_DELETE_COMMAND"),ex=_e("KEY_TAB_COMMAND"),xI=_e("INSERT_TAB_COMMAND"),kI=_e("INDENT_CONTENT_COMMAND"),Uw=_e("OUTDENT_CONTENT_COMMAND"),tx=_e("DROP_COMMAND"),EI=_e("FORMAT_ELEMENT_COMMAND"),nx=_e("DRAGSTART_COMMAND"),rx=_e("DRAGOVER_COMMAND"),CI=_e("DRAGEND_COMMAND"),_d=_e("COPY_COMMAND"),Hg=_e("CUT_COMMAND"),Vp=_e("SELECT_ALL_COMMAND"),TI=_e("CLEAR_EDITOR_COMMAND"),OI=_e("CLEAR_HISTORY_COMMAND"),_c=_e("CAN_REDO_COMMAND"),wc=_e("CAN_UNDO_COMMAND"),PI=_e("FOCUS_COMMAND"),NI=_e("BLUR_COMMAND"),RI=_e("KEY_MODIFIER_COMMAND"),_r=Object.freeze({}),Hp=[["keydown",function(n,e){Il=n.timeStamp,sx=n.key,!e.isComposing()&&se(e,Qb,n)}],["pointerdown",function(n,e){const t=n.target,r=n.pointerType;ha(t)&&r!=="touch"&&r!=="pen"&&n.button===0&&or(e,()=>{Nx(t)||(Gp=!0)})}],["compositionstart",function(n,e){se(e,Jb,n)}],["compositionend",function(n,e){xi?dl=!0:oa||!Vl&&!Hl?se(e,Gb,n):(Qp=!0,Yp=n.data)}],["input",function(n,e){n.stopPropagation(),or(e,()=>{e.dispatchCommand(qb,n)},{event:n}),Co=null}],["click",function(n,e){or(e,()=>{const t=oe(),r=Gn(Nn(e)),i=ua();if(r){if(X(t)){const a=t.anchor,l=a.getNode();if(a.type==="element"&&a.offset===0&&t.isCollapsed()&&!mt(l)&&ht().getChildrenSize()===1&&l.getTopLevelElementOrThrow().isEmpty()&&i!==null&&t.is(i))r.removeAllRanges(),t.dirty=!0;else if(n.detail===3&&!t.isCollapsed()&&l!==t.focus.getNode()){const c=Ar(l,d=>K(d)&&!d.isInline());K(c)&&c.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){const a=r.anchorNode;(ft(a)||Fr(a))&&an(Jg(i,r,e,n))}}se(e,Vb,n)})}],["cut",_r],["copy",_r],["dragstart",_r],["dragover",_r],["dragend",_r],["paste",_r],["focus",_r],["blur",_r],["drop",_r]];qc&&Hp.push(["beforeinput",(n,e)=>(function(t,r){const i=t.inputType;i==="deleteCompositionText"||xi&&Fx(r)||i!=="insertCompositionText"&&se(r,Hb,t)})(n,e)]);let Il=0,sx=null,ix=0,Co=null;const qp=new WeakMap,ed=new WeakMap;let Jp=!1,Gp=!1,gl=!1,dl=!1,Qp=!1,Yp="",si=null,ox=[0,"",0,"root",0];function ax(n,e,t,r,i){const a=n.anchor,l=n.focus,c=a.getNode(),d=Ge(),f=Gn(Nn(d)),g=f!==null?f.anchorNode:null,m=a.key,v=d.getElementByKey(m),_=t.length;return m!==l.key||!ee(c)||(!i&&(!qc||ix<r+50)||c.isDirty()&&_<2||Mx(t))&&a.offset!==l.offset&&!c.isComposing()||kr(c)||c.isDirty()&&_>1||(i||!qc)&&v!==null&&!c.isComposing()&&g!==Go(v)||f!==null&&e!==null&&(!e.collapsed||e.startContainer!==f.anchorNode||e.startOffset!==f.anchorOffset)||c.getFormat()!==n.format||c.getStyle()!==n.style||(function(w,S){if(S.isSegmented())return!0;if(!w.isCollapsed())return!1;const b=w.anchor.offset,k=S.getParentOrThrow(),C=_i(S);return b===0?!S.canInsertTextBefore()||!k.canInsertTextBefore()&&!S.isComposing()||C||(function(E){const O=E.getPreviousSibling();return(ee(O)||K(O)&&O.isInline())&&!O.canInsertTextAfter()})(S):b===S.getTextContentSize()&&(!S.canInsertTextAfter()||!k.canInsertTextAfter()&&!S.isComposing()||C)})(n,c)}function zw(n,e){return Fr(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function Bw(n,e,t){const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:l}=n;Jp&&(Jp=!1,zw(r,i)&&zw(a,l)&&!si)||or(e,()=>{if(!t)return void an(null);if(!Ql(e,r,a))return;let c=oe();if(si&&X(c)&&c.isCollapsed()){const d=c.anchor,f=si.anchor;(d.key===f.key&&d.offset===f.offset+1||d.offset===1&&f.getNode().is(d.getNode().getPreviousSibling()))&&(c=si.clone(),an(c))}if(si=null,X(c)){const d=c.anchor,f=d.getNode();if(c.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(c.dirty=!0);const g=Nn(e).event,m=g?g.timeStamp:performance.now(),[v,_,w,S,b]=ox,k=ht(),C=e.isComposing()===!1&&k.getTextContent()==="";if(m<b+200&&d.offset===w&&d.key===S)Dc(c,v,_);else if(d.type==="text")ee(f)||Q(141),lx(c,f);else if(d.type==="element"&&!C){K(f)||Q(259);const E=d.getNode();E.isEmpty()?(function(O,M){const I=M.getTextFormat(),F=M.getTextStyle();Dc(O,I,F)})(c,E):Dc(c,0,"")}}else{const g=d.key,m=c.focus.key,v=c.getNodes(),_=v.length,w=c.isBackward(),S=w?l:i,b=w?i:l,k=w?m:g,C=w?g:m;let E=2047,O=!1;for(let M=0;M<_;M++){const I=v[M],F=I.getTextContentSize();if(ee(I)&&F!==0&&!(M===0&&I.__key===k&&S===F||M===_-1&&I.__key===C&&b===0)&&(O=!0,E&=I.getFormat(),E===0))break}c.format=O?E:0}}se(e,Kb,void 0)})}function Dc(n,e,t){n.format===e&&n.style===t||(n.format=e,n.style=t,n.dirty=!0)}function lx(n,e){Dc(n,e.getFormat(),e.getStyle())}function ux(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function AI(n){const e=n.inputType,t=ux(n),r=Ge(),i=oe();if(e==="deleteContentBackward"){if(i===null){const m=ua();if(!X(m))return!0;an(m.clone())}if(X(i)){const m=i.anchor.key===i.focus.key;if(a=n.timeStamp,sx==="MediaLast"&&a<Il+30&&r.isComposing()&&m){if(Mt(null),Il=0,setTimeout(()=>{or(r,()=>{Mt(null)})},30),X(i)){const v=i.anchor.getNode();v.markDirty(),ee(v)||Q(142),lx(i,v)}}else{Mt(null),n.preventDefault();const v=i.anchor.getNode(),_=v.getTextContent(),w=v.canInsertTextAfter(),S=i.anchor.offset===0&&i.focus.offset===_.length;let b=Ow&&m&&!S&&w;if(b&&i.isCollapsed()&&(b=!Ke(rg(i.anchor,!0))),!b){se(r,yi,!0);const k=oe();Ow&&X(k)&&k.isCollapsed()&&(si=k,setTimeout(()=>si=null))}}return!0}}var a;if(!X(i))return!0;const l=n.data;Co!==null&&om(!1,r,Co),i.dirty&&Co===null||!i.isCollapsed()||mt(i.anchor.getNode())||t===null||i.applyDOMRange(t),Co=null;const c=i.anchor,d=i.focus,f=c.getNode(),g=d.getNode();if(e==="insertText"||e==="insertTranspose"){if(l===`
`)n.preventDefault(),se(r,Ro,!1);else if(l===Ps)n.preventDefault(),se(r,Nl,void 0);else if(l==null&&n.dataTransfer){const m=n.dataTransfer.getData("text/plain");n.preventDefault(),i.insertRawText(m)}else l!=null&&ax(i,t,l,n.timeStamp,!0)?(n.preventDefault(),se(r,Ao,l)):Co=l;return ix=n.timeStamp,!0}switch(n.preventDefault(),e){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":se(r,Ao,n);break;case"insertFromComposition":Mt(null),se(r,Ao,n);break;case"insertLineBreak":Mt(null),se(r,Ro,!1);break;case"insertParagraph":Mt(null),gl&&!oa?(gl=!1,se(r,Ro,!1)):se(r,Nl,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":se(r,$g,n);break;case"deleteByComposition":(function(m,v){return m!==v||K(m)||K(v)||!_i(m)||!_i(v)})(f,g)&&se(r,Kp,n);break;case"deleteByDrag":case"deleteByCut":se(r,Kp,n);break;case"deleteContent":se(r,yi,!1);break;case"deleteWordBackward":se(r,Rl,!0);break;case"deleteWordForward":se(r,Rl,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":se(r,Al,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":se(r,Al,!1);break;case"formatStrikeThrough":se(r,ws,"strikethrough");break;case"formatBold":se(r,ws,"bold");break;case"formatItalic":se(r,ws,"italic");break;case"formatUnderline":se(r,ws,"underline");break;case"historyUndo":se(r,Fg,void 0);break;case"historyRedo":se(r,Ug,void 0)}return!0}function II(n){if(ft(n.target)&&Nx(n.target))return!0;const e=Ge(),t=oe(),r=n.data,i=ux(n);if(r!=null&&X(t)&&ax(t,i,r,n.timeStamp,!1)){dl&&(td(e,r),dl=!1);const a=t.anchor.getNode(),l=Gn(Nn(e));if(l===null)return!0;const c=t.isBackward(),d=c?t.anchor.offset:t.focus.offset,f=c?t.focus.offset:t.anchor.offset;qc&&!t.isCollapsed()&&ee(a)&&l.anchorNode!==null&&a.getTextContent().slice(0,d)+r+a.getTextContent().slice(d+f)===$x(l.anchorNode)||se(e,Ao,r);const g=r.length;xi&&g>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=g),Vl||oa||Hl||!e.isComposing()||(Il=0,Mt(null))}else om(!1,e,r!==null?r:void 0),dl&&(td(e,r||void 0),dl=!1);return(function(){zt();const a=Ge();Mb(a)})(),!0}function DI(n){const e=Ge(),t=oe();if(X(t)&&!e.isComposing()){const r=t.anchor,i=t.anchor.getNode();Mt(r.key),(n.timeStamp<Il+30||r.type==="element"||!t.isCollapsed()||i.getFormat()!==t.format||ee(i)&&i.getStyle()!==t.style)&&se(e,Ao,iI)}return!0}function LI(n){return td(Ge(),n.data),!0}function td(n,e){const t=n._compositionKey;if(Mt(null),t!==null&&e!=null){if(e===""){const r=xt(t),i=Go(n.getElementByKey(t));return void(i!==null&&i.nodeValue!==null&&ee(r)&&am(r,i.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=oe();if(X(r)){const i=r.focus;return r.anchor.set(i.key,i.offset,i.type),void se(n,Zc,null)}}}om(!0,n,e)}function MI(n){const e=Ge();if(n.key==null)return!0;if(Qp&&f0(n))return or(e,()=>{td(e,Yp)}),Qp=!1,Yp="",!0;if((function(t){return Je(t,"ArrowRight",{shiftKey:"any"})})(n))se(e,Yb,n);else if((function(t){return Je(t,"ArrowRight",br)})(n))se(e,SI,n);else if((function(t){return Je(t,"ArrowLeft",{shiftKey:"any"})})(n))se(e,zg,n);else if((function(t){return Je(t,"ArrowLeft",br)})(n))se(e,bI,n);else if((function(t){return Je(t,"ArrowUp",{altKey:"any",shiftKey:"any"})})(n))se(e,Bg,n);else if((function(t){return Je(t,"ArrowDown",{altKey:"any",shiftKey:"any"})})(n))se(e,Wg,n);else if((function(t){return Je(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(n))gl=!0,se(e,Zc,n);else if((function(t){return t.key===" "})(n))se(e,Kg,n);else if((function(t){return Wn&&Je(t,"o",{ctrlKey:!0})})(n))n.preventDefault(),gl=!0,se(e,Ro,!0);else if((function(t){return Je(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(n))gl=!1,se(e,Zc,n);else if((function(t){return Je(t,"Backspace",{shiftKey:"any"})||Wn&&Je(t,"h",{ctrlKey:!0})})(n))f0(n)?se(e,Xb,n):(n.preventDefault(),se(e,yi,!0));else if((function(t){return t.key==="Escape"})(n))se(e,Vg,n);else if((function(t){return Je(t,"Delete",{})||Wn&&Je(t,"d",{ctrlKey:!0})})(n))(function(t){return t.key==="Delete"})(n)?se(e,Zb,n):(n.preventDefault(),se(e,yi,!1));else if((function(t){return Je(t,"Backspace",h0)})(n))n.preventDefault(),se(e,Rl,!0);else if((function(t){return Je(t,"Delete",h0)})(n))n.preventDefault(),se(e,Rl,!1);else if((function(t){return Wn&&Je(t,"Backspace",{metaKey:!0})})(n))n.preventDefault(),se(e,Al,!0);else if((function(t){return Wn&&(Je(t,"Delete",{metaKey:!0})||Je(t,"k",{ctrlKey:!0}))})(n))n.preventDefault(),se(e,Al,!1);else if((function(t){return Je(t,"b",br)})(n))n.preventDefault(),se(e,ws,"bold");else if((function(t){return Je(t,"u",br)})(n))n.preventDefault(),se(e,ws,"underline");else if((function(t){return Je(t,"i",br)})(n))n.preventDefault(),se(e,ws,"italic");else if((function(t){return Je(t,"Tab",{shiftKey:"any"})})(n))se(e,ex,n);else if((function(t){return Je(t,"z",br)})(n))n.preventDefault(),se(e,Fg,void 0);else if((function(t){return Wn?Je(t,"z",{metaKey:!0,shiftKey:!0}):Je(t,"y",{ctrlKey:!0})||Je(t,"z",{ctrlKey:!0,shiftKey:!0})})(n))n.preventDefault(),se(e,Ug,void 0);else{const t=e._editorState._selection;t===null||X(t)?p0(n)&&(n.preventDefault(),se(e,Vp,n)):(function(r){return Je(r,"c",br)})(n)?(n.preventDefault(),se(e,_d,n)):(function(r){return Je(r,"x",br)})(n)?(n.preventDefault(),se(e,Hg,n)):p0(n)&&(n.preventDefault(),se(e,Vp,n))}return(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(n)&&e.dispatchCommand(RI,n),!0}function cx(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const Io=new Map;function dx(n){const e=mD(n.target);if(e===null)return;const t=sm(e.anchorNode);if(t===null)return;Gp&&(Gp=!1,or(t,()=>{const d=ua(),f=e.anchorNode;(ft(f)||Fr(f))&&an(Jg(d,e,t,n))}));const r=im(t),i=r[r.length-1],a=i._key,l=Io.get(a),c=l||i;c!==t&&Bw(e,c,!1),Bw(e,t,!0),t!==i?Io.set(a,t):l&&Io.delete(a)}function Ww(n){n._lexicalHandled=!0}function Kw(n){return n._lexicalHandled===!0}function jI(n){const e=qp.get(n);if(e===void 0)return;const t=ed.get(e);if(t===void 0)return;const r=t-1;r>=0||Q(164),qp.delete(n),ed.set(e,r),r===0&&e.removeEventListener("selectionchange",dx);const i=bd(n);rm(i)?((function(l){if(l._parentEditor!==null){const c=im(l),d=c[c.length-1]._key;Io.get(d)===l&&Io.delete(d)}else Io.delete(l._key)})(i),n.__lexicalEditor=null):i&&Q(198);const a=cx(n);for(let l=0;l<a.length;l++)a[l]();n.__lexicalEventHandles=[]}function Xp(n,e,t){zt();const r=n.__key,i=n.getParent();if(i===null)return;const a=(function(c){const d=oe();if(!X(d)||!K(c))return d;const{anchor:f,focus:g}=d,m=f.getNode(),v=g.getNode();return sg(m,c)&&f.set(c.__key,0,"element"),sg(v,c)&&g.set(c.__key,0,"element"),d})(n);let l=!1;if(X(a)&&e){const c=a.anchor,d=a.focus;c.key===r&&(sd(c,n,i,n.getPreviousSibling(),n.getNextSibling()),l=!0),d.key===r&&(sd(d,n,i,n.getPreviousSibling(),n.getNextSibling()),l=!0)}else fn(a)&&e&&n.isSelected()&&n.selectPrevious();if(X(a)&&e&&!l){const c=n.getIndexWithinParent();wi(n),rd(a,i,c,-1)}else wi(n);t||on(i)||i.canBeEmpty()||!i.isEmpty()||Xp(i,e),e&&a&&mt(i)&&i.isEmpty()&&i.selectEnd()}const hx=Symbol.for("ephemeral");function nd(n){return n[hx]||!1}class Hn{constructor(e){H(this,"__type");H(this,"__key");H(this,"__parent");H(this,"__prev");H(this,"__next");H(this,"__state");this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),uD(this,e)}static getType(){const{ownNodeType:e}=Ed(this);return e===void 0&&Q(64,this.name),e}static clone(e){Q(65,this.name)}$config(){return{}}config(e,t){const r=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:r,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}getType(){return this.__type}isInline(){Q(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=xt(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||oe();if(t==null)return!1;const r=t.getNodes().some(i=>i.__key===this.__key);if(ee(this))return r;if(X(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const i=this.getParent();if(Ke(this)&&this.isInline()&&i){const a=t.isBackward()?t.focus:t.anchor;if(i.is(a.getNode())&&a.offset===i.getChildrenSize()&&this.is(i.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:xt(e)}getParentOrThrow(){const e=this.getParent();return e===null&&Q(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(on(t))return K(e)||e===this&&Ke(e)||Q(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&Q(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:xt(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:xt(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=K(this)?this:this.getParent(),r=K(e)?e:e.getParent(),i=t&&r?Mc(t,r):null;return i?i.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=Mc(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?Vx(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&Q(279),!1)))}isParentOf(e){const t=Mc(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),r=[],i=new Set;let a=this;for(;a!==null;){const l=a.__key;if(i.has(l)||(i.add(l),r.push(a)),a===e)break;const c=K(a)?t?a.getFirstChild():a.getLastChild():null;if(c!==null){a=c;continue}const d=t?a.getNextSibling():a.getPreviousSibling();if(d!==null){a=d;continue}const f=a.getParentOrThrow();if(i.has(f.__key)||r.push(f),f===e)break;let g=null,m=f;do{if(m===null&&Q(68),g=t?m.getNextSibling():m.getPreviousSibling(),m=m.getParent(),m===null)break;g!==null||i.has(m.__key)||r.push(m)}while(g===null);a=g}return t||r.reverse(),r}isDirty(){const e=Ge()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){if(nd(this))return this;const e=xt(this.__key);return e===null&&Q(113),e}getWritable(){if(nd(this))return this;zt();const e=Ds(),t=Ge(),r=e._nodeMap,i=this.__key,a=this.getLatest(),l=t._cloneNotNeeded,c=oe();if(c!==null&&c.setCachedNodes(null),l.has(i))return od(a),a;const d=zx(a);return l.add(i),od(d),r.set(i,d),d}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){Q(70)}updateDOM(e,t,r){Q(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){Q(18,this.name)}updateFromJSON(e){return(function(t,r){const i=t.getWritable(),a=r.$;let l=a;for(const c of Fb(i).flatKeys)c in r&&(l!==void 0&&l!==a||(l={...a}),l[c]=r[c]);return(i.__state||l)&&mI(t).updateFromJSON(l),i})(this,e)}static transform(){return null}remove(e){Xp(this,!0,e)}replace(e,t){zt();let r=oe();r!==null&&(r=r.clone()),Yf(this,e);const i=this.getLatest(),a=this.__key,l=e.__key,c=e.getWritable(),d=this.getParentOrThrow().getWritable(),f=d.__size;wi(c);const g=i.getPreviousSibling(),m=i.getNextSibling(),v=i.__prev,_=i.__next,w=i.__parent;if(Xp(i,!1,!0),g===null?d.__first=l:g.getWritable().__next=l,c.__prev=v,m===null?d.__last=l:m.getWritable().__prev=l,c.__next=_,c.__parent=w,d.__size=f,t&&(K(this)&&K(c)||Q(139),this.getChildren().forEach(S=>{c.append(S)})),X(r)){an(r);const S=r.anchor,b=r.focus;S.key===a&&Jw(S,c),b.key===a&&Jw(b,c)}return Ss()===a&&Mt(l),c}insertAfter(e,t=!0){zt(),Yf(this,e);const r=this.getWritable(),i=e.getWritable(),a=i.getParent(),l=oe();let c=!1,d=!1;if(a!==null){const _=e.getIndexWithinParent();if(wi(i),X(l)){const w=a.__key,S=l.anchor,b=l.focus;c=S.type==="element"&&S.key===w&&S.offset===_+1,d=b.type==="element"&&b.key===w&&b.offset===_+1}}const f=this.getNextSibling(),g=this.getParentOrThrow().getWritable(),m=i.__key,v=r.__next;if(f===null?g.__last=m:f.getWritable().__prev=m,g.__size++,r.__next=m,i.__next=v,i.__prev=r.__key,i.__parent=r.__parent,t&&X(l)){const _=this.getIndexWithinParent();rd(l,g,_+1);const w=g.__key;c&&l.anchor.set(w,_+2,"element"),d&&l.focus.set(w,_+2,"element")}return e}insertBefore(e,t=!0){zt(),Yf(this,e);const r=this.getWritable(),i=e.getWritable(),a=i.__key;wi(i);const l=this.getPreviousSibling(),c=this.getParentOrThrow().getWritable(),d=r.__prev,f=this.getIndexWithinParent();l===null?c.__first=a:l.getWritable().__next=a,c.__size++,r.__prev=a,i.__prev=d,i.__next=r.__key,i.__parent=r.__parent;const g=oe();return t&&X(g)&&rd(g,this.getParentOrThrow(),f),e}isParentRequired(){return!1}createParentElementNode(){return Rt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){zt();const r=this.getPreviousSibling(),i=this.getParentOrThrow();if(r===null)return i.select(0,0);if(K(r))return r.select();if(!ee(r)){const a=r.getIndexWithinParent()+1;return i.select(a,a)}return r.select(e,t)}selectNext(e,t){zt();const r=this.getNextSibling(),i=this.getParentOrThrow();if(r===null)return i.select();if(K(r))return r.select(0,0);if(!ee(r)){const a=r.getIndexWithinParent();return i.select(a,a)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}H(Hn,"importDOM");const Zp="historic",$I="history-push",vi="history-merge",FI="paste",UI="collaboration",zI="skip-scroll-into-view",BI="skip-dom-selection",WI="skip-selection-focus";class aa extends Hn{static getType(){return"linebreak"}static clone(e){return new aa(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(t){const r=t.parentElement;if(r!==null&&ad(r)){const i=r.firstChild;if(i===t||i.nextSibling===t&&Sc(i)){const a=r.lastChild;if(a===t||a.previousSibling===t&&Sc(a))return!0}}return!1})(e)||(function(t){const r=t.parentElement;if(r!==null&&ad(r)){const i=r.firstChild;if(i===t||i.nextSibling===t&&Sc(i))return!1;const a=r.lastChild;if(a===t||a.previousSibling===t&&Sc(a))return!0}return!1})(e)?null:{conversion:KI,priority:0}}}static importJSON(e){return Ti().updateFromJSON(e)}}function KI(n){return{node:Ti()}}function Ti(){return Mi(new aa)}function Do(n){return n instanceof aa}function Sc(n){return Fr(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Hf(n,e){return 16&e?"code":e&Ib?"mark":32&e?"sub":64&e?"sup":null}function qf(n,e){return 1&e?"strong":2&e?"em":"span"}function fx(n,e,t,r,i){const a=r.classList;let l=Lo(i,"base");l!==void 0&&a.add(...l),l=Lo(i,"underlineStrikethrough");let c=!1;const d=8&e&&4&e;l!==void 0&&(8&t&&4&t?(c=!0,d||a.add(...l)):d&&a.remove(...l));for(const f in ki){const g=ki[f];if(l=Lo(i,f),l!==void 0)if(t&g){if(c&&(f==="underline"||f==="strikethrough")){e&g&&a.remove(...l);continue}((e&g)===0||d&&f==="underline"||f==="strikethrough")&&a.add(...l)}else e&g&&a.remove(...l)}}function px(n,e,t){const r=e.firstChild,i=t.isComposing(),a=n+(i?yd:"");if(r==null)e.textContent=a;else{const l=r.nodeValue;if(l!==a)if(i||xi){const[c,d,f]=(function(g,m){const v=g.length,_=m.length;let w=0,S=0;for(;w<v&&w<_&&g[w]===m[w];)w++;for(;S+w<v&&S+w<_&&g[v-S-1]===m[_-S-1];)S++;return[w,v-w-S,m.slice(w,_-S)]})(l,a);d!==0&&r.deleteData(c,d),r.insertData(c,f)}else r.nodeValue=a}}function Vw(n,e,t,r,i,a){px(i,n,e);const l=a.theme.text;l!==void 0&&fx(0,0,r,n,l)}function bc(n,e){const t=document.createElement(e);return t.appendChild(n),t}class Is extends Hn{constructor(t="",r){super(r);H(this,"__text");H(this,"__format");H(this,"__style");H(this,"__mode");H(this,"__detail");this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}static getType(){return"text"}static clone(t){return new Is(t.__text,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return uI[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Ss()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const r=ki[t];return(this.getFormat()&r)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,r){return id(this.getLatest().__format,t,r)}canHaveFormat(){return!0}isInline(){return!0}createDOM(t,r){const i=this.__format,a=Hf(0,i),l=qf(0,i),c=a===null?l:a,d=document.createElement(c);let f=d;this.hasFormat("code")&&d.setAttribute("spellcheck","false"),a!==null&&(f=document.createElement(l),d.appendChild(f)),Vw(f,this,0,i,this.__text,t);const g=this.__style;return g!==""&&(d.style.cssText=g),d}updateDOM(t,r,i){const a=this.__text,l=t.__format,c=this.__format,d=Hf(0,l),f=Hf(0,c),g=qf(0,l),m=qf(0,c);if((d===null?g:d)!==(f===null?m:f))return!0;if(d===f&&g!==m){const b=r.firstChild;b==null&&Q(48);const k=document.createElement(m);return Vw(k,this,0,c,a,i),r.replaceChild(k,b),!1}let v=r;f!==null&&d!==null&&(v=r.firstChild,v==null&&Q(49)),px(a,v,this);const _=i.theme.text;_!==void 0&&l!==c&&fx(0,l,c,v,_);const w=t.__style,S=this.__style;return w!==S&&(r.style.cssText=S),!1}static importDOM(){return{"#text":()=>({conversion:JI,priority:0}),b:()=>({conversion:HI,priority:0}),code:()=>({conversion:wr,priority:0}),em:()=>({conversion:wr,priority:0}),i:()=>({conversion:wr,priority:0}),mark:()=>({conversion:wr,priority:0}),s:()=>({conversion:wr,priority:0}),span:()=>({conversion:VI,priority:0}),strong:()=>({conversion:wr,priority:0}),sub:()=>({conversion:wr,priority:0}),sup:()=>({conversion:wr,priority:0}),u:()=>({conversion:wr,priority:0})}}static importJSON(t){return Ot().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style)}exportDOM(t){let{element:r}=super.exportDOM(t);return ft(r)||Q(132),r.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?r.style.textTransform="lowercase":this.hasFormat("uppercase")?r.style.textTransform="uppercase":this.hasFormat("capitalize")&&(r.style.textTransform="capitalize"),this.hasFormat("bold")&&(r=bc(r,"b")),this.hasFormat("italic")&&(r=bc(r,"i")),this.hasFormat("strikethrough")&&(r=bc(r,"s")),this.hasFormat("underline")&&(r=bc(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(t,r){}setFormat(t){const r=this.getWritable();return r.__format=typeof t=="string"?ki[t]:t,r}setDetail(t){const r=this.getWritable();return r.__detail=typeof t=="string"?oI[t]:t,r}setStyle(t){const r=this.getWritable();return r.__style=t,r}toggleFormat(t){const r=id(this.getFormat(),t,null);return this.setFormat(r)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const r=lI[t];if(this.__mode===r)return this;const i=this.getWritable();return i.__mode=r,i}setTextContent(t){if(this.__text===t)return this;const r=this.getWritable();return r.__text=t,r}select(t,r){zt();let i=t,a=r;const l=oe(),c=this.getTextContent(),d=this.__key;if(typeof c=="string"){const f=c.length;i===void 0&&(i=f),a===void 0&&(a=f)}else i=0,a=0;if(!X(l))return vx(d,i,d,a,"text","text");{const f=Ss();f!==l.anchor.key&&f!==l.focus.key||Mt(d),l.setTextNodeRange(this,i,this,a)}return l}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,r,i,a){const l=this.getWritable(),c=l.__text,d=i.length;let f=t;f<0&&(f=d+f,f<0&&(f=0));const g=oe();if(a&&X(g)){const v=t+d;g.setTextNodeRange(l,v,l,v)}const m=c.slice(0,f)+i+c.slice(f+r);return l.__text=m,l}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){zt();const r=this.getLatest(),i=r.getTextContent();if(i==="")return[];const a=r.__key,l=Ss(),c=i.length;t.sort((U,W)=>U-W),t.push(c);const d=[],f=t.length;for(let U=0,W=0;U<c&&W<=f;W++){const re=t[W];re>U&&(d.push(i.slice(U,re)),U=re)}const g=d.length;if(g===1)return[r];const m=d[0],v=r.getParent();let _;const w=r.getFormat(),S=r.getStyle(),b=r.__detail;let k=!1,C=null,E=null;const O=oe();if(X(O)){const[U,W]=O.isBackward()?[O.focus,O.anchor]:[O.anchor,O.focus];U.type==="text"&&U.key===a&&(C=U),W.type==="text"&&W.key===a&&(E=W)}r.isSegmented()?(_=Ot(m),_.__format=w,_.__style=S,_.__detail=b,_.__state=Dw(r,_),k=!0):_=r.setTextContent(m);const M=[_];for(let U=1;U<g;U++){const W=Ot(d[U]);W.__format=w,W.__style=S,W.__detail=b,W.__state=Dw(r,W);const re=W.__key;l===a&&Mt(re),M.push(W)}const I=C?C.offset:null,F=E?E.offset:null;let D=0;for(const U of M){if(!C&&!E)break;const W=D+U.getTextContentSize();if(C!==null&&I!==null&&I<=W&&I>=D&&(C.set(U.getKey(),I-D,"text"),I<W&&(C=null)),E!==null&&F!==null&&F<=W&&F>=D){E.set(U.getKey(),F-D,"text");break}D=W}if(v!==null){(function(re){const we=re.getPreviousSibling(),fe=re.getNextSibling();we!==null&&od(we),fe!==null&&od(fe)})(this);const U=v.getWritable(),W=this.getIndexWithinParent();k?(U.splice(W,0,M),this.remove()):U.splice(W,1,M),X(O)&&rd(O,v,W,g-1)}return M}mergeWithSibling(t){const r=t===this.getPreviousSibling();r||t===this.getNextSibling()||Q(50);const i=this.__key,a=t.__key,l=this.__text,c=l.length;Ss()===a&&Mt(i);const d=oe();if(X(d)){const v=d.anchor,_=d.focus;v!==null&&v.key===a&&t0(v,r,i,t,c),_!==null&&_.key===a&&t0(_,r,i,t,c)}const f=t.__text,g=r?f+l:l+f;this.setTextContent(g);const m=this.getWritable();return t.remove(),m}isTextEntity(){return!1}}function VI(n){return{forChild:qg(n.style),node:null}}function HI(n){const e=n,t=e.style.fontWeight==="normal";return{forChild:qg(e.style,t?void 0:"bold"),node:null}}const Hw=new WeakMap;function qI(n){if(!ft(n))return!1;if(n.nodeName==="PRE")return!0;const e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function JI(n){const e=n;n.parentElement===null&&Q(129);let t=e.textContent||"";if((function(r){let i,a=r.parentNode;const l=[r];for(;a!==null&&(i=Hw.get(a))===void 0&&!qI(a);)l.push(a),a=a.parentNode;const c=i===void 0?a:i;for(let d=0;d<l.length;d++)Hw.set(l[d],c);return c})(e)!==null){const r=t.split(/(\r?\n|\t)/),i=[],a=r.length;for(let l=0;l<a;l++){const c=r[l];c===`
`||c===`\r
`?i.push(Ti()):c==="	"?i.push(ql()):c!==""&&i.push(Ot(c))}return{node:i}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,i=!0;for(;r!==null&&(r=qw(r,!1))!==null;){const a=r.textContent||"";if(a.length>0){/[ \t\n]$/.test(a)&&(t=t.slice(1)),i=!1;break}}i&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,i=!0;for(;r!==null&&(r=qw(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:Ot(t)}}function qw(n,e){let t=n;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){const a=t.parentElement;if(a===null)return null;t=a}if(t=r,ft(t)){const a=t.style.display;if(a===""&&!ag(t)||a!==""&&!a.startsWith("inline"))return null}let i=t;for(;(i=e?t.firstChild:t.lastChild)!==null;)t=i;if(Fr(t))return t;if(t.nodeName==="BR")return null}}const GI={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function wr(n){const e=GI[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:qg(n.style,e),node:null}}function Ot(n=""){return Mi(new Is(n))}function ee(n){return n instanceof Is}function qg(n,e){const t=n.fontWeight,r=n.textDecoration.split(" "),i=t==="700"||t==="bold",a=r.includes("line-through"),l=n.fontStyle==="italic",c=r.includes("underline"),d=n.verticalAlign;return f=>(ee(f)&&(i&&!f.hasFormat("bold")&&f.toggleFormat("bold"),a&&!f.hasFormat("strikethrough")&&f.toggleFormat("strikethrough"),l&&!f.hasFormat("italic")&&f.toggleFormat("italic"),c&&!f.hasFormat("underline")&&f.toggleFormat("underline"),d!=="sub"||f.hasFormat("subscript")||f.toggleFormat("subscript"),d!=="super"||f.hasFormat("superscript")||f.toggleFormat("superscript"),e&&!f.hasFormat(e)&&f.toggleFormat(e)),f)}class la extends Is{static getType(){return"tab"}static clone(e){return new la(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),r=Lo(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return ql().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&Nb(126),super.setTextContent("	")}spliceText(e,t,r,i){return r===""&&t===0||r==="	"&&t===1||Q(286),this}setDetail(e){return e!==2&&Q(127),this}setMode(e){return e!=="normal"&&Q(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ql(){return Mi(new la)}function gx(n){return n instanceof la}class QI{constructor(e,t,r){H(this,"key");H(this,"offset");H(this,"type");H(this,"_selection");this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Kx(Cn(Mr(this,"next")),Cn(Mr(e,"next")))<0}getNode(){const e=xt(this.key);return e===null&&Q(20),e}set(e,t,r,i){const a=this._selection,l=this.key;i&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,Jl()||(Ss()===l&&Mt(e),a!==null&&(a.setCachedNodes(null),a.dirty=!0)))}}function lr(n,e,t){return new QI(n,e,t)}function Jf(n,e){let t=e.__key,r=n.offset,i="element";if(ee(e)){i="text";const a=e.getTextContentSize();r>a&&(r=a)}else if(!K(e)){const a=e.getNextSibling();if(ee(a))t=a.__key,r=0,i="text";else{const l=e.getParent();l&&(t=l.__key,r=e.getIndexWithinParent()+1)}}n.set(t,r,i)}function Jw(n,e){if(K(e)){const t=e.getLastDescendant();K(t)||ee(t)?Jf(n,t):Jf(n,e)}else Jf(n,e)}class wd{constructor(e){H(this,"_nodes");H(this,"_cachedNodes");H(this,"dirty");this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!fn(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(i=>r.has(i))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new wd(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),r=t.length,i=t[r-1];let a;if(ee(i))a=i.select();else{const l=i.getIndexWithinParent()+1;a=i.getParentOrThrow().select(l,l)}a.insertNodes(e);for(let l=0;l<r;l++)t[l].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,r=[];for(const i of t){const a=xt(i);a!==null&&r.push(a)}return Jl()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((oe()||ua())===this&&e[0]){const t=Wt(e[0],"next");OD(Ns(t,t))}for(const t of e)t.remove()}}function X(n){return n instanceof Li}class Li{constructor(e,t,r,i){H(this,"format");H(this,"style");H(this,"anchor");H(this,"focus");H(this,"_cachedNodes");H(this,"dirty");this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!X(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=(function(r){const i=[],[a,l]=r.getTextSlices();a&&i.push(a.caret.origin);const c=new Set,d=new Set;for(const f of r)if(ar(f)){const{origin:g}=f;i.length===0?c.add(g):(d.add(g),i.push(g))}else{const{origin:g}=f;K(g)&&d.has(g)||i.push(g)}if(l&&i.push(l.caret.origin),Qo(r.focus)&&K(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let f=qn(r.focus.origin,"previous");ar(f)&&c.has(f.origin)&&!f.origin.isEmpty()&&f.origin.is(i[i.length-1]);f=fm(f))c.delete(f.origin),i.pop();for(;i.length>1;){const f=i[i.length-1];if(!K(f)||d.has(f)||f.isEmpty()||c.has(f))break;i.pop()}if(i.length===0&&r.isCollapsed()){const f=Cn(r.anchor),g=Cn(r.anchor.getFlipped()),m=_=>Es(_)?_.origin:_.getNodeAtCaret(),v=m(f)||m(g)||(r.anchor.getNodeAtCaret()?f.origin:g.origin);i.push(v)}return i})(qx(w0(this),"next"));return Jl()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,i){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,i,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1],i=this.anchor,a=this.focus,l=i.isBefore(a),[c,d]=eg(this);let f="",g=!0;for(let m=0;m<e.length;m++){const v=e[m];if(K(v)&&!v.isInline())g||(f+=`
`),g=!v.isEmpty();else if(g=!1,ee(v)){let _=v.getTextContent();v===t?v===r?i.type==="element"&&a.type==="element"&&a.offset!==i.offset||(_=c<d?_.slice(c,d):_.slice(d,c)):_=l?_.slice(c):_.slice(d):v===r&&(_=l?_.slice(0,d):_.slice(0,c)),f+=_}else!Ke(v)&&!Do(v)||v===r&&this.isCollapsed()||(f+=v.getTextContent())}return f}applyDOMRange(e){const t=Ge(),r=t.getEditorState()._selection,i=yx(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(i===null)return;const[a,l]=i;this.anchor.set(a.key,a.offset,a.type,!0),this.focus.set(l.key,l.offset,l.type,!0),Jc(this)}clone(){const e=this.anchor,t=this.focus;return new Li(lr(e.key,e.offset,e.type),lr(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=id(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=ki[e];return(this.format&t)!==0}insertRawText(e){const t=e.split(/(\r?\n|\t)/),r=[],i=t.length;for(let a=0;a<i;a++){const l=t[a];l===`
`||l===`\r
`?r.push(Ti()):l==="	"?r.push(ql()):r.push(Ot(l))}this.insertNodes(r)}insertText(e){const t=this.anchor,r=this.focus,i=this.format,a=this.style;let l=t,c=r;!this.isCollapsed()&&r.isBefore(t)&&(l=r,c=t),l.type==="element"&&(function(b,k,C,E){const O=b.getNode(),M=O.getChildAtIndex(b.offset),I=Ot();if(I.setFormat(C),I.setStyle(E),Zg(M))M.splice(0,0,[I]);else{const F=mt(O)?Rt().append(I):I;M===null?O.append(F):M.insertBefore(F)}b.is(k)&&k.set(I.__key,0,"text"),b.set(I.__key,0,"text")})(l,c,i,a),c.type==="element"&&Ii(c,Cn(Mr(c,"next")));const d=l.offset;let f=c.offset;const g=this.getNodes(),m=g.length;let v=g[0];ee(v)||Q(26);const _=v.getTextContent().length,w=v.getParentOrThrow();let S=g[m-1];if(m===1&&c.type==="element"&&(f=_,c.set(l.key,f,"text")),this.isCollapsed()&&d===_&&(kr(v)||!v.canInsertTextAfter()||!w.canInsertTextAfter()&&v.getNextSibling()===null)){let b=v.getNextSibling();if(ee(b)&&b.canInsertTextBefore()&&!kr(b)||(b=Ot(),b.setFormat(i),b.setStyle(a),w.canInsertTextAfter()?v.insertAfter(b):w.insertAfter(b)),b.select(0,0),v=b,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&d===0&&(kr(v)||!v.canInsertTextBefore()||!w.canInsertTextBefore()&&v.getPreviousSibling()===null)){let b=v.getPreviousSibling();if(ee(b)&&!kr(b)||(b=Ot(),b.setFormat(i),w.canInsertTextBefore()?v.insertBefore(b):w.insertBefore(b)),b.select(),v=b,e!=="")return void this.insertText(e)}else if(v.isSegmented()&&d!==_){const b=Ot(v.getTextContent());b.setFormat(i),v.replace(b),v=b}else if(!this.isCollapsed()&&e!==""){const b=S.getParent();if(!w.canInsertTextBefore()||!w.canInsertTextAfter()||K(b)&&(!b.canInsertTextBefore()||!b.canInsertTextAfter()))return this.insertText(""),mx(this.anchor,this.focus,null),void this.insertText(e)}if(m===1){if(_i(v)){const E=Ot(e);return E.select(),void v.replace(E)}const b=v.getFormat(),k=v.getStyle();if(d!==f||b===i&&k===a){if(gx(v)){const E=Ot(e);return E.setFormat(i),E.setStyle(a),E.select(),void v.replace(E)}}else{if(v.getTextContent()!==""){const E=Ot(e);if(E.setFormat(i),E.setStyle(a),E.select(),d===0)v.insertBefore(E,!1);else{const[O]=v.splitText(d);O.insertAfter(E,!1)}return void(E.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}v.setFormat(i),v.setStyle(a)}const C=f-d;v=v.spliceText(d,C,e,!0),v.getTextContent()===""?v.remove():this.anchor.type==="text"&&(v.isComposing()?this.anchor.offset-=e.length:(this.format=b,this.style=k))}else{const b=new Set([...v.getParentKeys(),...S.getParentKeys()]),k=K(v)?v:v.getParentOrThrow();let C=K(S)?S:S.getParentOrThrow(),E=S;if(!k.is(C)&&C.isInline())do E=C,C=C.getParentOrThrow();while(C.isInline());if(c.type==="text"&&(f!==0||S.getTextContent()==="")||c.type==="element"&&S.getIndexWithinParent()<f)if(ee(S)&&!_i(S)&&f!==S.getTextContentSize()){if(S.isSegmented()){const D=Ot(S.getTextContent());S.replace(D),S=D}mt(c.getNode())||c.type!=="text"||(S=S.spliceText(0,f,"")),b.add(S.__key)}else{const D=S.getParentOrThrow();D.canBeEmpty()||D.getChildrenSize()!==1?S.remove():D.remove()}else b.add(S.__key);const O=C.getChildren(),M=new Set(g),I=k.is(C),F=k.isInline()&&v.getNextSibling()===null?k:v;for(let D=O.length-1;D>=0;D--){const U=O[D];if(U.is(v)||K(U)&&U.isParentOf(v))break;U.isAttached()&&(!M.has(U)||U.is(E)?I||F.insertAfter(U,!1):U.remove())}if(!I){let D=C,U=null;for(;D!==null;){const W=D.getChildren(),re=W.length;(re===0||W[re-1].is(U))&&(b.delete(D.__key),U=D),D=D.getParent()}}if(_i(v))if(d===_)v.select();else{const D=Ot(e);D.select(),v.replace(D)}else v=v.spliceText(d,_-d,e,!0),v.getTextContent()===""?v.remove():v.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let D=1;D<m;D++){const U=g[D],W=U.__key;b.has(W)||U.remove()}}}removeText(){const e=oe()===this;jc(this,PD(w0(this))),e&&oe()!==this&&an(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void Mt(null);const r=this.getNodes(),i=[];for(const O of r)ee(O)&&i.push(O);const a=O=>{r.forEach(M=>{if(K(M)){const I=M.getFormatFlags(e,O);M.setTextFormat(I)}})},l=i.length;if(l===0)return this.toggleFormat(e),Mt(null),void a(t);const c=this.anchor,d=this.focus,f=this.isBackward(),g=f?d:c,m=f?c:d;let v=0,_=i[0],w=g.type==="element"?0:g.offset;if(g.type==="text"&&w===_.getTextContentSize()&&(v=1,_=i[1],w=0),_==null)return;const S=_.getFormatFlags(e,t);a(S);const b=l-1;let k=i[b];const C=m.type==="text"?m.offset:k.getTextContentSize();if(_.is(k)){if(w===C)return;if(kr(_)||w===0&&C===_.getTextContentSize())_.setFormat(S);else{const O=_.splitText(w,C),M=w===0?O[0]:O[1];M.setFormat(S),g.type==="text"&&g.set(M.__key,0,"text"),m.type==="text"&&m.set(M.__key,C-w,"text")}return void(this.format=S)}w===0||kr(_)||([,_]=_.splitText(w),w=0),_.setFormat(S);const E=k.getFormatFlags(e,S);C>0&&(C===k.getTextContentSize()||kr(k)||([k]=k.splitText(C)),k.setFormat(E));for(let O=v+1;O<b;O++){const M=i[O],I=M.getFormatFlags(e,E);M.setFormat(I)}g.type==="text"&&g.set(_.__key,w,"text"),m.type==="text"&&m.set(k.__key,C,"text"),this.format=S|E}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const w=oe();return X(w)||Q(134),w.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),r=Ar(t,cs),i=e[e.length-1];if(K(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const w=Gf(this);r.splice(w,0,e),i.selectEnd()}return}if(!e.some(w=>(K(w)||Ke(w))&&!w.isInline())){K(r)||Q(211,t.constructor.name,t.getType());const w=Gf(this);return r.splice(w,0,e),void i.selectEnd()}const a=(function(w){const S=Rt();let b=null;for(let k=0;k<w.length;k++){const C=w[k],E=Do(C);if(E||Ke(C)&&C.isInline()||K(C)&&C.isInline()||ee(C)||C.isParentRequired()){if(b===null&&(b=C.createParentElementNode(),S.append(b),E))continue;b!==null&&b.append(C)}else S.append(C),b=null}return S})(e),l=a.getLastDescendant(),c=a.getChildren(),d=!K(r)||!r.isEmpty()?this.insertParagraph():null,f=c[c.length-1];let g=c[0];var m;K(m=g)&&cs(m)&&!m.isEmpty()&&K(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(K(r)||Q(211,t.constructor.name,t.getType()),r.append(...g.getChildren()),g=c[1]),g&&(r===null&&Q(212,t.constructor.name,t.getType()),(function(w,S){const b=S.getParentOrThrow().getLastChild();let k=S;const C=[S];for(;k!==b;)k.getNextSibling()||Q(140),k=k.getNextSibling(),C.push(k);let E=w;for(const O of C)E=E.insertAfter(O)})(r,g));const v=Ar(l,cs);d&&K(v)&&(d.canMergeWhenEmpty()||cs(f))&&(v.append(...d.getChildren()),d.remove()),K(r)&&r.isEmpty()&&r.remove(),l.selectEnd();const _=K(r)?r.getLastChild():null;Do(_)&&v!==r&&_.remove()}insertParagraph(){if(this.anchor.key==="root"){const l=Rt();return ht().splice(this.anchor.offset,0,[l]),l.select(),l}const e=Gf(this),t=Ar(this.anchor.getNode(),cs);K(t)||Q(213);const r=t.getChildAtIndex(e),i=r?[r,...r.getNextSiblings()]:[],a=t.insertNewAfter(this,!1);return a?(a.append(...i),a.selectStart(),a):null}insertLineBreak(e){const t=Ti();if(this.insertNodes([t]),e){const r=t.getParentOrThrow(),i=t.getIndexWithinParent();r.select(i,i)}}extract(){const e=[...this.getNodes()],t=e.length;let r=e[0],i=e[t-1];const[a,l]=eg(this),c=this.isBackward(),[d,f]=c?[this.focus,this.anchor]:[this.anchor,this.focus],[g,m]=c?[l,a]:[a,l];if(t===0)return[];if(t===1){if(ee(r)&&!this.isCollapsed()){const v=r.splitText(g,m),_=g===0?v[0]:v[1];return _?(d.set(_.getKey(),0,"text"),f.set(_.getKey(),_.getTextContentSize(),"text"),[_]):[]}return[r]}if(ee(r)&&(g===r.getTextContentSize()?e.shift():g!==0&&([,r]=r.splitText(g),e[0]=r,d.set(r.getKey(),0,"text"))),ee(i)){const v=i.getTextContent().length;m===0?e.pop():m!==v&&([i]=i.splitText(m),e[e.length-1]=i,f.set(i.getKey(),i.getTextContentSize(),"text"))}return e}modify(e,t,r){if(n0(this,e,t,r))return;const i=e==="move",a=Ge(),l=Gn(Nn(a));if(!l)return;const c=a._blockCursorElement,d=a._rootElement,f=this.focus.getNode();if(d===null||c===null||!K(f)||f.isInline()||f.canBeEmpty()||ig(c,a,d),this.dirty){let g=Pi(a,this.anchor.key),m=Pi(a,this.focus.key);this.anchor.type==="text"&&(g=Go(g)),this.focus.type==="text"&&(m=Go(m)),g&&m&&Sx(l,g,this.anchor.offset,m,this.focus.offset)}if((function(g,m,v,_){g.modify(m,v,_)})(l,e,t?"backward":"forward",r),l.rangeCount>0){const g=l.getRangeAt(0),m=this.anchor.getNode(),v=mt(m)?m:pD(m);if(this.applyDOMRange(g),this.dirty=!0,!i){const _=this.getNodes(),w=[];let S=!1;for(let b=0;b<_.length;b++){const k=_[b];sg(k,v)?w.push(k):S=!0}if(S&&w.length>0)if(t){const b=w[0];K(b)?b.selectStart():b.getParentOrThrow().selectStart()}else{const b=w[w.length-1];K(b)?b.selectEnd():b.getParentOrThrow().selectEnd()}l.anchorNode===g.startContainer&&l.anchorOffset===g.startOffset||(function(b){const k=b.focus,C=b.anchor,E=C.key,O=C.offset,M=C.type;C.set(k.key,k.offset,k.type,!0),k.set(E,O,M,!0)})(this)}}r==="lineboundary"&&n0(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&K(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const i=t.getParent(),a=t.getNextSibling()||(i===null?null:i.getNextSibling());if(K(a)&&a.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let i=r.getNode();if(this.forwardDeletion(r,i,e))return;const a=gm(Mr(r,e?"previous":"next"));if(a.getTextSlices().every(c=>c===null||c.distance===0)){let c={type:"initial"};for(const d of a.iterNodeCarets("shadowRoot"))if(ar(d)){if(!d.origin.isInline()){if(d.origin.isShadowRoot()){if(c.type==="merge-block")break;if(K(a.anchor.origin)&&a.anchor.origin.isEmpty()){const f=Cn(d);jc(this,Ns(f,f)),a.anchor.origin.remove()}return}c.type!=="merge-next-block"&&c.type!=="merge-block"||(c={block:c.block,caret:d,type:"merge-block"})}}else{if(c.type==="merge-block")break;if(Qo(d)){if(K(d.origin)){if(d.origin.isInline()){if(!d.origin.isParentOf(a.anchor.origin))break}else c={block:d.origin,type:"merge-next-block"};continue}if(Ke(d.origin)){if(!d.origin.isIsolated())if(c.type==="merge-next-block"&&(d.origin.isKeyboardSelectable()||!d.origin.isInline())&&K(a.anchor.origin)&&a.anchor.origin.isEmpty()){a.anchor.origin.remove();const f=wx();f.add(d.origin.getKey()),an(f)}else d.origin.remove();return}break}}if(c.type==="merge-block"){const{caret:d,block:f}=c;return jc(this,Ns(!d.origin.isEmpty()&&f.isEmpty()?mm(Wt(f,d.direction)):a.anchor,d)),this.removeText()}}const l=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&Qw(this,r.getNode()))return}else{const c=l.type==="text"?l.getNode():null;if(i=r.type==="text"?r.getNode():null,c!==null&&c.isSegmented()){const d=l.offset,f=c.getTextContentSize();if(c.is(i)||e&&d!==f||!e&&d!==0)return void Yw(c,e,d)}else if(i!==null&&i.isSegmented()){const d=r.offset,f=i.getTextContentSize();if(i.is(c)||e&&d!==0||!e&&d!==f)return void Yw(i,e,d)}(function(d,f){const g=d.anchor,m=d.focus,v=g.getNode(),_=m.getNode();if(v===_&&g.type==="text"&&m.type==="text"){const w=g.offset,S=m.offset,b=w<S,k=b?w:S,C=b?S:w,E=C-1;k!==E&&(function(O){return!(Mx(O)||YI(O))})(v.getTextContent().slice(k,C))&&(f?m.set(m.key,E,m.type):g.set(g.key,E,g.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&mt(r.getParent())&&r.getPreviousSibling()===null&&Qw(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function fn(n){return n instanceof wd}function Gw(n){const e=n.offset;if(n.type==="text")return e;const t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function eg(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[Gw(t),Gw(r)]}function Qw(n,e){for(let t=e;t;t=t.getParent()){if(K(t)){if(t.collapseAtStart(n))return!0;if(on(t))break}if(t.getPreviousSibling())break}return!1}const YI=(()=>{try{const n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function Yw(n,e,t){const r=n,i=r.getTextContent().split(/(?=\s)/g),a=i.length;let l=0,c=0;for(let f=0;f<a;f++){const g=f===a-1;if(c=l,l+=i[f].length,e&&l===t||l>t||g){i.splice(f,1),g&&(c=void 0);break}}const d=i.join("").trim();d===""?r.remove():(r.setTextContent(d),r.select(c,c))}function Xw(n,e,t,r){let i,a=e;if(ft(n)){let l=!1;const c=n.childNodes,d=c.length,f=r._blockCursorElement;a===d&&(l=!0,a=d-1);let g=c[a],m=!1;if(g===f)g=c[a+1],m=!0;else if(f!==null){const v=f.parentNode;n===v&&e>Array.prototype.indexOf.call(v.children,f)&&a--}if(i=Po(g),ee(i))a=Cs(i,l?"next":"previous");else{let v=Po(n);if(v===null)return null;if(K(v)){const _=r.getElementByKey(v.getKey());_===null&&Q(214),[v,a]=v.getDOMSlot(_).resolveChildIndex(v,_,n,e),K(v)||Q(215),l&&a>=v.getChildrenSize()&&(a=Math.max(0,v.getChildrenSize()-1));let S=v.getChildAtIndex(a);if(K(S)&&(function(b,k,C){const E=b.getParent();return C===null||E===null||!E.canBeEmpty()||E!==C.getNode()})(S,0,t)){const b=l?S.getLastDescendant():S.getFirstDescendant();b===null?v=S:(S=b,v=K(S)?S:S.getParentOrThrow()),a=0}ee(S)?(i=S,v=null,a=Cs(S,l?"next":"previous")):S!==v&&l&&!m&&(K(v)||Q(216),a=Math.min(v.getChildrenSize(),a+1))}else{const _=v.getIndexWithinParent();a=e===0&&Ke(v)&&Po(n)===v?_:_+1,v=v.getParentOrThrow()}if(K(v))return lr(v.__key,a,"element")}}else i=Po(n);return ee(i)?lr(i.__key,Cs(i,a,"clamp"),"text"):null}function Zw(n,e,t){const r=n.offset,i=n.getNode();if(r===0){const a=i.getPreviousSibling(),l=i.getParent();if(e){if((t||!e)&&a===null&&K(l)&&l.isInline()){const c=l.getPreviousSibling();ee(c)&&n.set(c.__key,c.getTextContent().length,"text")}}else K(a)&&!t&&a.isInline()?n.set(a.__key,a.getChildrenSize(),"element"):ee(a)&&n.set(a.__key,a.getTextContent().length,"text")}else if(r===i.getTextContent().length){const a=i.getNextSibling(),l=i.getParent();if(e&&K(a)&&a.isInline())n.set(a.__key,0,"element");else if((t||e)&&a===null&&K(l)&&l.isInline()&&!l.canInsertTextAfter()){const c=l.getNextSibling();ee(c)&&n.set(c.__key,0,"text")}}}function mx(n,e,t){if(n.type==="text"&&e.type==="text"){const r=n.isBefore(e),i=n.is(e);Zw(n,r,i),Zw(e,!r,i),i&&e.set(n.key,n.offset,n.type);const a=Ge();if(a.isComposing()&&a._compositionKey!==n.key&&X(t)){const l=t.anchor,c=t.focus;n.set(l.key,l.offset,l.type,!0),e.set(c.key,c.offset,c.type,!0)}}}function yx(n,e,t,r,i,a){if(n===null||t===null||!Ql(i,n,t))return null;const l=Xw(n,e,X(a)?a.anchor:null,i);if(l===null)return null;const c=Xw(t,r,X(a)?a.focus:null,i);if(c===null)return null;if(l.type==="element"&&c.type==="element"){const d=Po(n),f=Po(t);if(Ke(d)&&Ke(f))return null}return mx(l,c,a),[l,c]}function tg(n){return K(n)&&!n.isInline()}function vx(n,e,t,r,i,a){const l=Ds(),c=new Li(lr(n,e,i),lr(t,r,a),0,"");return c.dirty=!0,l._selection=c,c}function _x(){const n=lr("root",0,"element"),e=lr("root",0,"element");return new Li(n,e,0,"")}function wx(){return new wd(new Set)}function Jg(n,e,t,r){const i=t._window;if(i===null)return null;const a=r||i.event,l=a?a.type:void 0,c=l==="selectionchange",d=!Mp&&(c||l==="beforeinput"||l==="compositionstart"||l==="compositionend"||l==="click"&&a&&a.detail===3||l==="drop"||l===void 0);let f,g,m,v;if(X(n)&&!d)return n.clone();if(e===null)return null;if(f=e.anchorNode,g=e.focusNode,m=e.anchorOffset,v=e.focusOffset,(c||l===void 0)&&X(n)&&!Ql(t,f,g))return n.clone();const _=yx(f,m,g,v,t,n);if(_===null)return null;const[w,S]=_;return new Li(w,S,X(n)?n.format:0,X(n)?n.style:"")}function oe(){return Ds()._selection}function ua(){return Ge()._editorState._selection}function rd(n,e,t,r=1){const i=n.anchor,a=n.focus,l=i.getNode(),c=a.getNode();if(!e.is(l)&&!e.is(c))return;const d=e.__key;if(n.isCollapsed()){const f=i.offset;if(t<=f&&r>0||t<f&&r<0){const g=Math.max(0,f+r);i.set(d,g,"element"),a.set(d,g,"element"),e0(n)}}else{const f=n.isBackward(),g=f?a:i,m=g.getNode(),v=f?i:a,_=v.getNode();if(e.is(m)){const w=g.offset;(t<=w&&r>0||t<w&&r<0)&&g.set(d,Math.max(0,w+r),"element")}if(e.is(_)){const w=v.offset;(t<=w&&r>0||t<w&&r<0)&&v.set(d,Math.max(0,w+r),"element")}}e0(n)}function e0(n){const e=n.anchor,t=e.offset,r=n.focus,i=r.offset,a=e.getNode(),l=r.getNode();if(n.isCollapsed()){if(!K(a))return;const c=a.getChildrenSize(),d=t>=c,f=d?a.getChildAtIndex(c-1):a.getChildAtIndex(t);if(ee(f)){let g=0;d&&(g=f.getTextContentSize()),e.set(f.__key,g,"text"),r.set(f.__key,g,"text")}return}if(K(a)){const c=a.getChildrenSize(),d=t>=c,f=d?a.getChildAtIndex(c-1):a.getChildAtIndex(t);if(ee(f)){let g=0;d&&(g=f.getTextContentSize()),e.set(f.__key,g,"text")}}if(K(l)){const c=l.getChildrenSize(),d=i>=c,f=d?l.getChildAtIndex(c-1):l.getChildAtIndex(i);if(ee(f)){let g=0;d&&(g=f.getTextContentSize()),r.set(f.__key,g,"text")}}}function sd(n,e,t,r,i){let a=null,l=0,c=null;r!==null?(a=r.__key,ee(r)?(l=r.getTextContentSize(),c="text"):K(r)&&(l=r.getChildrenSize(),c="element")):i!==null&&(a=i.__key,ee(i)?c="text":K(i)&&(c="element")),a!==null&&c!==null?n.set(a,l,c):(l=e.getIndexWithinParent(),l===-1&&(l=t.getChildrenSize()),n.set(t.__key,l,"element"))}function t0(n,e,t,r,i){n.type==="text"?n.set(t,n.offset+(e?0:i),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function Sx(n,e,t,r,i){try{n.setBaseAndExtent(e,t,r,i)}catch{}}function XI(n,e,t,r,i,a,l){const c=r.anchorNode,d=r.focusNode,f=r.anchorOffset,g=r.focusOffset,m=document.activeElement;if(i.has(UI)&&m!==a||m!==null&&nm(m))return;if(!X(e))return void(n!==null&&Ql(t,c,d)&&r.removeAllRanges());const v=e.anchor,_=e.focus,w=v.key,S=_.key,b=Pi(t,w),k=Pi(t,S),C=v.offset,E=_.offset,O=e.format,M=e.style,I=e.isCollapsed();let F=b,D=k,U=!1;if(v.type==="text"){F=Go(b);const Ie=v.getNode();U=Ie.getFormat()!==O||Ie.getStyle()!==M}else X(n)&&n.anchor.type==="text"&&(U=!0);var W,re,we,fe,Te;if(_.type==="text"&&(D=Go(k)),F!==null&&D!==null&&(I&&(n===null||U||X(n)&&(n.format!==O||n.style!==M))&&(W=O,re=M,we=C,fe=w,Te=performance.now(),ox=[W,re,we,fe,Te]),f!==C||g!==E||c!==F||d!==D||r.type==="Range"&&I||(m!==null&&a.contains(m)||i.has(WI)||a.focus({preventScroll:!0}),v.type==="element"))){if(Sx(r,F,C,D,E),!i.has(zI)&&e.isCollapsed()&&a!==null&&a===document.activeElement){const Ie=X(e)&&e.anchor.type==="element"?F.childNodes[C]||null:r.rangeCount>0?r.getRangeAt(0):null;if(Ie!==null){let Re;if(Ie instanceof Text){const Oe=document.createRange();Oe.selectNode(Ie),Re=Oe.getBoundingClientRect()}else Re=Ie.getBoundingClientRect();(function(Oe,B,de){const te=Ux(de),L=um(te);if(te===null||L===null)return;let{top:q,bottom:ge}=B,ye=0,Ne=0,Pe=de;for(;Pe!==null;){const Ee=Pe===te.body;if(Ee)ye=0,Ne=Nn(Oe).innerHeight;else{const ze=Pe.getBoundingClientRect();ye=ze.top,Ne=ze.bottom}let je=0;if(q<ye?je=-(ye-q):ge>Ne&&(je=ge-Ne),je!==0)if(Ee)L.scrollBy(0,je);else{const ze=Pe.scrollTop;Pe.scrollTop+=je;const ut=Pe.scrollTop-ze;q-=ut,ge-=ut}if(Ee)break;Pe=Yl(Pe)}})(t,Re,a)}}Jp=!0}}function ZI(n){let e=oe()||ua();e===null&&(e=ht().selectEnd()),e.insertNodes(n)}function Gf(n){let e=n;n.isCollapsed()||e.removeText();const t=oe();X(t)&&(e=t),X(e)||Q(161);const r=e.anchor;let i=r.getNode(),a=r.offset;for(;!cs(i);){const l=i;if([i,a]=eD(i,a),l.is(i))break}return a}function eD(n,e){const t=n.getParent();if(!t){const i=Rt();return ht().append(i),i.select(),[ht(),0]}if(ee(n)){const i=n.splitText(e);if(i.length===0)return[t,n.getIndexWithinParent()];const a=e===0?0:1;return[t,i[0].getIndexWithinParent()+a]}if(!K(n)||e===0)return[t,n.getIndexWithinParent()];const r=n.getChildAtIndex(e);if(r){const i=new Li(lr(n.__key,e,"element"),lr(n.__key,e,"element"),0,""),a=n.insertNewAfter(i);a&&a.append(r,...r.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}function n0(n,e,t,r,i="decorators-and-blocks"){if(e==="move"&&r==="character"&&!n.isCollapsed()){const[g,m]=t===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return m.set(g.key,g.offset,g.type),!0}const a=Mr(n.focus,t?"previous":"next"),l=r==="lineboundary",c=e==="move";let d=a,f=i==="decorators-and-blocks";if(!Hx(d)){for(const g of d){f=!1;const{origin:m}=g;if(!Ke(m)||m.isIsolated()||(d=g,!l||!m.isInline()))break}if(f)for(const g of gm(a).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(ar(g))g.origin.isInline()||(d=g);else{if(K(g.origin))continue;Ke(g.origin)&&!g.origin.isInline()&&(d=g)}break}}if(d===a)return!1;if(c&&!l&&Ke(d.origin)&&d.origin.isKeyboardSelectable()){const g=wx();return g.add(d.origin.getKey()),an(g),!0}return d=Cn(d),c&&Ii(n.anchor,d),Ii(n.focus,d),f||!l}let Pt=null,Nt=null,sn=!1,Qf=!1,Lc=0;const r0={characterData:!0,childList:!0,subtree:!0};function Jl(){return sn||Pt!==null&&Pt._readOnly}function zt(){sn&&Q(13)}function bx(){Lc>99&&Q(14)}function Ds(){return Pt===null&&Q(195,xx()),Pt}function Ge(){return Nt===null&&Q(196,xx()),Nt}function xx(){let n=0;const e=new Set,t=Oi.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const a=bd(i);if(rm(a))n++;else if(a){let l=String(a.constructor.version||"<0.17.1");l===t&&(l+=" (separately built, likely a bundler configuration issue)"),e.add(l)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function tD(){return Nt}function s0(n,e,t){const r=e.__type,i=Px(n,r);let a=t.get(r);a===void 0&&(a=Array.from(i.transforms),t.set(r,a));const l=a.length;for(let c=0;c<l&&(a[c](e),e.isAttached());c++);}function i0(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function kx(n,e){if(!e)return;const t=n._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const i of r)t.add(i)}function nD(n){return Gg(n,Ge()._nodes)}function Gg(n,e){const t=n.type,r=e.get(t);r===void 0&&Q(17,t);const i=r.klass;n.type!==i.getType()&&Q(18,i.name);const a=i.importJSON(n),l=n.children;if(K(a)&&Array.isArray(l))for(let c=0;c<l.length;c++){const d=Gg(l[c],e);a.append(d)}return a}function o0(n,e,t){const r=Pt,i=sn,a=Nt;Pt=e,sn=!0,Nt=n;try{return t()}finally{Pt=r,sn=i,Nt=a}}function Nr(n,e){const t=n._pendingEditorState,r=n._rootElement,i=n._headless||r===null;if(t===null)return;const a=n._editorState,l=a._selection,c=t._selection,d=n._dirtyType!==0,f=Pt,g=sn,m=Nt,v=n._updating,_=n._observer;let w=null;if(n._pendingEditorState=null,n._editorState=t,!i&&d&&_!==null){Nt=n,Pt=t,sn=!1,n._updating=!0;try{const I=n._dirtyType,F=n._dirtyElements,D=n._dirtyLeaves;_.disconnect(),w=_I(a,t,n,I,F,D)}catch(I){if(I instanceof Error&&n._onError(I),Qf)throw I;return Tx(n,null,r,t),jb(n),n._dirtyType=2,Qf=!0,Nr(n,a),void(Qf=!1)}finally{_.observe(r,r0),n._updating=v,Pt=f,sn=g,Nt=m}}t._readOnly||(t._readOnly=!0);const S=n._dirtyLeaves,b=n._dirtyElements,k=n._normalizedNodes,C=n._updateTags,E=n._deferred;d&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),(function(I,F){const D=I._decorators;let U=I._pendingDecorators||D;const W=F._nodeMap;let re;for(re in U)W.has(re)||(U===D&&(U=Dx(I)),delete U[re])})(n,t);const O=i?null:Gn(Nn(n));if(n._editable&&O!==null&&(d||c===null||c.dirty||!c.is(l))&&r!==null&&!C.has(BI)){Nt=n,Pt=t;try{if(_!==null&&_.disconnect(),d||c===null||c.dirty){const I=n._blockCursorElement;I!==null&&ig(I,n,r),XI(l,c,n,O,C,r)}(function(I,F,D){let U=I._blockCursorElement;if(X(D)&&D.isCollapsed()&&D.anchor.type==="element"&&F.contains(document.activeElement)){const W=D.anchor,re=W.getNode(),we=W.offset;let fe=!1,Te=null;if(we===re.getChildrenSize())Xf(re.getChildAtIndex(we-1))&&(fe=!0);else{const Ie=re.getChildAtIndex(we);if(Ie!==null&&Xf(Ie)){const Re=Ie.getPreviousSibling();(Re===null||Xf(Re))&&(fe=!0,Te=I.getElementByKey(Ie.__key))}}if(fe){const Ie=I.getElementByKey(re.__key);return U===null&&(I._blockCursorElement=U=(function(Re){const Oe=Re.theme,B=document.createElement("div");B.contentEditable="false",B.setAttribute("data-lexical-cursor","true");let de=Oe.blockCursor;if(de!==void 0){if(typeof de=="string"){const te=Ab(de);de=Oe.blockCursor=te}de!==void 0&&B.classList.add(...de)}return B})(I._config)),F.style.caretColor="transparent",void(Te===null?Ie.appendChild(U):Ie.insertBefore(U,Te))}}U!==null&&ig(U,I,F)})(n,r,c)}finally{_!==null&&_.observe(r,r0),Nt=m,Pt=f}}w!==null&&(function(I,F,D,U,W){const re=Array.from(I._listeners.mutation),we=re.length;for(let fe=0;fe<we;fe++){const[Te,Ie]=re[fe];for(const Re of Ie){const Oe=F.get(Re);Oe!==void 0&&Te(Oe,{dirtyLeaves:U,prevEditorState:W,updateTags:D})}}})(n,w,C,S,a),X(c)||c===null||l!==null&&l.is(c)||n.dispatchCommand(Kb,void 0);const M=n._pendingDecorators;M!==null&&(n._decorators=M,n._pendingDecorators=null,ml("decorator",n,!0,M)),(function(I,F,D){const U=c0(F),W=c0(D);U!==W&&ml("textcontent",I,!0,W)})(n,e||a,t),ml("update",n,!0,{dirtyElements:b,dirtyLeaves:S,editorState:t,mutatedNodes:w,normalizedNodes:k,prevEditorState:e||a,tags:C}),(function(I,F){if(I._deferred=[],F.length!==0){const D=I._updating;I._updating=!0;try{for(let U=0;U<F.length;U++)F[U]()}finally{I._updating=D}}})(n,E),(function(I){const F=I._updates;if(F.length!==0){const D=F.shift();if(D){const[U,W]=D;Sd(I,U,W)}}})(n)}function ml(n,e,t,...r){const i=e._updating;e._updating=t;try{const a=Array.from(e._listeners[n]);for(let l=0;l<a.length;l++)a[l].apply(null,r)}finally{e._updating=i}}function a0(n,e){const t=n._updates;let r=e||!1;for(;t.length!==0;){const i=t.shift();if(i){const[a,l]=i,c=n._pendingEditorState;let d;l!==void 0&&(d=l.onUpdate,l.skipTransforms&&(r=!0),l.discrete&&(c===null&&Q(191),c._flushSync=!0),d&&n._deferred.push(d),kx(n,l.tag)),c==null?Sd(n,a,l):a()}}return r}function Sd(n,e,t){const r=n._updateTags;let i,a=!1,l=!1;t!==void 0&&(i=t.onUpdate,kx(n,t.tag),a=t.skipTransforms||!1,l=t.discrete||!1),i&&n._deferred.push(i);const c=n._editorState;let d=n._pendingEditorState,f=!1;(d===null||d._readOnly)&&(d=n._pendingEditorState=Ex(d||c),f=!0),d._flushSync=l;const g=Pt,m=sn,v=Nt,_=n._updating;Pt=d,sn=!1,n._updating=!0,Nt=n;const w=n._headless||n.getRootElement()===null;em(null);try{f&&(w?c._selection!==null&&(d._selection=c._selection.clone()):d._selection=(function(C,E){const O=C.getEditorState()._selection,M=Gn(Nn(C));return X(O)||O==null?Jg(O,M,C,E):O.clone()})(n,t&&t.event||null));const b=n._compositionKey;e(),a=a0(n,a),(function(C,E){const O=E.getEditorState()._selection,M=C._selection;if(X(M)){const I=M.anchor,F=M.focus;let D;if(I.type==="text"&&(D=I.getNode(),D.selectionTransform(O,M)),F.type==="text"){const U=F.getNode();D!==U&&U.selectionTransform(O,M)}}})(d,n),n._dirtyType!==0&&(a?(function(C,E){const O=E._dirtyLeaves,M=C._nodeMap;for(const I of O){const F=M.get(I);ee(F)&&F.isAttached()&&F.isSimpleText()&&!F.isUnmergeable()&&jw(F)}})(d,n):(function(C,E){const O=E._dirtyLeaves,M=E._dirtyElements,I=C._nodeMap,F=Ss(),D=new Map;let U=O,W=U.size,re=M,we=re.size;for(;W>0||we>0;){if(W>0){E._dirtyLeaves=new Set;for(const fe of U){const Te=I.get(fe);ee(Te)&&Te.isAttached()&&Te.isSimpleText()&&!Te.isUnmergeable()&&jw(Te),Te!==void 0&&i0(Te,F)&&s0(E,Te,D),O.add(fe)}if(U=E._dirtyLeaves,W=U.size,W>0){Lc++;continue}}E._dirtyLeaves=new Set,E._dirtyElements=new Map,re.delete("root")&&re.set("root",!0);for(const fe of re){const Te=fe[0],Ie=fe[1];if(M.set(Te,Ie),!Ie)continue;const Re=I.get(Te);Re!==void 0&&i0(Re,F)&&s0(E,Re,D)}U=E._dirtyLeaves,W=U.size,re=E._dirtyElements,we=re.size,Lc++}E._dirtyLeaves=O,E._dirtyElements=M})(d,n),a0(n),(function(C,E,O,M){const I=C._nodeMap,F=E._nodeMap,D=[];for(const[U]of M){const W=F.get(U);W!==void 0&&(W.isAttached()||(K(W)&&Db(W,U,I,F,D,M),I.has(U)||M.delete(U),D.push(U)))}for(const U of D)F.delete(U);for(const U of O){const W=F.get(U);W===void 0||W.isAttached()||(I.has(U)||O.delete(U),F.delete(U))}})(c,d,n._dirtyLeaves,n._dirtyElements)),b!==n._compositionKey&&(d._flushSync=!0);const k=d._selection;if(X(k)){const C=d._nodeMap,E=k.anchor.key,O=k.focus.key;C.get(E)!==void 0&&C.get(O)!==void 0||Q(19)}else fn(k)&&k._nodes.size===0&&(d._selection=null)}catch(b){return b instanceof Error&&n._onError(b),n._pendingEditorState=c,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Nr(n)}finally{Pt=g,sn=m,Nt=v,n._updating=_,Lc=0}n._dirtyType!==0||n._deferred.length>0||(function(b,k){const C=k.getEditorState()._selection,E=b._selection;if(E!==null){if(E.dirty||!E.is(C))return!0}else if(C!==null)return!0;return!1})(d,n)?d._flushSync?(d._flushSync=!1,Nr(n)):f&&lD(()=>{Nr(n)}):(d._flushSync=!1,f&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function or(n,e,t){Nt===n&&t===void 0?e():Sd(n,e,t)}class yl{constructor(e,t,r){H(this,"element");H(this,"before");H(this,"after");this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new yl(this.element,e,this.after)}withAfter(e){return new yl(this.element,this.before,e)}withElement(e){return this.element===e?this:new yl(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&Q(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&Q(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&Q(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(Hl||oa||Vl);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,i=this.before,a=document.createElement("br");if(r.insertBefore(a,i),e){const l=document.createElement("img");l.setAttribute("data-lexical-linebreak","true"),l.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",l.alt="",r.insertBefore(l,a),r.__lexicalLineBreak=l}else r.__lexicalLineBreak=a}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,i){if(r===this.element){const d=this.getFirstChildOffset();return[e,Math.min(d+e.getChildrenSize(),Math.max(d,i))]}const a=l0(t,r);a.push(i);const l=l0(t,this.element);let c=e.getIndexWithinParent();for(let d=0;d<l.length;d++){const f=a[d],g=l[d];if(f===void 0||f<g)break;if(f>g){c+=1;break}}return[e.getParentOrThrow(),c]}}function l0(n,e){const t=[];let r=e;for(;r!==n&&r!==null;r=r.parentNode){let i=0;for(let a=r.previousSibling;a!==null;a=a.previousSibling)i++;t.push(i)}return r!==n&&Q(225),t.reverse()}class ur extends Hn{constructor(t){super(t);H(this,"__first");H(this,"__last");H(this,"__size");H(this,"__format");H(this,"__style");H(this,"__indent");H(this,"__dir");H(this,"__textFormat");H(this,"__textStyle");this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(t){super.afterCloneFrom(t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return aI[t]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getChildrenKeys(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r.__key),r=r.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=Ge()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(t)}getAllTextNodes(){const t=[];let r=this.getFirstChild();for(;r!==null;){if(ee(r)&&t.push(r),K(r)){const i=r.getAllTextNodes();t.push(...i)}r=r.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;K(t);){const r=t.getFirstChild();if(r===null)break;t=r}return t}getLastDescendant(){let t=this.getLastChild();for(;K(t);){const r=t.getLastChild();if(r===null)break;t=r}return t}getDescendantByIndex(t){const r=this.getChildren(),i=r.length;if(t>=i){const l=r[i-1];return K(l)&&l.getLastDescendant()||l||null}const a=r[t];return K(a)&&a.getFirstDescendant()||a||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:xt(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&Q(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:xt(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&Q(96,this.__key),t}getChildAtIndex(t){const r=this.getChildrenSize();let i,a;if(t<r/2){for(i=this.getFirstChild(),a=0;i!==null&&a<=t;){if(a===t)return i;i=i.getNextSibling(),a++}return null}for(i=this.getLastChild(),a=r-1;i!==null&&a>=t;){if(a===t)return i;i=i.getPreviousSibling(),a--}return null}getTextContent(){let t="";const r=this.getChildren(),i=r.length;for(let a=0;a<i;a++){const l=r[a];t+=l.getTextContent(),K(l)&&a!==i-1&&!l.isInline()&&(t+=Ps)}return t}getTextContentSize(){let t=0;const r=this.getChildren(),i=r.length;for(let a=0;a<i;a++){const l=r[a];t+=l.getTextContentSize(),K(l)&&a!==i-1&&!l.isInline()&&(t+=2)}return t}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(t){if(t!==""){const r=Pw[t];return(this.getFormat()&r)!==0}return!1}hasTextFormat(t){const r=ki[t];return(this.getTextFormat()&r)!==0}getFormatFlags(t,r){return id(this.getLatest().__textFormat,t,r)}getTextStyle(){return this.getLatest().__textStyle}select(t,r){zt();const i=oe();let a=t,l=r;const c=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&r===0){const f=this.getFirstChild();if(ee(f)||K(f))return f.select(0,0)}else if(!(t!==void 0&&t!==c||r!==void 0&&r!==c)){const f=this.getLastChild();if(ee(f)||K(f))return f.select()}}a===void 0&&(a=c),l===void 0&&(l=c);const d=this.__key;return X(i)?(i.anchor.set(d,a,"element"),i.focus.set(d,l,"element"),i.dirty=!0,i):vx(d,a,d,l,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(r=>r.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const r=this.getWritable();return r.__dir=t,r}setFormat(t){return this.getWritable().__format=t!==""?Pw[t]:0,this}setStyle(t){return this.getWritable().__style=t||"",this}setTextFormat(t){const r=this.getWritable();return r.__textFormat=t,r}setTextStyle(t){const r=this.getWritable();return r.__textStyle=t,r}setIndent(t){return this.getWritable().__indent=t,this}splice(t,r,i){nd(this)&&Q(324,this.__key,this.__type);const a=this.getChildrenSize(),l=this.getWritable();t+r<=a||Q(226,String(t),String(r),String(a));const c=l.__key,d=[],f=[],g=this.getChildAtIndex(t+r);let m=null,v=a-r+i.length;if(t!==0)if(t===a)m=this.getLastChild();else{const w=this.getChildAtIndex(t);w!==null&&(m=w.getPreviousSibling())}if(r>0){let w=m===null?this.getFirstChild():m.getNextSibling();for(let S=0;S<r;S++){w===null&&Q(100);const b=w.getNextSibling(),k=w.__key;wi(w.getWritable()),f.push(k),w=b}}let _=m;for(const w of i){_!==null&&w.is(_)&&(m=_=_.getPreviousSibling());const S=w.getWritable();S.__parent===c&&v--,wi(S);const b=w.__key;if(_===null)l.__first=b,S.__prev=null;else{const k=_.getWritable();k.__next=b,S.__prev=k.__key}w.__key===c&&Q(76),S.__parent=c,d.push(b),_=w}if(t+r===a)_!==null&&(_.getWritable().__next=null,l.__last=_.__key);else if(g!==null){const w=g.getWritable();if(_!==null){const S=_.getWritable();w.__prev=_.__key,S.__next=g.__key}else w.__prev=null}if(l.__size=v,f.length){const w=oe();if(X(w)){const S=new Set(f),b=new Set(d),{anchor:k,focus:C}=w;u0(k,S,b)&&sd(k,k.getNode(),this,m,g),u0(C,S,b)&&sd(C,C.getNode(),this,m,g),v!==0||this.canBeEmpty()||on(this)||this.remove()}}return l}getDOMSlot(t){return new yl(t)}exportDOM(t){const{element:r}=super.exportDOM(t);if(ft(r)){const i=this.getIndent();i>0&&(r.style.paddingInlineStart=40*i+"px");const a=this.getDirection();a&&(r.dir=a)}return{element:r}}exportJSON(){const t={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},r=this.getTextFormat(),i=this.getTextStyle();return r===0&&i===""||on(this)||this.getChildren().some(ee)||(r!==0&&(t.textFormat=r),i!==""&&(t.textStyle=i)),t}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"")}insertNewAfter(t,r){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,r,i){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(t,r){const i=this.getDOMSlot(t);let a=i.getFirstChild();for(let l=this.getFirstChild();l;l=l.getNextSibling()){const c=r.getElementByKey(l.getKey());c!==null&&(a==null?(i.insertChild(c),a=c):a!==c&&i.replaceChild(c,a),a=a.nextSibling)}}}function K(n){return n instanceof ur}function u0(n,e,t){let r=n.getNode();for(;r;){const i=r.__key;if(e.has(i)&&!t.has(i))return!0;r=r.getParent()}return!1}class Qg extends Hn{decorate(e,t){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ke(n){return n instanceof Qg}class ca extends ur{constructor(){super("root");H(this,"__cachedText");this.__cachedText=null}static getType(){return"root"}static clone(){return new ca}getTopLevelElementOrThrow(){Q(51)}getTextContent(){const t=this.__cachedText;return!Jl()&&Ge()._dirtyType!==0||t===null?super.getTextContent():t}remove(){Q(52)}replace(t){Q(53)}insertBefore(t){Q(54)}insertAfter(t){Q(55)}updateDOM(t,r){return!1}splice(t,r,i){for(const a of i)K(a)||Ke(a)||Q(282);return super.splice(t,r,i)}static importJSON(t){return ht().updateFromJSON(t)}collapseAtStart(){return!0}}function mt(n){return n instanceof ca}function Ex(n){return new Gl(new Map(n._nodeMap))}function Yg(){return new Gl(new Map([["root",new ca]]))}function Cx(n){const e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&Q(130,t.name),K(n)){const r=e.children;Array.isArray(r)||Q(59,t.name);const i=n.getChildren();for(let a=0;a<i.length;a++){const l=Cx(i[a]);r.push(l)}}return e}function rD(n){return n instanceof Gl}class Gl{constructor(e,t){H(this,"_nodeMap");H(this,"_selection");H(this,"_flushSync");H(this,"_readOnly");this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return o0(t&&t.editor||null,this,e)}clone(e){const t=new Gl(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return o0(null,this,()=>({root:Cx(ht())}))}}class Xg extends ur{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class da extends ur{static getType(){return"paragraph"}static clone(e){return new da(e.__key)}createDOM(e){const t=document.createElement("p"),r=Lo(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:sD,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ft(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return Rt().updateFromJSON(e)}exportJSON(){const e=super.exportJSON();if(e.textFormat===void 0||e.textStyle===void 0){const t=this.getChildren().find(ee);t?(e.textFormat=t.getFormat(),e.textStyle=t.getStyle()):(e.textFormat=this.getTextFormat(),e.textStyle=this.getTextStyle())}return e}insertNewAfter(e,t){const r=Rt();r.setTextFormat(e.format),r.setTextStyle(e.style);const i=this.getDirection();return r.setDirection(i),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||ee(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function sD(n){const e=Rt();return n.style&&(e.setFormat(n.style.textAlign),Bx(n,e)),{node:e}}function Rt(){return Mi(new da)}function Zg(n){return n instanceof da}const Me=0,Kn=1,iD=4;function Tx(n,e,t,r){const i=n._keyToDOMMap;i.clear(),n._editorState=Yg(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const a=n._observer;a!==null&&(a.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",i.set("root",t))}function oD(n){const e=new Set,t=new Set;let r=n;for(;r;){const{ownNodeConfig:i}=Ed(r),a=r.transform;if(!t.has(a)){t.add(a);const l=r.transform();l&&e.add(l)}if(i){const l=i.$transform;l&&e.add(l),r=i.extends}else{const l=Object.getPrototypeOf(r);r=l.prototype instanceof Hn&&l!==Hn?l:void 0}}return e}function Ox(n){const e=n||{},t=tD(),r=e.theme||{},i=n===void 0?t:e.parentEditor||null,a=e.disableEvents||!1,l=Yg(),c=e.namespace||(i!==null?i._config.namespace:jx()),d=e.editorState,f=[ca,Is,aa,la,da,Xg,...e.nodes||[]],{onError:g,html:m}=e,v=e.editable===void 0||e.editable;let _;if(n===void 0&&t!==null)_=t._nodes;else{_=new Map;for(let S=0;S<f.length;S++){let b=f[S],k=null,C=null;if(typeof b!="function"){const M=b;b=M.replace,k=M.with,C=M.withKlass||null}Ed(b);const E=b.getType(),O=oD(b);_.set(E,{exportDOM:m&&m.export?m.export.get(b):void 0,klass:b,replace:k,replaceWithKlass:C,sharedNodeState:pI(f[S]),transforms:O})}}const w=new Oi(l,i,_,{disableEvents:a,namespace:c,theme:r},g||console.error,(function(S,b){const k=new Map,C=new Set,E=O=>{Object.keys(O).forEach(M=>{let I=k.get(M);I===void 0&&(I=[],k.set(M,I)),I.push(O[M])})};return S.forEach(O=>{const M=O.klass.importDOM;if(M==null||C.has(M))return;C.add(M);const I=M.call(O.klass);I!==null&&E(I)}),b&&E(b),k})(_,m?m.import:void 0),v,n);return d!==void 0&&(w._pendingEditorState=d,w._dirtyType=2),(function(S){S.registerCommand(Hb,AI,Me),S.registerCommand(qb,II,Me),S.registerCommand(Jb,DI,Me),S.registerCommand(Gb,LI,Me),S.registerCommand(Qb,MI,Me)})(w),w}class Oi{constructor(e,t,r,i,a,l,c,d){H(this,"_headless");H(this,"_parentEditor");H(this,"_rootElement");H(this,"_editorState");H(this,"_pendingEditorState");H(this,"_compositionKey");H(this,"_deferred");H(this,"_keyToDOMMap");H(this,"_updates");H(this,"_updating");H(this,"_listeners");H(this,"_commands");H(this,"_nodes");H(this,"_decorators");H(this,"_pendingDecorators");H(this,"_config");H(this,"_dirtyType");H(this,"_cloneNotNeeded");H(this,"_dirtyLeaves");H(this,"_dirtyElements");H(this,"_normalizedNodes");H(this,"_updateTags");H(this,"_observer");H(this,"_key");H(this,"_onError");H(this,"_htmlConversions");H(this,"_window");H(this,"_editable");H(this,"_blockCursorElement");H(this,"_createEditorArgs");this._createEditorArgs=d,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=jx(),this._onError=a,this._htmlConversions=l,this._editable=c,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&Q(35);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const a=i.get(e);a===void 0&&Q(36,String(e));const l=a[r];return l.add(t),()=>{l.delete(t),a.every(c=>c.size===0)&&i.delete(e)}}registerMutationListener(e,t,r){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,a=this._listeners.mutation;let l=a.get(t);l===void 0&&(l=new Set,a.set(t,l)),l.add(i);const c=r&&r.skipInitialization;return c!==void 0&&c||this.initializeMutationListener(t,i),()=>{l.delete(i),l.size===0&&a.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&Q(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const r=this._editorState,i=y0(r).get(t.getType());if(!i)return;const a=new Map;for(const l of i.keys())a.set(l,"created");a.size>0&&e(a,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){const r=this.registerNodeTransformToKlass(e,t),i=[r],a=r.replaceWithKlass;if(a!=null){const l=this.registerNodeTransformToKlass(a,t);i.push(l)}return(function(l,c){const d=y0(l.getEditorState()),f=[];for(const g of c){const m=d.get(g);m&&f.push(m)}f.length!==0&&l.update(()=>{for(const g of f)for(const m of g.keys()){const v=xt(m);v&&v.markDirty()}},l._pendingEditorState===null?{tag:vi}:void 0)})(this,i.map(l=>l.klass.getType())),()=>{i.forEach(l=>l.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return se(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const r=Lo(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,Tx(this,t,e,i),t!==null&&(this._config.disableEvents||jI(t),r!=null&&t.classList.remove(...r)),e!==null){const a=um(e),l=e.style;l.userSelect="text",l.whiteSpace="pre-wrap",l.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=a,this._dirtyType=2,jb(this),this._updateTags.add(vi),Nr(this),this._config.disableEvents||(function(c,d){const f=c.ownerDocument;qp.set(c,f);const g=ed.get(f)??0;g<1&&f.addEventListener("selectionchange",dx),ed.set(f,g+1),c.__lexicalEditor=d;const m=cx(c);for(let v=0;v<Hp.length;v++){const[_,w]=Hp[v],S=typeof w=="function"?b=>{Kw(b)||(Ww(b),(d.isEditable()||_==="click")&&w(b,d))}:b=>{if(Kw(b))return;Ww(b);const k=d.isEditable();switch(_){case"cut":return k&&se(d,Hg,b);case"copy":return se(d,_d,b);case"paste":return k&&se(d,$g,b);case"dragstart":return k&&se(d,nx,b);case"dragover":return k&&se(d,rx,b);case"dragend":return k&&se(d,CI,b);case"focus":return k&&se(d,PI,b);case"blur":return k&&se(d,NI,b);case"drop":return k&&se(d,tx,b)}};c.addEventListener(_,S),m.push(()=>{c.removeEventListener(_,S)})}})(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(vi),Nr(this);ml("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&Q(38);let r=e;r._readOnly&&(r=Ex(e),r._selection=e._selection?e._selection.clone():null),Mb(this);const i=this._pendingEditorState,a=this._updateTags,l=t!==void 0?t.tag:null;i===null||i.isEmpty()||(l!=null&&a.add(l),Nr(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,l!=null&&a.add(l),this._updating||Nr(this)}parseEditorState(e,t){return(function(r,i,a){const l=Yg(),c=Pt,d=sn,f=Nt,g=i._dirtyElements,m=i._dirtyLeaves,v=i._cloneNotNeeded,_=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Pt=l,sn=!1,Nt=i,em(null);try{const w=i._nodes;Gg(r.root,w),a&&a(),l._readOnly=!0}catch(w){w instanceof Error&&i._onError(w)}finally{i._dirtyElements=g,i._dirtyLeaves=m,i._cloneNotNeeded=v,i._dirtyType=_,Pt=c,sn=d,Nt=f}return l})(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return Nr(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,i,a){r._updating?r._updates.push([i,a]):Sd(r,i,a)})(this,e,t)}focus(e,t={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),or(this,()=>{const i=oe(),a=ht();i!==null?i.dirty||an(i.clone()):a.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?a.selectStart():a.selectEnd()),hD("focus"),fD(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=Gn(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,ml("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}H(Oi,"version");Oi.version="0.39.0+prod.esm";let ng=null;function em(n){ng=n}let aD=1;function Px(n,e){const t=tm(n,e);return t===void 0&&Q(30,e),t}function tm(n,e){return n._nodes.get(e)}const lD=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function Nx(n){return Ke(Lr(n))}function nm(n){const e=document.activeElement;if(!ft(e))return!1;const t=e.nodeName;return Ke(Lr(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&bd(e)==null)}function Ql(n,e,t){const r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!nm(e)&&sm(e)===n}catch{return!1}}function rm(n){return n instanceof Oi}function sm(n){let e=n;for(;e!=null;){const t=bd(e);if(rm(t))return t;e=Yl(e)}return null}function bd(n){return n?n.__lexicalEditor:null}function _i(n){return gx(n)||n.isToken()}function kr(n){return _i(n)||n.isSegmented()}function Fr(n){return ha(n)&&n.nodeType===3}function Rx(n){return ha(n)&&n.nodeType===9}function Go(n){let e=n;for(;e!=null;){if(Fr(e))return e;e=e.firstChild}return null}function id(n,e,t){const r=ki[e];if(t!==null&&(n&r)===(t&r))return n;let i=n^r;return e==="subscript"?i&=-65:e==="superscript"?i&=-33:e==="lowercase"?(i&=-513,i&=-1025):e==="uppercase"?(i&=-257,i&=-1025):e==="capitalize"&&(i&=-257,i&=-513),i}function Ax(n){return ee(n)||Do(n)||Ke(n)}function uD(n,e){const t=(function(){const l=ng;return ng=null,l})();if((e=e||t&&t.__key)!=null)return void(n.__key=e);zt(),bx();const r=Ge(),i=Ds(),a=""+aD++;i._nodeMap.set(a,n),K(n)?r._dirtyElements.set(a,!0):r._dirtyLeaves.add(a),r._cloneNotNeeded.add(a),r._dirtyType=1,n.__key=a}function wi(n){const e=n.getParent();if(e!==null){const t=n.getWritable(),r=e.getWritable(),i=n.getPreviousSibling(),a=n.getNextSibling(),l=a!==null?a.__key:null,c=i!==null?i.__key:null,d=i!==null?i.getWritable():null,f=a!==null?a.getWritable():null;i===null&&(r.__first=l),a===null&&(r.__last=c),d!==null&&(d.__next=l),f!==null&&(f.__prev=c),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function od(n){bx(),nd(n)&&Q(323,n.__key,n.__type);const e=n.getLatest(),t=e.__parent,r=Ds(),i=Ge(),a=r._nodeMap,l=i._dirtyElements;t!==null&&(function(d,f,g){let m=d;for(;m!==null;){if(g.has(m))return;const v=f.get(m);if(v===void 0)break;g.set(m,!1),m=v.__parent}})(t,a,l);const c=e.__key;i._dirtyType=1,K(n)?l.set(c,!0):i._dirtyLeaves.add(c)}function Mt(n){zt();const e=Ge(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){const r=xt(t);r!==null&&r.getWritable()}if(n!==null){const r=xt(n);r!==null&&r.getWritable()}}}function Ss(){return Jl()?null:Ge()._compositionKey}function xt(n,e){const t=(e||Ds())._nodeMap.get(n);return t===void 0?null:t}function Ix(n,e){const t=xd(n,Ge());return t!==void 0?xt(t,e):null}function xd(n,e){return n[`__lexicalKey_${e._key}`]}function Lr(n,e){let t=n;for(;t!=null;){const r=Ix(t,e);if(r!==null)return r;t=Yl(t)}return null}function Dx(n){const e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function c0(n){return n.read(()=>ht().getTextContent())}function ht(){return Lx(Ds())}function Lx(n){return n._nodeMap.get("root")}function an(n){zt();const e=Ds();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function Po(n){const e=Ge(),t=(function(r,i){let a=r;for(;a!=null;){const l=xd(a,i);if(l!==void 0)return l;a=Yl(a)}return null})(n,e);return t===null?n===e.getRootElement()?xt("root"):null:xt(t)}function Mx(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function im(n){const e=[];let t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function jx(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function $x(n){return Fr(n)?n.nodeValue:null}function om(n,e,t){const r=Gn(Nn(e));if(r===null)return;const i=r.anchorNode;let{anchorOffset:a,focusOffset:l}=r;if(i!==null){let c=$x(i);const d=Lr(i);if(c!==null&&ee(d)){if(c===yd&&t){const f=t.length;c=t,a=f,l=f}c!==null&&am(d,c,a,l,n)}}}function am(n,e,t,r,i){let a=n;if(a.isAttached()&&(i||!a.isDirty())){const l=a.isComposing();let c=e;(l||i)&&e[e.length-1]===yd&&(c=e.slice(0,-1));const d=a.getTextContent();if(i||c!==d){if(c===""){if(Mt(null),Vl||oa||Hl)a.remove();else{const S=Ge();setTimeout(()=>{S.update(()=>{a.isAttached()&&a.remove()})},20)}return}const f=a.getParent(),g=ua(),m=a.getTextContentSize(),v=Ss(),_=a.getKey();if(a.isToken()||v!==null&&_===v&&!l||X(g)&&(f!==null&&!f.canInsertTextBefore()&&g.anchor.offset===0||g.anchor.key===n.__key&&g.anchor.offset===0&&!a.canInsertTextBefore()&&!l||g.focus.key===n.__key&&g.focus.offset===m&&!a.canInsertTextAfter()&&!l))return void a.markDirty();const w=oe();if(!X(w)||t===null||r===null)return void d0(a,c,w);if(w.setTextNodeRange(a,t,a,r),a.isSegmented()){const S=Ot(a.getTextContent());a.replace(S),a=S}d0(a,c,w)}}}function d0(n,e,t){if(n.setTextContent(e),X(t)){const r=n.getKey();for(const i of["anchor","focus"]){const a=t[i];a.type==="text"&&a.key===r&&(a.offset=Cs(n,a.offset,"clamp"))}}}function xc(n,e,t){const r=e[t]||!1;return r==="any"||r===n[t]}function cD(n,e){return xc(n,e,"altKey")&&xc(n,e,"ctrlKey")&&xc(n,e,"shiftKey")&&xc(n,e,"metaKey")}function Je(n,e,t){return cD(n,t)&&n.key.toLowerCase()===e.toLowerCase()}const br={ctrlKey:!Wn,metaKey:Wn},h0={altKey:Wn,ctrlKey:!Wn};function f0(n){return n.key==="Backspace"}function p0(n){return Je(n,"a",br)}function dD(n){const e=ht();if(X(n)){const t=n.anchor,r=n.focus,i=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(i.getKey(),0,"element"),r.set(i.getKey(),i.getChildrenSize(),"element"),Jc(n),n}{const t=e.select(0,e.getChildrenSize());return an(Jc(t)),t}}function Lo(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const t=n.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;const i=n[e];if(typeof i=="string"){const a=Ab(i);return t[e]=a,a}return i}function lm(n,e,t,r,i){if(t.size===0)return;const a=r.__type,l=r.__key,c=e.get(a);c===void 0&&Q(33,a);const d=c.klass;let f=n.get(d);f===void 0&&(f=new Map,n.set(d,f));const g=f.get(l),m=g==="destroyed"&&i==="created";(g===void 0||m)&&f.set(l,m?"updated":i)}function g0(n,e,t){const r=n.getParent();let i=t,a=n;return r!==null&&(e&&t===0?(i=a.getIndexWithinParent(),a=r):e||t!==a.getChildrenSize()||(i=a.getIndexWithinParent()+1,a=r)),a.getChildAtIndex(e?i-1:i)}function rg(n,e){const t=n.offset;if(n.type==="element")return g0(n.getNode(),e,t);{const r=n.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){const i=e?r.getPreviousSibling():r.getNextSibling();return i===null?g0(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):i}}return null}function Fx(n){const e=Nn(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function se(n,e,t){return(function(r,i,a){const l=im(r);for(let c=4;c>=0;c--)for(let d=0;d<l.length;d++){const f=l[d],g=f._commands.get(i);if(g!==void 0){const m=g[c];if(m!==void 0){const v=Array.from(m),_=v.length;let w=!1;if(or(f,()=>{for(let S=0;S<_;S++)if(v[S](a,r))return void(w=!0)}),w)return w}}}return!1})(n,e,t)}function kd(n){return!mt(n)&&!n.isLastChild()&&!n.isInline()}function Pi(n,e){const t=n._keyToDOMMap.get(e);return t===void 0&&Q(75,e),t}function Yl(n){const e=n.assignedSlot||n.parentElement;return og(e)?e.host:e}function Ux(n){return Rx(n)?n:ft(n)?n.ownerDocument:null}function hD(n){zt(),Ge()._updateTags.add(n)}function fD(n){zt(),Ge()._deferred.push(n)}function sg(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function um(n){const e=Ux(n);return e?e.defaultView:null}function Nn(n){const e=n._window;return e===null&&Q(78),e}function pD(n){let e=n.getParentOrThrow();for(;e!==null;){if(on(e))return e;e=e.getParentOrThrow()}return e}function on(n){return mt(n)||K(n)&&n.isShadowRoot()}function Mi(n){const e=Ge(),t=n.getType(),r=tm(e,t);r===void 0&&Q(200,n.constructor.name,t);const{replace:i,replaceWithKlass:a}=r;if(i!==null){const l=i(n),c=l.constructor;return a!==null?l instanceof a||Q(201,a.name,a.getType(),c.name,c.getType(),n.constructor.name,t):l instanceof n.constructor&&c!==n.constructor||Q(202,c.name,c.getType(),n.constructor.name,t),l.__key===n.__key&&Q(203,n.constructor.name,t,c.name,c.getType()),l}return n}function Yf(n,e){!mt(n.getParent())||K(e)||Ke(e)||Q(99)}function gD(n){const e=xt(n);return e===null&&Q(63,n),e}function Xf(n){return(Ke(n)||K(n)&&!n.canBeEmpty())&&!n.isInline()}function ig(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=n.parentElement;r!==null&&r.removeChild(n)}function Gn(n){return Jn?(n||window).getSelection():null}function mD(n){const e=um(n);return e?e.getSelection():null}function ft(n){return ha(n)&&n.nodeType===1}function ha(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function og(n){return ha(n)&&n.nodeType===11}function ag(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function ad(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function cs(n){if(Ke(n)&&!n.isInline())return!0;if(!K(n)||on(n))return!1;const e=n.getFirstChild(),t=e===null||Do(e)||ee(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function cm(){return Ge()}const m0=new WeakMap,yD=new Map;function y0(n){if(!n._readOnly&&n.isEmpty())return yD;n._readOnly||Q(192);let e=m0.get(n);return e||(e=(function(t){const r=new Map;for(const[i,a]of t._nodeMap){const l=a.__type;let c=r.get(l);c||(c=new Map,r.set(l,c)),c.set(i,a)}return r})(n),m0.set(n,e)),e}function zx(n){const e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function vD(n){return(e=zx(n))[hx]=!0,e;var e}function Bx(n,e){const t=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function _D(n){return n.__lexicalUnmanaged===!0}function ol(n,e){return(function(t,r){return Object.prototype.hasOwnProperty.call(t,r)})(n,e)&&n[e]!==Hn[e]}function Ed(n){const e=Nw in n.prototype?n.prototype[Nw]():void 0,t=(function(l){if(!(l===Hn||l.prototype instanceof Hn)){let c="<unknown>",d="<unknown>";try{c=l.getType()}catch{}try{Oi.version&&(d=JSON.parse(Oi.version))}catch{}Q(290,l.name,c,d)}return l===Qg||l===ur||l===Hn})(n),r=!t&&ol(n,"getType")?n.getType():void 0;let i,a=r;if(e)if(r)i=e[r];else for(const[l,c]of Object.entries(e))a=l,i=c;if(!t&&a&&(ol(n,"getType")||(n.getType=()=>a),ol(n,"clone")||(n.clone=l=>(em(l),new n)),ol(n,"importJSON")||(n.importJSON=i&&i.$importJSON||(l=>new n().updateFromJSON(l))),!ol(n,"importDOM")&&i)){const{importDOM:l}=i;l&&(n.importDOM=()=>l)}return{ownNodeConfig:i,ownNodeType:a}}const Ar=(n,e)=>{let t=n;for(;t!=null&&!mt(t);){if(e(t))return t;t=t.getParent()}return null},wD={next:"previous",previous:"next"};class dm{constructor(e){H(this,"origin");this.origin=e}[Symbol.iterator](){return Wx({hasNext:Qo,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Wt(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Wt(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){const i=r===this.direction?t:Array.from(t).reverse();let a=this;const l=this.getParentAtCaret(),c=new Map;for(let d=a.getAdjacentCaret();d!==null&&c.size<e;d=d.getAdjacentCaret()){const f=d.origin.getWritable();c.set(f.getKey(),f)}for(const d of i){if(c.size>0){const f=a.getNodeAtCaret();if(f){if(c.delete(f.getKey()),c.delete(d.getKey()),!(f.is(d)||a.origin.is(d))){const g=d.getParent();g&&g.is(l)&&d.remove(),f.replace(d)}}else f===null&&Q(263,Array.from(c).join(" "))}else a.insert(d);a=Wt(d,this.direction)}for(const d of c.values())d.remove();return this}}class Dl extends dm{constructor(){super(...arguments);H(this,"type","child")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:qn(t,this.direction)}getParentCaret(t="root"){return Wt(hm(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=fa(this.direction);return Wt(this.getNodeAtCaret(),t)||qn(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof Dl&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const SD={root:mt,shadowRoot:on};function fa(n){return wD[n]}function hm(n,e="root"){return SD[e](n)?null:n}class Ni extends dm{constructor(){super(...arguments);H(this,"type","sibling")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Wt(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return K(this.origin)?qn(this.origin,this.direction):null}getParentCaret(t="root"){return Wt(hm(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=fa(this.direction);return Wt(this.getNodeAtCaret(),t)||qn(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof Ni&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof Ni||t instanceof Ri)&&this.direction===t.direction&&this.origin.is(t.origin)}}class Ri extends dm{constructor(t,r){super(t);H(this,"type","text");H(this,"offset");this.offset=r}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Ai(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return Wt(hm(this.getParentAtCaret(),t),this.direction)}getFlipped(){return Ai(this.origin,fa(this.direction),this.offset)}isSamePointCaret(t){return t instanceof Ri&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof Ni||t instanceof Ri)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return Wt(this.origin,this.direction)}}function Es(n){return n instanceof Ri}function Qo(n){return n instanceof Ni}function ar(n){return n instanceof Dl}const bD={next:class extends Ri{constructor(){super(...arguments);H(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Ri{constructor(){super(...arguments);H(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},xD={next:class extends Ni{constructor(){super(...arguments);H(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Ni{constructor(){super(...arguments);H(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},kD={next:class extends Dl{constructor(){super(...arguments);H(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Dl{constructor(){super(...arguments);H(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function Wt(n,e){return n?new xD[e](n):null}function Ai(n,e,t){return n?new bD[e](n,Cs(n,t)):null}function Cs(n,e,t="error"){const r=n.getTextContentSize();let i=e==="next"?r:e==="previous"?0:e;return(i<0||i>r)&&(t!=="clamp"&&Nb(284,String(e),String(r),n.getKey()),i=i<0?0:r),i}function v0(n,e){return new CD(n,e)}function qn(n,e){return K(n)?new kD[e](n):null}function ED(n){return n&&n.getChildCaret()||n}function fm(n){return n&&ED(n.getAdjacentCaret())}class pm{constructor(e,t,r){H(this,"type","node-caret-range");H(this,"direction");H(this,"anchor");H(this,"focus");this.anchor=e,this.focus=t,this.direction=r}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new pm(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=i=>{const a=this[i].getLatest();return Es(a)?(function(l,c){const{direction:d,origin:f}=l,g=Cs(f,c==="focus"?fa(d):d);return v0(l,g-l.offset)})(a,i):null},t=e("anchor"),r=e("focus");if(t&&r){const{caret:i}=t,{caret:a}=r;if(i.isSameNodeCaret(a))return[v0(i,a.offset-i.offset),null]}return[t,r]}iterNodeCarets(e="root"){const t=Es(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),i=Es(r),a=l=>l.isSameNodeCaret(r)?null:fm(l)||l.getParentCaret(e);return Wx({hasNext:l=>l!==null&&!(i&&r.isSameNodeCaret(l)),initial:t.isSameNodeCaret(r)?null:a(t),map:l=>l,step:a})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class CD{constructor(e,t){H(this,"type","slice");H(this,"caret");H(this,"distance");this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[r,i]=this.getSliceIndices(),a=e.getTextContent();return Ai(e.setTextContent(a.slice(0,r)+a.slice(i)),t,r)}}function gm(n){return Ns(n,Wt(ht(),n.direction))}function TD(n){return Ns(n,n)}function Ns(n,e){return n.direction!==e.direction&&Q(265),new pm(n,e,n.direction)}function Wx(n){const{initial:e,hasNext:t,step:r,map:i}=n;let a=e;return{[Symbol.iterator](){return this},next(){if(!t(a))return{done:!0,value:void 0};const l={done:!1,value:i(a)};return a=r(a),l}}}function Kx(n,e){const t=Mc(n.origin,e.origin);switch(t===null&&Q(275,n.origin.getKey(),e.origin.getKey()),t.type){case"same":{const r=n.type==="text",i=e.type==="text";return r&&i?(function(a,l){return Math.sign(a-l)})(n.offset,e.offset):n.type===e.type?0:r?-1:i?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return Vx(t)}}function Vx(n){const{a:e,b:t}=n,r=e.__key,i=t.__key;let a=e,l=t;for(;a&&l;a=a.getNextSibling(),l=l.getNextSibling()){if(a.__key===i)return-1;if(l.__key===r)return 1}return a===null?1:-1}function kc(n,e){return e.is(n)}function _0(n){return K(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function Mc(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};const t=new Map;for(let[r,i]=_0(n);r;i=r,r=r.getParent())t.set(r,i);for(let[r,i]=_0(e);r;i=r,r=r.getParent()){const a=t.get(r);if(a!==void 0)return a===null?(kc(n,r)||Q(276),{commonAncestor:r,type:"ancestor"}):i===null?(kc(e,r)||Q(277),{commonAncestor:r,type:"descendant"}):((K(a)||kc(n,a))&&(K(i)||kc(e,i))&&r.is(a.getParent())&&r.is(i.getParent())||Q(278),{a,b:i,commonAncestor:r,type:"branch"})}return null}function Mr(n,e){const{type:t,key:r,offset:i}=n,a=gD(n.key);return t==="text"?(ee(a)||Q(266,a.getType(),r),Ai(a,e,i)):(K(a)||Q(267,a.getType(),r),ND(a,n.offset,e))}function Ii(n,e){const{origin:t,direction:r}=e,i=r==="next";Es(e)?n.set(t.getKey(),e.offset,"text"):Qo(e)?ee(t)?n.set(t.getKey(),Cs(t,r),"text"):n.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(i?1:0),"element"):(ar(e)&&K(t)||Q(268),n.set(t.getKey(),i?0:t.getChildrenSize(),"element"))}function OD(n){const e=oe(),t=X(e)?e:_x();return jc(t,n),an(t),t}function jc(n,e){Ii(n.anchor,e.anchor),Ii(n.focus,e.focus)}function w0(n){const{anchor:e,focus:t}=n,r=Mr(e,"next"),i=Mr(t,"next"),a=Kx(r,i)<=0?"next":"previous";return Ns(Yo(r,a),Yo(i,a))}function mm(n){const{direction:e,origin:t}=n,r=Wt(t,fa(e)).getNodeAtCaret();return r?Wt(r,e):qn(t.getParentOrThrow(),e)}function S0(n,e="root"){const t=[n];for(let r=ar(n)?n.getParentCaret(e):n.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(mm(r));return t}function Zf(n){return!!n&&n.origin.isAttached()}function PD(n,e="removeEmptySlices"){if(n.isCollapsed())return n;const t="root",r="next";let i=e;const a=qx(n,r),l=S0(a.anchor,t),c=S0(a.focus.getFlipped(),t),d=new Set,f=[];for(const w of a.iterNodeCarets(t))if(ar(w))d.add(w.origin.getKey());else if(Qo(w)){const{origin:S}=w;K(S)&&!d.has(S.getKey())||f.push(S)}for(const w of f)w.remove();for(const w of a.getTextSlices()){if(!w)continue;const{origin:S}=w.caret,b=S.getTextContentSize(),k=mm(Wt(S,r)),C=S.getMode();if(Math.abs(w.distance)===b&&i==="removeEmptySlices"||C==="token"&&w.distance!==0)k.remove();else if(w.distance!==0){i="removeEmptySlices";let E=w.removeTextSlice();const O=w.caret.origin;if(C==="segmented"){const M=E.origin,I=Ot(M.getTextContent()).setStyle(M.getStyle()).setFormat(M.getFormat());k.replaceOrInsert(I),E=Ai(I,r,E.offset)}O.is(l[0].origin)&&(l[0]=E),O.is(c[0].origin)&&(c[0]=E.getFlipped())}}let g,m;for(const w of l)if(Zf(w)){g=Cn(w);break}for(const w of c)if(Zf(w)){m=Cn(w);break}const v=(function(w,S,b){if(!w||!S)return null;const k=w.getParentAtCaret(),C=S.getParentAtCaret();if(!k||!C)return null;const E=k.getParents().reverse();E.push(k);const O=C.getParents().reverse();O.push(C);const M=Math.min(E.length,O.length);let I;for(I=0;I<M&&E[I]===O[I];I++);const F=(W,re)=>{let we;for(let fe=I;fe<W.length;fe++){const Te=W[fe];if(on(Te))return;!we&&re(Te)&&(we=Te)}return we},D=F(E,cs),U=D&&F(O,W=>b.has(W.getKey())&&cs(W));return D&&U?[D,U]:null})(g,m,d);if(v){const[w,S]=v;qn(w,"previous").splice(0,S.getChildren()),S.remove()}const _=[g,m,...l,...c].find(Zf);if(_)return TD(Yo(Cn(_),n.direction));Q(269,JSON.stringify(l.map(w=>w.origin.__key)))}function Cn(n){const e=(function(i){let a=i;for(;ar(a);){const l=fm(a);if(!ar(l))break;a=l}return a})(n.getLatest()),{direction:t}=e;if(ee(e.origin))return Es(e)?e:Ai(e.origin,t,t);const r=e.getAdjacentCaret();return Qo(r)&&ee(r.origin)?Ai(r.origin,t,fa(t)):e}function Hx(n){return Es(n)&&n.offset!==Cs(n.origin,n.direction)}function Yo(n,e){return n.direction===e?n:n.getFlipped()}function qx(n,e){return n.direction===e?n:Ns(Yo(n.focus,e),Yo(n.anchor,e))}function ND(n,e,t){let r=qn(n,"next");for(let i=0;i<e;i++){const a=r.getAdjacentCaret();if(a===null)break;r=a}return Yo(r,t)}function RD(...n){return n}function AD(n,e){if(!e||n===e)return n;for(const t in e)if(n[t]!==e[t])return{...n,...e};return n}const Jx=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ID=Jx?N.useLayoutEffect:N.useEffect,Ec={tag:vi};function DD({initialConfig:n,children:e}){const t=N.useMemo(()=>{const{theme:r,namespace:i,nodes:a,onError:l,editorState:c,html:d}=n,f=qA(null,r),g=Ox({editable:n.editable,html:d,namespace:i,nodes:a,onError:m=>l(m,g),theme:r});return(function(m,v){if(v!==null){if(v===void 0)m.update(()=>{const _=ht();if(_.isEmpty()){const w=Rt();_.append(w);const S=Jx?document.activeElement:null;(oe()!==null||S!==null&&S===m.getRootElement())&&w.select()}},Ec);else if(v!==null)switch(typeof v){case"string":{const _=m.parseEditorState(v);m.setEditorState(_,Ec);break}case"object":m.setEditorState(v,Ec);break;case"function":m.update(()=>{ht().isEmpty()&&v(m)},Ec)}}})(g,c),[g,f]},[]);return ID(()=>{const r=n.editable,[i]=t;i.setEditable(r===void 0||r)},[]),V.jsx(Pb.Provider,{value:t,children:e})}const LD=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?N.useLayoutEffect:N.useEffect;function MD(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function jD(){return(function(n){const[e]=As(),t=N.useMemo(()=>n(e),[e,n]),[r,i]=N.useState(()=>t.initialValueFn()),a=N.useRef(r);return LD(()=>{const{initialValueFn:l,subscribe:c}=t,d=l();return a.current!==d&&(a.current=d,i(d)),c(f=>{a.current=f,i(f)})},[t,n]),r})(MD)}const lg=new Map;function Gx(n){const e={};if(!n)return e;const t=n.split(";");for(const r of t)if(r!==""){const[i,a]=r.split(/:([^]+)/);i&&a&&(e[i.trim()]=a.trim())}return e}function b0(n){let e=lg.get(n);return e===void 0&&(e=Gx(n),lg.set(n,e)),e}function Qx(n){const e=cm().getElementByKey(n.getKey());if(e===null)return null;const t=e.ownerDocument.defaultView;return t===null?null:t.getComputedStyle(e)}function Yx(n){return Qx(mt(n)?n:n.getParentOrThrow())}function x0(n){const e=Yx(n);return e!==null&&e.direction==="rtl"}function Xx(n,e,t="self"){const r=n.getStartEndPoints();if(e.isSelected(n)&&!kr(e)&&r!==null){const[i,a]=r,l=n.isBackward(),c=i.getNode(),d=a.getNode(),f=e.is(c),g=e.is(d);if(f||g){const[m,v]=eg(n),_=c.is(d),w=e.is(l?d:c),S=e.is(l?c:d);let b,k=0;_?(k=m>v?v:m,b=m>v?m:v):w?(k=l?v:m,b=void 0):S&&(k=0,b=l?m:v);const C=e.__text.slice(k,b);C!==e.__text&&(t==="clone"&&(e=vD(e)),e.__text=C)}}return e}function $D(n){const e=n.getStyle(),t=Gx(e);lg.set(e,t)}function Zx(n){const e=ek(n);return e!==null&&e.writingMode==="vertical-rl"}function ek(n){const e=n.anchor.getNode();return K(e)?Qx(e):Yx(e)}function k0(n,e){let t=Zx(n)?!e:e;tk(n)&&(t=!t);const r=Mr(n.focus,t?"previous":"next");if(Hx(r))return!1;for(const i of gm(r)){if(ar(i))return!i.origin.isInline();if(!K(i.origin)){if(Ke(i.origin))return!0;break}}return!1}function FD(n,e,t,r){n.modify(e?"extend":"move",t,r)}function tk(n){const e=ek(n);return e!==null&&e.direction==="rtl"}function E0(n,e,t){const r=tk(n);let i;i=Zx(n)||r?!t:t,FD(n,e,i,"character")}function UD(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Cd=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,zD=Cd&&"documentMode"in document?document.documentMode:null,BD=Cd&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!Cd||!("InputEvent"in window)||zD)&&"getTargetRanges"in new window.InputEvent("input");function nk(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}function jr(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}const WD=Cd,KD=BD;function ym(n,...e){const t=nk(...e);t.length>0&&n.classList.add(...t)}function rk(n,...e){const t=nk(...e);t.length>0&&n.classList.remove(...t)}function VD(n,e){let t=n;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function HD(n){const e=Ar(n,t=>K(t)&&!t.isInline());return K(e)||UD(4,n.__key),e}function ai(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}let ep=!(KD||!WD)&&void 0;function qD(n){let e=1;if((function(){if(ep===void 0){const t=document.createElement("div");t.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(t);const r=t.getBoundingClientRect();t.style.setProperty("zoom","2"),ep=t.getBoundingClientRect().width===r.width,document.body.removeChild(t)}return ep})())for(;n;)e*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return e}const JD=Symbol.for("preact-signals");function Td(){if(Ts>1)return void Ts--;let n,e=!1;for(;vl!==void 0;){let t=vl;for(vl=void 0,ug++;t!==void 0;){const r=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&sk(t))try{t.c()}catch(i){e||(n=i,e=!0)}t=r}}if(ug=0,Ts--,e)throw n}function GD(n){if(Ts>0)return n();Ts++;try{return n()}finally{Td()}}let Ve,vl;function C0(n){const e=Ve;Ve=void 0;try{return n()}finally{Ve=e}}let Ts=0,ug=0,$c=0;function T0(n){if(Ve===void 0)return;let e=n.n;return e===void 0||e.t!==Ve?(e={i:0,S:n,p:Ve.s,n:void 0,t:Ve,e:void 0,x:void 0,r:e},Ve.s!==void 0&&(Ve.s.n=e),Ve.s=e,n.n=e,32&Ve.f&&n.S(e),e):e.i===-1?(e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=Ve.s,e.n=void 0,Ve.s.n=e,Ve.s=e),e):void 0}function Ht(n,e){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}function QD(n,e){return new Ht(n,e)}function sk(n){for(let e=n.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function O0(n){for(let e=n.s;e!==void 0;e=e.n){const t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){n.s=e;break}}}function ik(n){let e,t=n.s;for(;t!==void 0;){const r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):e=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}n.s=e}function yo(n,e){Ht.call(this,void 0),this.x=n,this.s=void 0,this.g=$c-1,this.f=4,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}function ok(n){const e=n.u;if(n.u=void 0,typeof e=="function"){Ts++;const t=Ve;Ve=void 0;try{e()}catch(r){throw n.f&=-2,n.f|=8,vm(n),r}finally{Ve=t,Td()}}}function vm(n){for(let e=n.s;e!==void 0;e=e.n)e.S.U(e);n.x=void 0,n.s=void 0,ok(n)}function YD(n){if(Ve!==this)throw new Error("Out-of-order effect");ik(this),Ve=n,this.f&=-2,8&this.f&&vm(this),Td()}function To(n,e){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e==null?void 0:e.name}function _m(n,e){const t=new To(n,e);try{t.c()}catch(i){throw t.d(),i}const r=t.d.bind(t);return r[Symbol.dispose]=r,r}function XD(n,e={}){const t={};for(const r in n){const i=e[r],a=QD(i===void 0?n[r]:i);t[r]=a}return t}Ht.prototype.brand=JD,Ht.prototype.h=function(){return!0},Ht.prototype.S=function(n){const e=this.t;e!==n&&n.e===void 0&&(n.x=e,this.t=n,e!==void 0?e.e=n:C0(()=>{var t;(t=this.W)==null||t.call(this)}))},Ht.prototype.U=function(n){if(this.t!==void 0){const e=n.e,t=n.x;e!==void 0&&(e.x=t,n.e=void 0),t!==void 0&&(t.e=e,n.x=void 0),n===this.t&&(this.t=t,t===void 0&&C0(()=>{var r;(r=this.Z)==null||r.call(this)}))}},Ht.prototype.subscribe=function(n){return _m(()=>{const e=this.value,t=Ve;Ve=void 0;try{n(e)}finally{Ve=t}},{name:"sub"})},Ht.prototype.valueOf=function(){return this.value},Ht.prototype.toString=function(){return this.value+""},Ht.prototype.toJSON=function(){return this.value},Ht.prototype.peek=function(){const n=Ve;Ve=void 0;try{return this.value}finally{Ve=n}},Object.defineProperty(Ht.prototype,"value",{get(){const n=T0(this);return n!==void 0&&(n.i=this.i),this.v},set(n){if(n!==this.v){if(ug>100)throw new Error("Cycle detected");this.v=n,this.i++,$c++,Ts++;try{for(let e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Td()}}}}),yo.prototype=new Ht,yo.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===$c))return!0;if(this.g=$c,this.f|=1,this.i>0&&!sk(this))return this.f&=-2,!0;const n=Ve;try{O0(this),Ve=this;const e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return Ve=n,ik(this),this.f&=-2,!0},yo.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(let e=this.s;e!==void 0;e=e.n)e.S.S(e)}Ht.prototype.S.call(this,n)},yo.prototype.U=function(n){if(this.t!==void 0&&(Ht.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(let e=this.s;e!==void 0;e=e.n)e.S.U(e)}},yo.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let n=this.t;n!==void 0;n=n.x)n.t.N()}},Object.defineProperty(yo.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const n=T0(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}}),To.prototype.c=function(){const n=this.S();try{if(8&this.f||this.x===void 0)return;const e=this.x();typeof e=="function"&&(this.u=e)}finally{n()}},To.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,ok(this),O0(this),Ts++;const n=Ve;return Ve=this,YD.bind(this,n)},To.prototype.N=function(){2&this.f||(this.f|=2,this.o=vl,vl=this)},To.prototype.d=function(){this.f|=8,1&this.f||vm(this)},To.prototype.dispose=function(){this.d()};function ZD(n){return(typeof n.nodes=="function"?n.nodes():n.nodes)||[]}function Qe(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ak(n,e){if(n&&e&&!Array.isArray(e)&&typeof n=="object"&&typeof e=="object"){const t=n,r=e;for(const i in r)t[i]=ak(t[i],r[i]);return n}return e}const wm=0,cg=1,lk=2,tp=3,Cc=4,vo=5,np=6,al=7;function rp(n){return n.id===wm}function uk(n){return n.id===lk}function eL(n){return(function(e){return e.id===cg})(n)||Qe(305,String(n.id),String(cg)),Object.assign(n,{id:lk})}const tL=new Set;class nL{constructor(e,t){H(this,"builder");H(this,"configs");H(this,"_dependency");H(this,"_peerNameSet");H(this,"extension");H(this,"state");H(this,"_signal");this.builder=e,this.extension=t,this.configs=new Set,this.state={id:wm}}mergeConfigs(){let e=this.extension.config||{};const t=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):AD;for(const r of this.configs)e=t(e,r);return e}init(e){const t=this.state;uk(t)||Qe(306,String(t.id));const r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},a=(function(c,d,f){return Object.assign(c,{config:d,id:tp,registerState:f})})(t,this.mergeConfigs(),r);let l;this.state=a,this.extension.init&&(l=this.extension.init(e,a.config,r)),this.state=(function(c,d,f){return Object.assign(c,{id:Cc,initResult:d,registerState:f})})(a,l,i)}build(e){const t=this.state;let r;t.id!==Cc&&Qe(307,String(t.id),String(vo)),this.extension.build&&(r=this.extension.build(e,t.config,t.registerState));const i={...t.registerState,getOutput:()=>r,getSignal:this.getSignal.bind(this)};this.state=(function(a,l,c){return Object.assign(a,{id:vo,output:l,registerState:c})})(t,r,i)}register(e,t){this._signal=t;const r=this.state;r.id!==vo&&Qe(308,String(r.id),String(vo));const i=this.extension.register&&this.extension.register(e,r.config,r.registerState);return this.state=(function(a){return Object.assign(a,{id:np})})(r),()=>{const a=this.state;a.id!==al&&Qe(309,String(r.id),String(al)),this.state=(function(l){return Object.assign(l,{id:vo})})(a),i&&i()}}afterRegistration(e){const t=this.state;let r;return t.id!==np&&Qe(310,String(t.id),String(np)),this.extension.afterRegistration&&(r=this.extension.afterRegistration(e,t.config,t.registerState)),this.state=(function(i){return Object.assign(i,{id:al})})(t),r}getSignal(){return this._signal===void 0&&Qe(311),this._signal}getInitResult(){this.extension.init===void 0&&Qe(312,this.extension.name);const e=this.state;return(function(t){return t.id>=Cc})(e)||Qe(313,String(e.id),String(Cc)),e.initResult}getInitPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0}getExtensionInitDependency(){const e=this.state;return(function(t){return t.id>=tp})(e)||Qe(314,String(e.id),String(tp)),{config:e.config}}getPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}getInitDependency(e){const t=this.builder.getExtensionRep(e);return t===void 0&&Qe(315,this.extension.name,e.name),t.getExtensionInitDependency()}getDependency(e){const t=this.builder.getExtensionRep(e);return t===void 0&&Qe(315,this.extension.name,e.name),t.getExtensionDependency()}getState(){const e=this.state;return(function(t){return t.id>=al})(e)||Qe(316,String(e.id),String(al)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||tL}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(([t])=>t)),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){const e=this.state;(function(t){return t.id>=vo})(e)||Qe(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}}const P0={tag:vi};function rL(){const n=ht();n.isEmpty()&&n.append(Rt())}const sL={config:{setOptions:P0,updateOptions:P0},init:({$initialEditorState:n=rL})=>({$initialEditorState:n,initialized:!1}),afterRegistration(n,{updateOptions:e,setOptions:t},r){const i=r.getInitResult();if(!i.initialized){i.initialized=!0;const{$initialEditorState:a}=i;if(rD(a))n.setEditorState(a,t);else if(typeof a=="function")n.update(()=>{a(n)},e);else if(a&&(typeof a=="string"||typeof a=="object")){const l=n.parseEditorState(a);n.setEditorState(l,t)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[ca,Is,aa,la,da]},N0=Symbol.for("@lexical/extension/LexicalBuilder");function R0(){}function iL(n){throw n}function Tc(n){return Array.isArray(n)?n:[n]}const sp="0.39.0+prod.esm";class Mo{constructor(e){H(this,"roots");H(this,"extensionNameMap");H(this,"outgoingConfigEdges");H(this,"incomingEdges");H(this,"conflicts");H(this,"_sortedExtensionReps");H(this,"PACKAGE_VERSION");this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=sp,this.roots=e;for(const t of e)this.addExtension(t)}static fromExtensions(e){const t=[Tc(sL)];for(const r of e)t.push(Tc(r));return new Mo(t)}static maybeFromEditor(e){const t=e[N0];return t&&(t.PACKAGE_VERSION!==sp&&Qe(292,t.PACKAGE_VERSION,sp),t instanceof Mo||Qe(293)),t}static fromEditor(e){const t=Mo.maybeFromEditor(e);return t===void 0&&Qe(294),t}constructEditor(){const{$initialEditorState:e,onError:t,...r}=this.buildCreateEditorArgs(),i=Object.assign(Ox({...r,...t?{onError:a=>{t(a,i)}}:{}}),{[N0]:this});for(const a of this.sortedExtensionReps())a.build(i);return i}buildEditor(){let e=R0;function t(){try{e()}finally{e=R0}}const r=Object.assign(this.constructEditor(),{dispose:t,[Symbol.dispose]:t});return e=jr(this.registerEditor(r),()=>r.setRootElement(null)),r}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){const t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&Qe(295,e.name),t}addEdge(e,t,r){const i=this.outgoingConfigEdges.get(e);i?i.set(t,r):this.outgoingConfigEdges.set(e,new Map([[t,r]]));const a=this.incomingEdges.get(t);a?a.add(e):this.incomingEdges.set(t,new Set([e]))}addExtension(e){this._sortedExtensionReps!==void 0&&Qe(296);const t=Tc(e),[r]=t;typeof r.name!="string"&&Qe(297,typeof r.name);let i=this.extensionNameMap.get(r.name);if(i!==void 0&&i.extension!==r&&Qe(298,r.name),!i){i=new nL(this,r),this.extensionNameMap.set(r.name,i);const a=this.conflicts.get(r.name);typeof a=="string"&&Qe(299,r.name,a);for(const l of r.conflictsWith||[])this.extensionNameMap.has(l)&&Qe(299,r.name,l),this.conflicts.set(l,r.name);for(const l of r.dependencies||[]){const c=Tc(l);this.addEdge(r.name,c[0].name,c.slice(1)),this.addExtension(c)}for(const[l,c]of r.peerDependencies||[])this.addEdge(r.name,l,c?[c]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const e=[],t=(r,i)=>{let a=r.state;if(uk(a))return;const l=r.extension.name;var c;rp(a)||Qe(300,l,i||"[unknown]"),rp(c=a)||Qe(304,String(c.id),String(wm)),a=Object.assign(c,{id:cg}),r.state=a;const d=this.outgoingConfigEdges.get(l);if(d)for(const f of d.keys()){const g=this.extensionNameMap.get(f);g&&t(g,l)}a=eL(a),r.state=a,e.push(r)};for(const r of this.extensionNameMap.values())rp(r.state)&&t(r);for(const r of e)for(const[i,a]of this.outgoingConfigEdges.get(r.extension.name)||[])if(a.length>0){const l=this.extensionNameMap.get(i);if(l)for(const c of a)l.configs.add(c)}for(const[r,...i]of this.roots)if(i.length>0){const a=this.extensionNameMap.get(r.name);a===void 0&&Qe(301,r.name);for(const l of i)a.configs.add(l)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){const t=this.sortedExtensionReps(),r=new AbortController,i=[()=>r.abort()],a=r.signal;for(const l of t){const c=l.register(e,a);c&&i.push(c)}for(const l of t){const c=l.afterRegistration(e);c&&i.push(c)}return jr(...i)}buildCreateEditorArgs(){const e={},t=new Set,r=new Map,i=new Map,a={},l={},c=this.sortedExtensionReps();for(const g of c){const{extension:m}=g;if(m.onError!==void 0&&(e.onError=m.onError),m.disableEvents!==void 0&&(e.disableEvents=m.disableEvents),m.parentEditor!==void 0&&(e.parentEditor=m.parentEditor),m.editable!==void 0&&(e.editable=m.editable),m.namespace!==void 0&&(e.namespace=m.namespace),m.$initialEditorState!==void 0&&(e.$initialEditorState=m.$initialEditorState),m.nodes)for(const v of ZD(m)){if(typeof v!="function"){const _=r.get(v.replace);_&&Qe(302,m.name,v.replace.name,_.extension.name),r.set(v.replace,g)}t.add(v)}if(m.html){if(m.html.export)for(const[v,_]of m.html.export.entries())i.set(v,_);m.html.import&&Object.assign(a,m.html.import)}m.theme&&ak(l,m.theme)}Object.keys(l).length>0&&(e.theme=l),t.size&&(e.nodes=[...t]);const d=Object.keys(a).length>0,f=i.size>0;(d||f)&&(e.html={},d&&(e.html.import=a),f&&(e.html.export=i));for(const g of c)g.init(e);return e.onError||(e.onError=iL),e}}function oL(n,e){const t=Mo.fromEditor(n).extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}const aL={name:"@lexical/react/ReactProvider"};function lL(){return ht().getTextContent()}function uL(n,e=!0){if(n)return!1;let t=lL();return e&&(t=t.trim()),t===""}function cL(n){if(!uL(n,!1))return!1;const e=ht().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){const i=e[r];if(Ke(i))return!1;if(K(i)){if(!Zg(i)||i.__indent!==0)return!1;const a=i.getChildren(),l=a.length;for(let c=0;c<l;c++){const d=a[r];if(!ee(d))return!1}}}return!0}function ck(n){return()=>cL(n)}function dL(n){const e=window.location.origin,t=r=>{if(r.origin!==e)return;const i=n.getRootElement();if(document.activeElement!==i)return;const a=r.data;if(typeof a=="string"){let l;try{l=JSON.parse(a)}catch{return}if(l&&l.protocol==="nuanria_messaging"&&l.type==="request"){const c=l.payload;if(c&&c.functionId==="makeChanges"){const d=c.args;if(d){const[f,g,m,v,_]=d;n.update(()=>{const w=oe();if(X(w)){const S=w.anchor;let b=S.getNode(),k=0,C=0;if(ee(b)&&f>=0&&g>=0&&(k=f,C=f+g,w.setTextNodeRange(b,k,b,C)),k===C&&m===""||(w.insertRawText(m),b=S.getNode()),ee(b)){k=v,C=v+_;const E=b.getTextContentSize();k=k>E?E:k,C=C>E?E:C,w.setTextNodeRange(b,k,b,C)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function hL(n,e){const t=Rx(e)?e.body.childNodes:e.childNodes;let r=[];const i=[];for(const a of t)if(!hk.has(a.nodeName)){const l=fk(a,n,i,!1);l!==null&&(r=r.concat(l))}return(function(a){for(const l of a)l.getNextSibling()instanceof Xg&&l.insertAfter(Ti());for(const l of a){const c=l.getChildren();for(const d of c)l.insertBefore(d);l.remove()}})(i),r}function fL(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),r=ht().getChildren();for(let i=0;i<r.length;i++)dk(n,r[i],t,e);return t.innerHTML}function dk(n,e,t,r=null){let i=r===null||e.isSelected(r);const a=K(e)&&e.excludeFromCopy("html");let l=e;r!==null&&ee(e)&&(l=Xx(r,e,"clone"));const c=K(l)?l.getChildren():[],d=tm(n,l.getType());let f;f=d&&d.exportDOM!==void 0?d.exportDOM(n,l):l.exportDOM(n);const{element:g,after:m}=f;if(!g)return!1;const v=document.createDocumentFragment();for(let _=0;_<c.length;_++){const w=c[_],S=dk(n,w,v,r);!i&&K(e)&&S&&e.extractWithChild(w,r,"html")&&(i=!0)}if(i&&!a){if((ft(g)||og(g))&&g.append(v),t.append(g),m){const _=m.call(l,g);_&&(og(g)?g.replaceChildren(_):g.replaceWith(_))}}else t.append(v);return i}const hk=new Set(["STYLE","SCRIPT"]);function fk(n,e,t,r,i=new Map,a){let l=[];if(hk.has(n.nodeName))return l;let c=null;const d=(function(w,S){const{nodeName:b}=w,k=S._htmlConversions.get(b.toLowerCase());let C=null;if(k!==void 0)for(const E of k){const O=E(w);O!==null&&(C===null||(C.priority||0)<=(O.priority||0))&&(C=O)}return C!==null?C.conversion:null})(n,e),f=d?d(n):null;let g=null;if(f!==null){g=f.after;const w=f.node;if(c=Array.isArray(w)?w[w.length-1]:w,c!==null){for(const[,S]of i)if(c=S(c,a),!c)break;c&&l.push(...Array.isArray(w)?w:[c])}f.forChild!=null&&i.set(n.nodeName,f.forChild)}const m=n.childNodes;let v=[];const _=(c==null||!on(c))&&(c!=null&&tg(c)||r);for(let w=0;w<m.length;w++)v.push(...fk(m[w],e,t,_,new Map(i),c));return g!=null&&(v=g(v)),ad(n)&&(v=pL(n,v,_?()=>{const w=new Xg;return t.push(w),w}:Rt)),c==null?v.length>0?l=l.concat(v):ad(n)&&(function(w){return w.nextSibling==null||w.previousSibling==null?!1:ag(w.nextSibling)&&ag(w.previousSibling)})(n)&&(l=l.concat(Ti())):K(c)&&c.append(...v),l}function pL(n,e,t){const r=n.style.textAlign,i=[];let a=[];for(let l=0;l<e.length;l++){const c=e[l];if(tg(c))r&&!c.getFormat()&&c.setFormat(r),i.push(c);else if(a.push(c),l===e.length-1||l<e.length-1&&tg(e[l+1])){const d=t();d.setFormat(r),d.append(...a),i.push(d),a=[]}}return i}function ld(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function gL(n,e=oe()){return e==null&&ld(166),X(e)&&e.isCollapsed()||e.getNodes().length===0?"":fL(n,e)}function mL(n,e=oe()){return e==null&&ld(166),X(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(yL(n,e))}function A0(n,e,t){const r=n.getData("application/x-lexical-editor");if(r)try{const c=JSON.parse(r);if(c.namespace===t._config.namespace&&Array.isArray(c.nodes))return I0(t,vL(c.nodes),e)}catch(c){console.error(c)}const i=n.getData("text/html"),a=n.getData("text/plain");if(i&&a!==i)try{const c=new DOMParser().parseFromString((function(d){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:f=>f}).createHTML(d):d})(i),"text/html");return I0(t,hL(t,c),e)}catch(c){console.error(c)}const l=a||n.getData("text/uri-list");if(l!=null)if(X(e)){const c=l.split(/(\r?\n|\t)/);c[c.length-1]===""&&c.pop();for(let d=0;d<c.length;d++){const f=oe();if(X(f)){const g=c[d];g===`
`||g===`\r
`?f.insertParagraph():g==="	"?f.insertNodes([ql()]):f.insertText(g)}}}else e.insertRawText(l)}function I0(n,e,t){n.dispatchCommand(wI,{nodes:e,selection:t})||(t.insertNodes(e),(function(r){if(X(r)&&r.isCollapsed()){const i=r.anchor;let a=null;const l=Mr(i,"previous");if(l)if(Es(l))a=l.origin;else{const c=Ns(l,qn(ht(),"next").getFlipped());for(const d of c){if(ee(d.origin)){a=d.origin;break}if(K(d.origin)&&!d.origin.isInline())break}}if(a&&ee(a)){const c=a.getFormat(),d=a.getStyle();r.format===c&&r.style===d||(r.format=c,r.style=d,r.dirty=!0)}}})(t))}function pk(n,e,t,r=[]){let i=e===null||t.isSelected(e);const a=K(t)&&t.excludeFromCopy("html");let l=t;e!==null&&ee(l)&&(l=Xx(e,l,"clone"));const c=K(l)?l.getChildren():[],d=(function(f){const g=f.exportJSON(),m=f.constructor;if(g.type!==m.getType()&&ld(58,m.name),K(f)){const v=g.children;Array.isArray(v)||ld(59,m.name)}return g})(l);ee(l)&&l.getTextContentSize()===0&&(i=!1);for(let f=0;f<c.length;f++){const g=c[f],m=pk(n,e,g,d.children);!i&&K(t)&&m&&t.extractWithChild(g,e,"clone")&&(i=!0)}if(i&&!a)r.push(d);else if(Array.isArray(d.children))for(let f=0;f<d.children.length;f++){const g=d.children[f];r.push(g)}return i}function yL(n,e){const t=[],r=ht().getChildren();for(let i=0;i<r.length;i++)pk(n,e,r[i],t);return{namespace:n._config.namespace,nodes:t}}function vL(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t],i=nD(r);ee(i)&&$D(i),e.push(i)}return e}let _o=null;async function D0(n,e,t){if(_o!==null)return!1;if(e!==null)return new Promise((f,g)=>{n.update(()=>{f(L0(n,e,t))})});const r=n.getRootElement(),i=n._window||window,a=i.document,l=Gn(i);if(r===null||l===null)return!1;const c=a.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(a.createTextNode("#")),r.append(c);const d=new Range;return d.setStart(c,0),d.setEnd(c,1),l.removeAllRanges(),l.addRange(d),new Promise((f,g)=>{const m=n.registerCommand(_d,v=>(ai(v,ClipboardEvent)&&(m(),_o!==null&&(i.clearTimeout(_o),_o=null),f(L0(n,v,t))),!0),iD);_o=i.setTimeout(()=>{m(),_o=null,f(!1)},50),a.execCommand("copy"),c.remove()})}function L0(n,e,t){if(t===void 0){const i=Gn(n._window),a=oe();if(!a||a.isCollapsed()||!i)return!1;const l=i.anchorNode,c=i.focusNode;if(l!==null&&c!==null&&!Ql(n,l,c))return!1;t=_L(a)}e.preventDefault();const r=e.clipboardData;return r!==null&&(wL(r,t),!0)}const gk=[["text/html",gL],["application/x-lexical-editor",mL]];function _L(n=oe()){const e={"text/plain":n?n.getTextContent():""};if(n){const t=cm();for(const[r,i]of gk){const a=i(t,n);a!==null&&(e[r]=a)}}return e}function wL(n,e){for(const[t]of gk)e[t]===void 0&&n.setData(t,"");for(const t in e){const r=e[t];r!==void 0&&n.setData(t,r)}}function M0(n,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const ji=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,SL=ji&&"documentMode"in document?document.documentMode:null,bL=ji&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),xL=!(!ji||!("InputEvent"in window)||SL)&&"getTargetRanges"in new window.InputEvent("input"),kL=ji&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),j0=ji&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,EL=ji&&/^(?=.*Chrome).*/i.test(navigator.userAgent),CL=ji&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&bL&&!EL,$0=_e("DRAG_DROP_PASTE_FILE");class Od extends ur{constructor(t,r){super(r);H(this,"__tag");this.__tag=t}static getType(){return"heading"}static clone(t){return new Od(t.__tag,t.__key)}getTag(){return this.__tag}setTag(t){const r=this.getWritable();return this.__tag=t,r}createDOM(t){const r=this.__tag,i=document.createElement(r),a=t.theme.heading;if(a!==void 0){const l=a[r];ym(i,l)}return i}updateDOM(t,r,i){return t.__tag!==this.__tag}static importDOM(){return{h1:t=>({conversion:wo,priority:0}),h2:t=>({conversion:wo,priority:0}),h3:t=>({conversion:wo,priority:0}),h4:t=>({conversion:wo,priority:0}),h5:t=>({conversion:wo,priority:0}),h6:t=>({conversion:wo,priority:0}),p:t=>{const r=t.firstChild;return r!==null&&F0(r)?{conversion:()=>({node:null}),priority:3}:null},span:t=>F0(t)?{conversion:r=>({node:hl("h1")}),priority:3}:null}}exportDOM(t){const{element:r}=super.exportDOM(t);if(ft(r)){this.isEmpty()&&r.append(document.createElement("br"));const i=this.getFormatType();i&&(r.style.textAlign=i);const a=this.getDirection();a&&(r.dir=a)}return{element:r}}static importJSON(t){return hl(t.tag).updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTag(t.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(t,r=!0){const i=t?t.anchor.offset:0,a=this.getLastDescendant(),l=!a||t&&t.anchor.key===a.getKey()&&i===a.getTextContentSize()||!t?Rt():hl(this.getTag()),c=this.getDirection();if(l.setDirection(c),this.insertAfter(l,r),i===0&&!this.isEmpty()&&t){const d=Rt();d.select(),this.replace(d,!0)}return l}collapseAtStart(){const t=this.isEmpty()?Rt():hl(this.getTag());return this.getChildren().forEach(r=>t.append(r)),this.replace(t),!0}extractWithChild(){return!0}}function F0(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function wo(n){const e=n.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=hl(e),n.style!==null&&(Bx(n,t),t.setFormat(n.style.textAlign))),{node:t}}function hl(n="h1"){return Mi(new Od(n))}function Oc(n){let e=null;if(ai(n,DragEvent)?e=n.dataTransfer:ai(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const t=e.types,r=t.includes("Files"),i=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),i]}function U0(n){const e=oe();if(!X(e))return!1;const t=new Set,r=e.getNodes();for(let i=0;i<r.length;i++){const a=r[i],l=a.getKey();if(t.has(l))continue;const c=Ar(a,f=>K(f)&&!f.isInline());if(c===null)continue;const d=c.getKey();c.canIndent()&&!t.has(d)&&(t.add(d),n(c))}return t.size>0}function z0(n){const e=Lr(n);return Ke(e)}function ip(n){for(const e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function TL(n){return jr(n.registerCommand(Vb,e=>{const t=oe();return!!fn(t)&&(t.clear(),!0)},Me),n.registerCommand(yi,e=>{const t=oe();return X(t)?(t.deleteCharacter(e),!0):!!fn(t)&&(t.deleteNodes(),!0)},Me),n.registerCommand(Rl,e=>{const t=oe();return!!X(t)&&(t.deleteWord(e),!0)},Me),n.registerCommand(Al,e=>{const t=oe();return!!X(t)&&(t.deleteLine(e),!0)},Me),n.registerCommand(Ao,e=>{const t=oe();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const r=e.dataTransfer;if(r!=null)A0(r,t,n);else if(X(t)){const i=e.data;return i&&t.insertText(i),!0}}return!0},Me),n.registerCommand(Kp,()=>{const e=oe();return!!X(e)&&(e.removeText(),!0)},Me),n.registerCommand(ws,e=>{const t=oe();return!!X(t)&&(t.formatText(e),!0)},Me),n.registerCommand(EI,e=>{const t=oe();if(!X(t)&&!fn(t))return!1;const r=t.getNodes();for(const i of r){const a=Ar(i,l=>K(l)&&!l.isInline());a!==null&&a.setFormat(e)}return!0},Me),n.registerCommand(Ro,e=>{const t=oe();return!!X(t)&&(t.insertLineBreak(e),!0)},Me),n.registerCommand(Nl,()=>{const e=oe();return!!X(e)&&(e.insertParagraph(),!0)},Me),n.registerCommand(xI,()=>(ZI([ql()]),!0),Me),n.registerCommand(kI,()=>U0(e=>{const t=e.getIndent();e.setIndent(t+1)}),Me),n.registerCommand(Uw,()=>U0(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),Me),n.registerCommand(Bg,e=>{const t=oe();if(fn(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}else if(X(t)){const r=rg(t.focus,!0);if(!e.shiftKey&&Ke(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},Me),n.registerCommand(Wg,e=>{const t=oe();if(fn(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectNext(0,0),!0}else if(X(t)){if((function(i){const a=i.focus;return a.key==="root"&&a.offset===ht().getChildrenSize()})(t))return e.preventDefault(),!0;const r=rg(t.focus,!1);if(!e.shiftKey&&Ke(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},Me),n.registerCommand(zg,e=>{const t=oe();if(fn(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),x0(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!X(t))return!1;if(k0(t,!0)){const r=e.shiftKey;return e.preventDefault(),E0(t,r,!0),!0}return!1},Me),n.registerCommand(Yb,e=>{const t=oe();if(fn(t)){const i=t.getNodes();if(i.length>0)return e.preventDefault(),x0(i[0])?i[0].selectPrevious():i[0].selectNext(0,0),!0}if(!X(t))return!1;const r=e.shiftKey;return!!k0(t,!1)&&(e.preventDefault(),E0(t,r,!1),!0)},Me),n.registerCommand(Xb,e=>{if(z0(e.target))return!1;const t=oe();if(X(t)){if((function(r){if(!r.isCollapsed())return!1;const{anchor:i}=r;if(i.offset!==0)return!1;const a=i.getNode();if(mt(a))return!1;const l=HD(a);return l.getIndent()>0&&(l.is(a)||a.is(l.getFirstDescendant()))})(t))return e.preventDefault(),n.dispatchCommand(Uw,void 0);if(j0&&navigator.language==="ko-KR")return!1}else if(!fn(t))return!1;return e.preventDefault(),n.dispatchCommand(yi,!0)},Me),n.registerCommand(Zb,e=>{if(z0(e.target))return!1;const t=oe();return!(!X(t)&&!fn(t))&&(e.preventDefault(),n.dispatchCommand(yi,!1))},Me),n.registerCommand(Zc,e=>{const t=oe();if(!X(t))return!1;if(ip(t),e!==null){if((j0||kL||CL)&&xL)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(Ro,!1)}return n.dispatchCommand(Nl,void 0)},Me),n.registerCommand(Vg,()=>{const e=oe();return!!X(e)&&(n.blur(),!0)},Me),n.registerCommand(tx,e=>{const[,t]=Oc(e);if(t.length>0){const i=M0(e.clientX,e.clientY);if(i!==null){const{offset:a,node:l}=i,c=Lr(l);if(c!==null){const d=_x();if(ee(c))d.anchor.set(c.getKey(),a,"text"),d.focus.set(c.getKey(),a,"text");else{const g=c.getParentOrThrow().getKey(),m=c.getIndexWithinParent()+1;d.anchor.set(g,m,"element"),d.focus.set(g,m,"element")}const f=Jc(d);an(f)}n.dispatchCommand($0,t)}return e.preventDefault(),!0}const r=oe();return!!X(r)},Me),n.registerCommand(nx,e=>{const[t]=Oc(e),r=oe();return!(t&&!X(r))},Me),n.registerCommand(rx,e=>{const[t]=Oc(e),r=oe();if(t&&!X(r))return!1;const i=M0(e.clientX,e.clientY);if(i!==null){const a=Lr(i.node);Ke(a)&&e.preventDefault()}return!0},Me),n.registerCommand(Vp,()=>(dD(),!0),Me),n.registerCommand(_d,e=>(D0(n,ai(e,ClipboardEvent)?e:null),!0),Me),n.registerCommand(Hg,e=>((async function(t,r){await D0(r,ai(t,ClipboardEvent)?t:null),r.update(()=>{const i=oe();X(i)?i.removeText():fn(i)&&i.getNodes().forEach(a=>a.remove())})})(e,n),!0),Me),n.registerCommand($g,e=>{const[,t,r]=Oc(e);return t.length>0&&!r?(n.dispatchCommand($0,t),!0):ha(e.target)&&nm(e.target)?!1:oe()!==null&&((function(i,a){i.preventDefault(),a.update(()=>{const l=oe(),c=ai(i,InputEvent)||ai(i,KeyboardEvent)?null:i.clipboardData;c!=null&&l!==null&&A0(c,l,a)},{tag:FI})})(e,n),!0)},Me),n.registerCommand(Kg,e=>{const t=oe();return X(t)&&ip(t),!1},Me),n.registerCommand(ex,e=>{const t=oe();return X(t)&&ip(t),!1},Me))}function OL(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Sm=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?N.useLayoutEffect:N.useEffect;function PL({editor:n,ErrorBoundary:e}){return(function(t,r){const[i,a]=N.useState(()=>t.getDecorators());return Sm(()=>t.registerDecoratorListener(l=>{fw.flushSync(()=>{a(l)})}),[t]),N.useEffect(()=>{a(t.getDecorators())},[t]),N.useMemo(()=>{const l=[],c=Object.keys(i);for(let d=0;d<c.length;d++){const f=c[d],g=V.jsx(r,{onError:v=>t._onError(v),children:V.jsx(N.Suspense,{fallback:null,children:i[f]})}),m=t.getElementByKey(f);m!==null&&l.push(fw.createPortal(g,m,f))}return l},[r,i,t])})(n,e)}function NL({editor:n,ErrorBoundary:e}){return(function(t){const r=Mo.maybeFromEditor(t);if(r&&r.hasExtensionByName(aL.name)){for(const i of["@lexical/plain-text","@lexical/rich-text"])r.hasExtensionByName(i)&&OL(320,i);return!0}return!1})(n)?null:V.jsx(PL,{editor:n,ErrorBoundary:e})}function B0(n){return n.getEditorState().read(ck(n.isComposing()))}function RL({contentEditable:n,placeholder:e=null,ErrorBoundary:t}){const[r]=As();return(function(i){Sm(()=>jr(TL(i),dL(i)),[i])})(r),V.jsxs(V.Fragment,{children:[n,V.jsx(AL,{content:e}),V.jsx(NL,{editor:r,ErrorBoundary:t})]})}function AL({content:n}){const[e]=As(),t=(function(i){const[a,l]=N.useState(()=>B0(i));return Sm(()=>{function c(){const d=B0(i);l(d)}return c(),jr(i.registerUpdateListener(()=>{c()}),i.registerEditableListener(()=>{c()}))},[i]),a})(e),r=jD();return t?typeof n=="function"?n(r):n:null}const mk=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?N.useLayoutEffect:N.useEffect;function IL({editor:n,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:i,ariaErrorMessage:a,ariaExpanded:l,ariaInvalid:c,ariaLabel:d,ariaLabelledBy:f,ariaMultiline:g,ariaOwns:m,ariaRequired:v,autoCapitalize:_,className:w,id:S,role:b="textbox",spellCheck:k=!0,style:C,tabIndex:E,"data-testid":O,...M},I){const[F,D]=N.useState(n.isEditable()),U=N.useCallback(re=>{re&&re.ownerDocument&&re.ownerDocument.defaultView?n.setRootElement(re):n.setRootElement(null)},[n]),W=N.useMemo(()=>(function(...re){return we=>{for(const fe of re)typeof fe=="function"?fe(we):fe!=null&&(fe.current=we)}})(I,U),[U,I]);return mk(()=>(D(n.isEditable()),n.registerEditableListener(re=>{D(re)})),[n]),V.jsx("div",{"aria-activedescendant":F?e:void 0,"aria-autocomplete":F?t:"none","aria-controls":F?r:void 0,"aria-describedby":i,...a!=null?{"aria-errormessage":a}:{},"aria-expanded":F&&b==="combobox"?!!l:void 0,...c!=null?{"aria-invalid":c}:{},"aria-label":d,"aria-labelledby":f,"aria-multiline":g,"aria-owns":F?m:void 0,"aria-readonly":!F||void 0,"aria-required":v,autoCapitalize:_,className:w,contentEditable:F,"data-testid":O,id:S,ref:W,role:b,spellCheck:k,style:C,tabIndex:E,...M})}const DL=N.forwardRef(IL);function W0(n){return n.getEditorState().read(ck(n.isComposing()))}const LL=N.forwardRef(ML);function ML(n,e){const{placeholder:t,...r}=n,[i]=As();return V.jsxs(V.Fragment,{children:[V.jsx(DL,{editor:i,...r,ref:e}),t!=null&&V.jsx(jL,{editor:i,content:t})]})}function jL({content:n,editor:e}){const t=(function(l){const[c,d]=N.useState(()=>W0(l));return mk(()=>{function f(){const g=W0(l);d(g)}return f(),jr(l.registerUpdateListener(()=>{f()}),l.registerEditableListener(()=>{f()}))},[l]),c})(e),[r,i]=N.useState(e.isEditable());if(N.useLayoutEffect(()=>(i(e.isEditable()),e.registerEditableListener(l=>{i(l)})),[e]),!t)return null;let a=null;return typeof n=="function"?a=n(r):n!==null&&(a=n),a===null?null:V.jsx("div",{"aria-hidden":!0,children:a})}function $L(n,e,t,r,i){if(n===null||t.size===0&&r.size===0&&!i)return 0;const a=e._selection,l=n._selection;if(i)return 1;if(!(X(a)&&X(l)&&l.isCollapsed()&&a.isCollapsed()))return 0;const c=(function(k,C,E){const O=k._nodeMap,M=[];for(const I of C){const F=O.get(I);F!==void 0&&M.push(F)}for(const[I,F]of E){if(!F)continue;const D=O.get(I);D===void 0||mt(D)||M.push(D)}return M})(e,t,r);if(c.length===0)return 0;if(c.length>1){const k=e._nodeMap,C=k.get(a.anchor.key),E=k.get(l.anchor.key);return C&&E&&!n._nodeMap.has(C.__key)&&ee(C)&&C.__text.length===1&&a.anchor.offset===1?2:0}const d=c[0],f=n._nodeMap.get(d.__key);if(!ee(f)||!ee(d)||f.__mode!==d.__mode)return 0;const g=f.__text,m=d.__text;if(g===m)return 0;const v=a.anchor,_=l.anchor;if(v.key!==_.key||v.type!=="text")return 0;const w=v.offset,S=_.offset,b=m.length-g.length;return b===1&&S===w-1?2:b===-1&&S===w+1?3:b===-1&&S===w?4:0}function FL(n,e){let t=Date.now(),r=0;return(i,a,l,c,d,f)=>{const g=Date.now();if(f.has(Zp))return r=0,t=g,2;const m=$L(i,a,c,d,n.isComposing()),v=(()=>{const _=l===null||l.editor===n,w=f.has($I);if(!w&&_&&f.has(vi))return 0;if(i===null)return 1;const S=a._selection;if(!(c.size>0||d.size>0))return S!==null?0:2;const b=typeof e=="number"?e:e.peek();return w===!1&&m!==0&&m===r&&g<t+b&&_||c.size===1&&(function(k,C,E){const O=C._nodeMap.get(k),M=E._nodeMap.get(k),I=C._selection,F=E._selection;return!(X(I)&&X(F)&&I.anchor.type==="element"&&I.focus.type==="element"&&F.anchor.type==="text"&&F.focus.type==="text"||!ee(O)||!ee(M)||O.__parent!==M.__parent)&&JSON.stringify(C.read(()=>O.exportJSON()))===JSON.stringify(E.read(()=>M.exportJSON()))})(Array.from(c)[0],i,a)?0:1})();return t=g,r=m,v}}function K0(n){n.undoStack=[],n.redoStack=[],n.current=null}function yk(n,e,t){const r=FL(n,t);return jr(n.registerCommand(Fg,()=>((function(a,l){const c=l.redoStack,d=l.undoStack;if(d.length!==0){const f=l.current,g=d.pop();f!==null&&(c.push(f),a.dispatchCommand(_c,!0)),d.length===0&&a.dispatchCommand(wc,!1),l.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:Zp})}})(n,e),!0),Me),n.registerCommand(Ug,()=>((function(a,l){const c=l.redoStack,d=l.undoStack;if(c.length!==0){const f=l.current;f!==null&&(d.push(f),a.dispatchCommand(wc,!0));const g=c.pop();c.length===0&&a.dispatchCommand(_c,!1),l.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:Zp})}})(n,e),!0),Me),n.registerCommand(TI,()=>(K0(e),!1),Me),n.registerCommand(OI,()=>(K0(e),n.dispatchCommand(_c,!1),n.dispatchCommand(wc,!1),!0),Me),n.registerUpdateListener(({editorState:a,prevEditorState:l,dirtyLeaves:c,dirtyElements:d,tags:f})=>{const g=e.current,m=e.redoStack,v=e.undoStack,_=g===null?null:g.editorState;if(g!==null&&a===_)return;const w=r(l,a,g,c,d,f);if(w===1)m.length!==0&&(e.redoStack=[],n.dispatchCommand(_c,!1)),g!==null&&(v.push({...g}),n.dispatchCommand(wc,!0));else if(w===2)return;e.current={editor:n,editorState:a}}))}function vk(){return{current:null,redoStack:[],undoStack:[]}}const op={build:(n,{delay:e,createInitialHistoryState:t,disabled:r})=>XD({delay:e,disabled:r,historyState:t(n)}),config:{createInitialHistoryState:vk,delay:300,disabled:typeof window>"u"},name:"@lexical/history/History",register:(n,e,t)=>{const r=t.getOutput();return _m(()=>r.disabled.value?void 0:yk(n,r.historyState.value,r.delay))}};RD(op,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0});function UL({delay:n,externalHistoryState:e}){const[t]=As();return(function(r,i,a=1e3){const l=N.useMemo(()=>i||vk(),[i]);N.useEffect(()=>yk(r,l,a),[a,r,l])})(t,e,n),null}const zL=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?N.useLayoutEffect:N.useEffect;function BL({ignoreHistoryMergeTagChange:n=!0,ignoreSelectionChange:e=!1,onChange:t}){const[r]=As();return zL(()=>{if(t)return r.registerUpdateListener(({editorState:i,dirtyElements:a,dirtyLeaves:l,prevEditorState:c,tags:d})=>{e&&a.size===0&&l.size===0||n&&d.has(vi)||c.isEmpty()||t(i,r,d)})},[r,n,e,t]),null}const WL=N.createContext(null),ap={didCatch:!1,error:null};class KL extends N.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ap}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:a,reason:"imperative-api"}),this.setState(ap)}}componentDidCatch(e,t){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&t.error!==null&&VL(e.resetKeys,i)){var a,l;(a=(l=this.props).onReset)===null||a===void 0||a.call(l,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(ap)}}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:i}=this.props,{didCatch:a,error:l}=this.state;let c=e;if(a){const d={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")c=t(d);else if(r)c=N.createElement(r,d);else if(i!==void 0)c=i;else throw l}return N.createElement(WL.Provider,{value:{didCatch:a,error:l,resetErrorBoundary:this.resetErrorBoundary}},c)}}function VL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}function HL({children:n,onError:e}){return V.jsx(KL,{fallback:V.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:n})}function bs(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function dg(n){let e=1,t=n.getParent();for(;t!=null;){if(Fe(t)){const r=t.getParent();if(Ae(r)){e++,t=r.getParent();continue}bs(40)}return e}return e}function hg(n){let e=n.getParent();Ae(e)||bs(40);let t=e;for(;t!==null;)t=t.getParent(),Ae(t)&&(e=t);return e}function _k(n){let e=[];const t=n.getChildren().filter(Fe);for(let r=0;r<t.length;r++){const i=t[r],a=i.getFirstChild();Ae(a)?e=e.concat(_k(a)):e.push(i)}return e}function ir(n){return Fe(n)&&Ae(n.getFirstChild())}function V0(n){return On().append(n)}function wk(n,e){return Fe(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function fg(n){const e=oe();if(e!==null){let t=e.getNodes();if(X(e)){const i=e.getStartEndPoints();i===null&&bs(143);const[a]=i,l=a.getNode(),c=l.getParent();if(on(l)){const d=l.getFirstChild();if(d)t=d.selectStart().getNodes();else{const f=Rt();l.append(f),t=f.select().getNodes()}}else if(wk(l,t)){const d=mn(n);if(on(c)){l.replace(d);const f=On();K(l)&&(f.setFormat(l.getFormatType()),f.setIndent(l.getIndent())),d.append(f)}else if(Fe(l)){const f=l.getParentOrThrow();Di(d,f.getChildren()),f.replace(d)}return}}const r=new Set;for(let i=0;i<t.length;i++){const a=t[i];if(K(a)&&a.isEmpty()&&!Fe(a)&&!r.has(a.getKey())){H0(a,n);continue}let l=Ax(a)?a.getParent():Fe(a)&&a.isEmpty()?a:null;for(;l!=null;){const c=l.getKey();if(Ae(l)){if(!r.has(c)){const d=mn(n);Di(d,l.getChildren()),l.replace(d),r.add(c)}break}{const d=l.getParent();if(on(d)&&!r.has(c)){r.add(c),H0(l,n);break}l=d}}}}}function Di(n,e){n.splice(n.getChildrenSize(),0,e)}function H0(n,e){if(Ae(n))return n;const t=n.getPreviousSibling(),r=n.getNextSibling(),i=On();let a;if(Di(i,n.getChildren()),Ae(t)&&e===t.getListType())t.append(i),Ae(r)&&e===r.getListType()&&(Di(t,r.getChildren()),r.remove()),a=t;else if(Ae(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(i),a=r;else{const l=mn(e);l.append(i),n.replace(l),a=l}return i.setFormat(n.getFormatType()),i.setIndent(n.getIndent()),n.remove(),a}function bm(n,e){const t=n.getLastChild(),r=e.getFirstChild();t&&r&&ir(t)&&ir(r)&&(bm(t.getFirstChild(),r.getFirstChild()),r.remove());const i=e.getChildren();i.length>0&&n.append(...i),e.remove()}function qL(){const n=oe();if(X(n)){const e=new Set,t=n.getNodes(),r=n.anchor.getNode();if(wk(r,t))e.add(hg(r));else for(let i=0;i<t.length;i++){const a=t[i];if(Ax(a)){const l=VD(a,pa);l!=null&&e.add(hg(l))}}for(const i of e){let a=i;const l=_k(i);for(const c of l){const d=Rt().setTextStyle(n.style).setTextFormat(n.format);Di(d,c.getChildren()),a.insertAfter(d),a=d,c.__key===n.anchor.key&&Ii(n.anchor,Cn(qn(d,"next"))),c.__key===n.focus.key&&Ii(n.focus,Cn(qn(d,"next"))),c.remove()}i.remove()}}}function Sk(n){const e=n.getListType()!=="check";let t=n.getStart();for(const r of n.getChildren())Fe(r)&&(r.getValue()!==t&&r.setValue(t),e&&r.getLatest().__checked!=null&&r.setChecked(void 0),Ae(r.getFirstChild())||t++)}function JL(n){const e=new Set;if(ir(n)||e.has(n.getKey()))return;const t=n.getParent(),r=n.getNextSibling(),i=n.getPreviousSibling();if(ir(r)&&ir(i)){const a=i.getFirstChild();if(Ae(a)){a.append(n);const l=r.getFirstChild();Ae(l)&&(Di(a,l.getChildren()),r.remove(),e.add(r.getKey()))}}else if(ir(r)){const a=r.getFirstChild();if(Ae(a)){const l=a.getFirstChild();l!==null&&l.insertBefore(n)}}else if(ir(i)){const a=i.getFirstChild();Ae(a)&&a.append(n)}else if(Ae(t)){const a=On().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),l=mn(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());a.append(l),l.append(n),i?i.insertAfter(a):r?r.insertBefore(a):t.append(a)}}function GL(n){if(ir(n))return;const e=n.getParent(),t=e?e.getParent():void 0;if(Ae(t?t.getParent():void 0)&&Fe(t)&&Ae(e)){const r=e?e.getFirstChild():void 0,i=e?e.getLastChild():void 0;if(n.is(r))t.insertBefore(n),e.isEmpty()&&t.remove();else if(n.is(i))t.insertAfter(n),e.isEmpty()&&t.remove();else{const a=e.getListType(),l=On(),c=mn(a);l.append(c),n.getPreviousSiblings().forEach(g=>c.append(g));const d=On(),f=mn(a);d.append(f),Di(f,n.getNextSiblings()),t.insertBefore(l),t.insertAfter(d),t.replace(n)}}}function QL(){const n=oe();if(!X(n)||!n.isCollapsed())return!1;const e=n.anchor.getNode();if(!Fe(e)||e.getChildrenSize()!==0)return!1;const t=hg(e),r=e.getParent();Ae(r)||bs(40);const i=r.getParent();let a;if(on(i))a=Rt(),t.insertAfter(a);else{if(!Fe(i))return!1;a=On(),i.insertAfter(a)}a.setTextStyle(n.style).setTextFormat(n.format).select();const l=e.getNextSiblings();if(l.length>0){const c=mn(r.getListType());if(Fe(a)){const d=On();d.append(c),a.insertAfter(d)}else a.insertAfter(c);c.append(...l)}return(function(c){let d=c;for(;d.getNextSibling()==null&&d.getPreviousSibling()==null;){const f=d.getParent();if(f==null||!Fe(f)&&!Ae(f))break;d=f}d.remove()})(e),!0}function ud(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}class pa extends ur{constructor(t=1,r=void 0,i){super(i);H(this,"__value");H(this,"__checked");this.__value=t===void 0?1:t,this.__checked=r}$config(){return this.config("listitem",{$transform:t=>{if(t.__checked==null)return;const r=t.getParent();Ae(r)&&r.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)},extends:ur,importDOM:{li:()=>({conversion:YL,priority:0})}})}afterCloneFrom(t){super.afterCloneFrom(t),this.__value=t.__value,this.__checked=t.__checked}createDOM(t){const r=document.createElement("li");return this.updateListItemDOM(null,r,t),r}updateListItemDOM(t,r,i){(function(c,d,f){const g=d.getParent();!Ae(g)||g.getListType()!=="check"||Ae(d.getFirstChild())?(c.removeAttribute("role"),c.removeAttribute("tabIndex"),c.removeAttribute("aria-checked")):(c.setAttribute("role","checkbox"),c.setAttribute("tabIndex","-1"),f&&d.__checked===f.__checked||c.setAttribute("aria-checked",d.getChecked()?"true":"false"))})(r,this,t),r.value=this.__value,(function(c,d,f){const g=[],m=[],v=d.list,_=v?v.listitem:void 0;let w;if(v&&v.nested&&(w=v.nested.listitem),_!==void 0&&g.push(...ud(_)),v){const S=f.getParent(),b=Ae(S)&&S.getListType()==="check",k=f.getChecked();b&&!k||m.push(v.listitemUnchecked),b&&k||m.push(v.listitemChecked),b&&g.push(k?v.listitemChecked:v.listitemUnchecked)}if(w!==void 0){const S=ud(w);f.getChildren().some(b=>Ae(b))?g.push(...S):m.push(...S)}m.length>0&&rk(c,...m),g.length>0&&ym(c,...g)})(r,i.theme,this);const a=t?t.__style:"",l=this.__style;a!==l&&(l===""?r.removeAttribute("style"):r.style.cssText=l),(function(c,d,f){const g=b0(d.__textStyle);for(const m in g)c.style.setProperty(`--listitem-marker-${m}`,g[m]);if(f)for(const m in b0(f.__textStyle))m in g||c.style.removeProperty(`--listitem-marker-${m}`)})(r,this,t)}updateDOM(t,r,i){const a=r;return this.updateListItemDOM(t,a,i),!1}updateFromJSON(t){return super.updateFromJSON(t).setValue(t.value).setChecked(t.checked)}exportDOM(t){const r=this.createDOM(t._config),i=this.getFormatType();i&&(r.style.textAlign=i);const a=this.getDirection();return a&&(r.dir=a),{element:r}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...t){for(let r=0;r<t.length;r++){const i=t[r];if(K(i)&&this.canMergeWith(i)){const a=i.getChildren();this.append(...a),i.remove()}else super.append(i)}return this}replace(t,r){if(Fe(t))return super.replace(t);this.setIndent(0);const i=this.getParentOrThrow();if(!Ae(i))return t;if(i.__first===this.getKey())i.insertBefore(t);else if(i.__last===this.getKey())i.insertAfter(t);else{const a=mn(i.getListType());let l=this.getNextSibling();for(;l;){const c=l;l=l.getNextSibling(),a.append(c)}i.insertAfter(t),t.insertAfter(a)}return r&&(K(t)||bs(139),this.getChildren().forEach(a=>{t.append(a)})),this.remove(),i.getChildrenSize()===0&&i.remove(),t}insertAfter(t,r=!0){const i=this.getParentOrThrow();if(Ae(i)||bs(39),Fe(t))return super.insertAfter(t,r);const a=this.getNextSiblings();if(i.insertAfter(t,r),a.length!==0){const l=mn(i.getListType());a.forEach(c=>l.append(c)),t.insertAfter(l,r)}return t}remove(t){const r=this.getPreviousSibling(),i=this.getNextSibling();super.remove(t),r&&i&&ir(r)&&ir(i)&&(bm(r.getFirstChild(),i.getFirstChild()),i.remove())}insertNewAfter(t,r=!0){const i=On().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(i,r),i}collapseAtStart(t){const r=Rt();this.getChildren().forEach(c=>r.append(c));const i=this.getParentOrThrow(),a=i.getParentOrThrow(),l=Fe(a);if(i.getChildrenSize()===1)if(l)i.remove(),a.select();else{i.insertBefore(r),i.remove();const c=t.anchor,d=t.focus,f=r.getKey();c.type==="element"&&c.getNode().is(this)&&c.set(f,c.offset,"element"),d.type==="element"&&d.getNode().is(this)&&d.set(f,d.offset,"element")}else i.insertBefore(r),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){const r=this.getWritable();return r.__value=t,r}getChecked(){const t=this.getLatest();let r;const i=this.getParent();return Ae(i)&&(r=i.getListType()),r==="check"?!!t.__checked:void 0}setChecked(t){const r=this.getWritable();return r.__checked=t,r}toggleChecked(){const t=this.getWritable();return t.setChecked(!t.__checked)}getIndent(){const t=this.getParent();if(t===null||!this.isAttached())return this.getLatest().__indent;let r=t.getParentOrThrow(),i=0;for(;Fe(r);)r=r.getParentOrThrow().getParentOrThrow(),i++;return i}setIndent(t){typeof t!="number"&&bs(117),(t=Math.floor(t))>=0||bs(199);let r=this.getIndent();for(;r!==t;)r<t?(JL(this),r++):(GL(this),r--);return this}canInsertAfter(t){return Fe(t)}canReplaceWith(t){return Fe(t)}canMergeWith(t){return Fe(t)||Zg(t)}extractWithChild(t,r){if(!X(r))return!1;const i=r.anchor.getNode(),a=r.focus.getNode();return this.isParentOf(i)&&this.isParentOf(a)&&this.getTextContent().length===r.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return mn("bullet")}canMergeWhenEmpty(){return!0}}function YL(n){if(n.classList.contains("task-list-item")){for(const t of n.children)if(t.tagName==="INPUT")return q0(t)}if(n.classList.contains("joplin-checkbox")){for(const t of n.children)if(t.classList.contains("checkbox-wrapper")&&t.children.length>0&&t.children[0].tagName==="INPUT")return q0(t.children[0])}const e=n.getAttribute("aria-checked");return{node:On(e==="true"||e!=="false"&&void 0)}}function q0(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:On(n.hasAttribute("checked"))}}function On(n){return Mi(new pa(void 0,n))}function Fe(n){return n instanceof pa}class Xl extends ur{constructor(t="number",r=1,i){super(i);H(this,"__tag");H(this,"__start");H(this,"__listType");const a=ZL[t]||t;this.__listType=a,this.__tag=a==="number"?"ol":"ul",this.__start=r}$config(){return this.config("list",{$transform:t=>{(function(r){const i=r.getNextSibling();Ae(i)&&r.getListType()===i.getListType()&&bm(r,i)})(t),Sk(t)},extends:ur,importDOM:{ol:()=>({conversion:G0,priority:0}),ul:()=>({conversion:G0,priority:0})}})}afterCloneFrom(t){super.afterCloneFrom(t),this.__listType=t.__listType,this.__tag=t.__tag,this.__start=t.__start}getTag(){return this.getLatest().__tag}setListType(t){const r=this.getWritable();return r.__listType=t,r.__tag=t==="number"?"ol":"ul",r}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(t){const r=this.getWritable();return r.__start=t,r}createDOM(t,r){const i=this.__tag,a=document.createElement(i);return this.__start!==1&&a.setAttribute("start",String(this.__start)),a.__lexicalListType=this.__listType,J0(a,t.theme,this),a}updateDOM(t,r,i){return t.__tag!==this.__tag||t.__listType!==this.__listType||(J0(r,i.theme,this),!1)}updateFromJSON(t){return super.updateFromJSON(t).setListType(t.listType).setStart(t.start)}exportDOM(t){const r=this.createDOM(t._config,t);return ft(r)&&(this.__start!==1&&r.setAttribute("start",String(this.__start)),this.__listType==="check"&&r.setAttribute("__lexicalListType","check")),{element:r}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(t,r,i){let a=i;for(let l=0;l<i.length;l++){const c=i[l];Fe(c)||(a===i&&(a=[...i]),a[l]=On().append(!K(c)||Ae(c)||c.isInline()?c:Ot(c.getTextContent())))}return super.splice(t,r,a)}extractWithChild(t){return Fe(t)}}function J0(n,e,t){const r=[],i=[],a=e.list;if(a!==void 0){const l=a[`${t.__tag}Depth`]||[],c=dg(t)-1,d=c%l.length,f=l[d],g=a[t.__tag];let m;const v=a.nested,_=a.checklist;if(v!==void 0&&v.list&&(m=v.list),g!==void 0&&r.push(g),_!==void 0&&t.__listType==="check"&&r.push(_),f!==void 0){r.push(...ud(f));for(let w=0;w<l.length;w++)w!==d&&i.push(t.__tag+w)}if(m!==void 0){const w=ud(m);c>1?r.push(...w):i.push(...w)}}i.length>0&&rk(n,...i),r.length>0&&ym(n,...r)}function XL(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(Fe(r)){e.push(r);const i=r.getChildren();i.length>1&&i.forEach(a=>{Ae(a)&&e.push(V0(a))})}else e.push(V0(r))}return e}function G0(n){const e=n.nodeName.toLowerCase();let t=null;return e==="ol"?t=mn("number",n.start):e==="ul"&&(t=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list")||r.getAttribute("data-is-checklist")==="1")return!0;for(const i of r.childNodes)if(ft(i)&&i.hasAttribute("aria-checked"))return!0;return!1})(n)?mn("check"):mn("bullet")),{after:XL,node:t}}const ZL={ol:"number",ul:"bullet"};function mn(n="number",e=1){return Mi(new Xl(n,e))}function Ae(n){return n instanceof Xl}const eM=_e("INSERT_CHECK_LIST_COMMAND");function tM(n){return jr(n.registerCommand(eM,()=>(fg("check"),!0),Kn),n.registerCommand(Wg,e=>X0(e,n,!1),Kn),n.registerCommand(Bg,e=>X0(e,n,!0),Kn),n.registerCommand(Vg,()=>{if(pg()!=null){const e=n.getRootElement();return e!=null&&e.focus(),!0}return!1},Kn),n.registerCommand(Kg,e=>{const t=pg();return!(t==null||!n.isEditable())&&(n.update(()=>{const r=Lr(t);Fe(r)&&(e.preventDefault(),r.toggleChecked())}),!0)},Kn),n.registerCommand(zg,e=>n.getEditorState().read(()=>{const t=oe();if(X(t)&&t.isCollapsed()){const{anchor:r}=t,i=r.type==="element";if(i||r.offset===0){const a=r.getNode(),l=Ar(a,c=>K(c)&&!c.isInline());if(Fe(l)){const c=l.getParent();if(Ae(c)&&c.getListType()==="check"&&(i||l.getFirstDescendant()===a)){const d=n.getElementByKey(l.__key);if(d!=null&&document.activeElement!==d)return d.focus(),e.preventDefault(),!0}}}}return!1}),Kn),n.registerRootListener((e,t)=>{e!==null&&(e.addEventListener("click",Q0),e.addEventListener("pointerdown",Y0)),t!==null&&(t.removeEventListener("click",Q0),t.removeEventListener("pointerdown",Y0))}))}function bk(n,e){const t=n.target;if(!ft(t))return;const r=t.firstChild;if(ft(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;const i=t.parentNode;if(!i||i.__lexicalListType!=="check")return;const a=t.getBoundingClientRect(),l=qD(t),c=n.clientX/l,d=window.getComputedStyle?window.getComputedStyle(t,"::before"):{width:"0px"},f=parseFloat(d.width),g=n.pointerType==="touch"?32:0;(t.dir==="rtl"?c<a.right+g&&c>a.right-f-g:c>a.left-g&&c<a.left+f+g)&&e()}function Q0(n){bk(n,()=>{if(ft(n.target)){const e=n.target,t=sm(e);t!=null&&t.isEditable()&&t.update(()=>{const r=Lr(e);Fe(r)&&(e.focus(),r.toggleChecked())})}})}function Y0(n){bk(n,()=>{n.preventDefault()})}function pg(){const n=document.activeElement;return ft(n)&&n.tagName==="LI"&&n.parentNode!=null&&n.parentNode.__lexicalListType==="check"?n:null}function X0(n,e,t){const r=pg();return r!=null&&e.update(()=>{const i=Lr(r);if(!Fe(i))return;const a=(function(l,c){let d=c?l.getPreviousSibling():l.getNextSibling(),f=l;for(;d==null&&Fe(f);)f=f.getParentOrThrow().getParent(),f!=null&&(d=c?f.getPreviousSibling():f.getNextSibling());for(;Fe(d);){const g=c?d.getLastChild():d.getFirstChild();if(!Ae(g))return d;d=c?g.getLastChild():g.getFirstChild()}return null})(i,t);if(a!=null){a.selectStart();const l=e.getElementByKey(a.__key);l!=null&&(n.preventDefault(),setTimeout(()=>{l.focus()},0))}}),!1}const nM=_e("UPDATE_LIST_START_COMMAND"),rM=_e("INSERT_UNORDERED_LIST_COMMAND"),sM=_e("INSERT_ORDERED_LIST_COMMAND"),iM=_e("REMOVE_LIST_COMMAND");function oM(n){return jr(n.registerCommand(sM,()=>(fg("number"),!0),Kn),n.registerCommand(nM,e=>{const{listNodeKey:t,newStart:r}=e,i=xt(t);return!!Ae(i)&&(i.getListType()==="number"&&(i.setStart(r),Sk(i)),!0)},Kn),n.registerCommand(rM,()=>(fg("bullet"),!0),Kn),n.registerCommand(iM,()=>(qL(),!0),Kn),n.registerCommand(Nl,()=>QL(),Kn),n.registerNodeTransform(pa,e=>{const t=e.getFirstChild();if(t){if(ee(t)){const r=t.getStyle(),i=t.getFormat();e.getTextStyle()!==r&&e.setTextStyle(r),e.getTextFormat()!==i&&e.setTextFormat(i)}}else{const r=oe();X(r)&&(r.style!==e.getTextStyle()||r.format!==e.getTextFormat())&&r.isCollapsed()&&e.is(r.anchor.getNode())&&e.setTextStyle(r.style).setTextFormat(r.format)}}),n.registerNodeTransform(Is,e=>{const t=e.getParent();if(Fe(t)&&e.is(t.getFirstChild())){const r=e.getStyle(),i=e.getFormat();r===t.getTextStyle()&&i===t.getTextFormat()||t.setTextStyle(r).setTextFormat(i)}}))}function aM(n){const e=t=>{const r=t.getParent();if(Ae(t.getFirstChild())||!Ae(r))return;const i=Ar(t,a=>Fe(a)&&Ae(a.getParent())&&Fe(a.getPreviousSibling()));if(i===null&&t.getIndent()>0)t.setIndent(0);else if(Fe(i)){const a=i.getPreviousSibling();if(Fe(a)){const l=(function(d){let f=d,g=f.getFirstChild();for(;Ae(g);){const m=g.getLastChild();if(!Fe(m))break;f=m,g=f.getFirstChild()}return f})(a),c=l.getParent();if(Ae(c)){const d=dg(c);d+1<dg(r)&&t.setIndent(d)}}}};return n.registerNodeTransform(Xl,t=>{const r=[t];for(;r.length>0;){const i=r.shift();if(Ae(i)){for(const a of i.getChildren())if(Fe(a)){e(a);const l=a.getFirstChild();Ae(l)&&r.push(l)}}}})}function lM({hasStrictIndent:n=!1}){const[e]=As();return N.useEffect(()=>{if(!e.hasNodes([Xl,pa]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),N.useEffect(()=>{if(n)return aM(e)},[e,n]),(function(t){N.useEffect(()=>oM(t),[t])})(e),null}function uM(){const[n]=As();return N.useEffect(()=>tM(n),[n]),null}class cd extends Qg{constructor(t,r=!1,i){super(i);H(this,"__text");H(this,"__checked");this.__text=t,this.__checked=r}static getType(){return"todo"}static clone(t){return new cd(t.__text,t.__checked,t.__key)}createDOM(t){const r=document.createElement("div");return r.className="flex items-start gap-2 py-1",r}updateDOM(){return!1}static importJSON(t){return new cd(t.text,t.checked)}exportJSON(){return{type:"todo",version:1,text:this.__text,checked:this.__checked}}setChecked(t){const r=this.getWritable();r.__checked=t}setText(t){const r=this.getWritable();r.__text=t}decorate(){return V.jsx(cM,{text:this.__text,checked:this.__checked,nodeKey:this.__key})}}function cM({text:n,checked:e}){return V.jsxs("div",{className:"flex items-start gap-2 py-1",children:[V.jsx("input",{type:"checkbox",checked:e,onChange:()=>{},className:"mt-1 h-4 w-4 rounded border-gray-300"}),V.jsx("span",{className:e?"line-through text-muted-foreground":"",children:n})]})}const dM={paragraph:"mb-2",heading:{h1:"text-2xl font-bold mb-4",h2:"text-xl font-semibold mb-3",h3:"text-lg font-medium mb-2"},list:{ul:"list-disc ml-4 mb-2",ol:"list-decimal ml-4 mb-2",listitem:"mb-1",listitemChecked:"line-through text-muted-foreground",listitemUnchecked:""},text:{bold:"font-bold",italic:"italic",underline:"underline",strikethrough:"line-through",code:"font-mono bg-muted px-1 rounded"}};function hM({onChange:n,editable:e=!0}){const t={namespace:"NotesEditor",theme:dM,nodes:[Od,Xl,pa,cd],editable:e,onError:i=>{console.error("Lexical error:",i)}},r=i=>{i.read(()=>{const a=JSON.stringify(i.toJSON());n==null||n(a)})};return V.jsx(DD,{initialConfig:t,children:V.jsxs("div",{className:"relative min-h-[200px]",children:[V.jsx(RL,{contentEditable:V.jsx(LL,{className:"outline-none min-h-[200px] px-4 py-2"}),placeholder:V.jsx("div",{className:"absolute top-2 left-4 text-muted-foreground pointer-events-none",children:"Start typing..."}),ErrorBoundary:HL}),V.jsx(UL,{}),V.jsx(lM,{}),V.jsx(uM,{}),V.jsx(BL,{onChange:r})]})})}function fM(n,e){const t=N.useRef();return N.useCallback(((...r)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{n(...r)},e)}),[n,e])}function pM(){const{id:n}=nb(),e=na(),{data:t,isLoading:r,error:i}=VA(n),a=HA(),l=AR(),{hasTouchScreen:c,isPortrait:d}=Cb(),[f,g]=N.useState(""),m=c&&d;N.useEffect(()=>{t!=null&&t.title&&g(t.title)},[t==null?void 0:t.title]);const v=fM(S=>{n&&S!==(t==null?void 0:t.title)&&a.mutate({id:n,title:S})},500),_=S=>{const b=S.target.value;g(b),v(b)},w=async()=>{n&&confirm("Delete this note?")&&(await l.mutateAsync(n),e("/"))};return r?V.jsx("div",{className:"flex items-center justify-center h-full",children:V.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):i||!t?V.jsx("div",{className:"p-4 text-center text-destructive",children:"Note not found"}):V.jsxs("div",{className:"h-full flex flex-col",children:[V.jsxs("header",{className:"h-14 flex items-center gap-2 px-4 border-b shrink-0",children:[m&&V.jsx(Tl,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:V.jsx(AA,{className:"h-5 w-5"})}),V.jsx(md,{value:f,onChange:_,placeholder:"Untitled",className:"flex-1 border-0 text-lg font-medium focus-visible:ring-0"}),V.jsx(Tl,{variant:"ghost",size:"icon",onClick:w,children:V.jsx(BA,{className:"h-5 w-5 text-destructive"})})]}),V.jsx("main",{className:"flex-1 overflow-auto",children:V.jsx(hM,{})})]})}function gM({children:n}){const{user:e,loading:t}=KS();return t?V.jsx("div",{className:"min-h-screen flex items-center justify-center",children:V.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):e?V.jsx(V.Fragment,{children:n}):V.jsx(HP,{to:"/login",replace:!0})}function mM(){return V.jsx(vN,{children:V.jsxs(JP,{children:[V.jsx(ei,{path:"/login",element:V.jsx(OR,{})}),V.jsxs(ei,{path:"/",element:V.jsx(gM,{children:V.jsx(KA,{})}),children:[V.jsx(ei,{index:!0,element:V.jsx(Tb,{})}),V.jsx(ei,{path:"note/:id",element:V.jsx(pM,{})}),V.jsx(ei,{path:"search",element:V.jsx("div",{className:"p-4",children:"Search (Phase 2)"})}),V.jsx(ei,{path:"settings",element:V.jsx("div",{className:"p-4",children:"Settings (Phase 2)"})})]})]})})}const yM=new eT({defaultOptions:{queries:{staleTime:1e3*60,retry:1}}});RC.createRoot(document.getElementById("root")).render(V.jsx(dS.StrictMode,{children:V.jsx(tT,{client:yM,children:V.jsx(JO,{children:V.jsx(mM,{})})})}));
