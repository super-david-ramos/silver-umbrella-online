var IC=Object.defineProperty;var E_=n=>{throw TypeError(n)};var DC=(n,e,t)=>e in n?IC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var H=(n,e,t)=>DC(n,typeof e!="symbol"?e+"":e,t),Nf=(n,e,t)=>e.has(n)||E_("Cannot "+t);var P=(n,e,t)=>(Nf(n,e,"read from private field"),t?t.call(n):e.get(n)),ve=(n,e,t)=>e.has(n)?E_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ne=(n,e,t,r)=>(Nf(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),De=(n,e,t)=>(Nf(n,e,"access private method"),t);var cc=(n,e,t,r)=>({set _(i){ne(n,e,i,t)},get _(){return P(n,e,r)}});function jC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function vS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Of={exports:{}},tl={},Pf={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function LC(){if(C_)return $e;C_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function x(L,q,ge){this.props=L,this.context=q,this.refs=S,this.updater=ge||_}x.prototype.isReactComponent={},x.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=x.prototype;function C(L,q,ge){this.props=L,this.context=q,this.refs=S,this.updater=ge||_}var E=C.prototype=new k;E.constructor=C,w(E,x.prototype),E.isPureReactComponent=!0;var N=Array.isArray,M=Object.prototype.hasOwnProperty,D={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function j(L,q,ge){var ye,Pe={},Oe=null,Ee=null;if(q!=null)for(ye in q.ref!==void 0&&(Ee=q.ref),q.key!==void 0&&(Oe=""+q.key),q)M.call(q,ye)&&!U.hasOwnProperty(ye)&&(Pe[ye]=q[ye]);var Me=arguments.length-2;if(Me===1)Pe.children=ge;else if(1<Me){for(var ze=Array(Me),ut=0;ut<Me;ut++)ze[ut]=arguments[ut+2];Pe.children=ze}if(L&&L.defaultProps)for(ye in Me=L.defaultProps,Me)Pe[ye]===void 0&&(Pe[ye]=Me[ye]);return{$$typeof:n,type:L,key:Oe,ref:Ee,props:Pe,_owner:D.current}}function z(L,q){return{$$typeof:n,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function K(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function re(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ge){return q[ge]})}var we=/\/+/g;function fe(L,q){return typeof L=="object"&&L!==null&&L.key!=null?re(""+L.key):q.toString(36)}function Te(L,q,ge,ye,Pe){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Ee=!1;if(L===null)Ee=!0;else switch(Oe){case"string":case"number":Ee=!0;break;case"object":switch(L.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=L,Pe=Pe(Ee),L=ye===""?"."+fe(Ee,0):ye,N(Pe)?(ge="",L!=null&&(ge=L.replace(we,"$&/")+"/"),Te(Pe,q,ge,"",function(ut){return ut})):Pe!=null&&(K(Pe)&&(Pe=z(Pe,ge+(!Pe.key||Ee&&Ee.key===Pe.key?"":(""+Pe.key).replace(we,"$&/")+"/")+L)),q.push(Pe)),1;if(Ee=0,ye=ye===""?".":ye+":",N(L))for(var Me=0;Me<L.length;Me++){Oe=L[Me];var ze=ye+fe(Oe,Me);Ee+=Te(Oe,q,ge,ze,Pe)}else if(ze=v(L),typeof ze=="function")for(L=ze.call(L),Me=0;!(Oe=L.next()).done;)Oe=Oe.value,ze=ye+fe(Oe,Me++),Ee+=Te(Oe,q,ge,ze,Pe);else if(Oe==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Ie(L,q,ge){if(L==null)return L;var ye=[],Pe=0;return Te(L,ye,"","",function(Oe){return q.call(ge,Oe,Pe++)}),ye}function Re(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(ge){(L._status===0||L._status===-1)&&(L._status=1,L._result=ge)},function(ge){(L._status===0||L._status===-1)&&(L._status=2,L._result=ge)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var Ne={current:null},W={transition:null},de={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:W,ReactCurrentOwner:D};function te(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Ie,forEach:function(L,q,ge){Ie(L,function(){q.apply(this,arguments)},ge)},count:function(L){var q=0;return Ie(L,function(){q++}),q},toArray:function(L){return Ie(L,function(q){return q})||[]},only:function(L){if(!K(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},$e.Component=x,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=C,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,$e.act=te,$e.cloneElement=function(L,q,ge){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ye=w({},L.props),Pe=L.key,Oe=L.ref,Ee=L._owner;if(q!=null){if(q.ref!==void 0&&(Oe=q.ref,Ee=D.current),q.key!==void 0&&(Pe=""+q.key),L.type&&L.type.defaultProps)var Me=L.type.defaultProps;for(ze in q)M.call(q,ze)&&!U.hasOwnProperty(ze)&&(ye[ze]=q[ze]===void 0&&Me!==void 0?Me[ze]:q[ze])}var ze=arguments.length-2;if(ze===1)ye.children=ge;else if(1<ze){Me=Array(ze);for(var ut=0;ut<ze;ut++)Me[ut]=arguments[ut+2];ye.children=Me}return{$$typeof:n,type:L.type,key:Pe,ref:Oe,props:ye,_owner:Ee}},$e.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},$e.createElement=j,$e.createFactory=function(L){var q=j.bind(null,L);return q.type=L,q},$e.createRef=function(){return{current:null}},$e.forwardRef=function(L){return{$$typeof:c,render:L}},$e.isValidElement=K,$e.lazy=function(L){return{$$typeof:g,_payload:{_status:-1,_result:L},_init:Re}},$e.memo=function(L,q){return{$$typeof:f,type:L,compare:q===void 0?null:q}},$e.startTransition=function(L){var q=W.transition;W.transition={};try{L()}finally{W.transition=q}},$e.unstable_act=te,$e.useCallback=function(L,q){return Ne.current.useCallback(L,q)},$e.useContext=function(L){return Ne.current.useContext(L)},$e.useDebugValue=function(){},$e.useDeferredValue=function(L){return Ne.current.useDeferredValue(L)},$e.useEffect=function(L,q){return Ne.current.useEffect(L,q)},$e.useId=function(){return Ne.current.useId()},$e.useImperativeHandle=function(L,q,ge){return Ne.current.useImperativeHandle(L,q,ge)},$e.useInsertionEffect=function(L,q){return Ne.current.useInsertionEffect(L,q)},$e.useLayoutEffect=function(L,q){return Ne.current.useLayoutEffect(L,q)},$e.useMemo=function(L,q){return Ne.current.useMemo(L,q)},$e.useReducer=function(L,q,ge){return Ne.current.useReducer(L,q,ge)},$e.useRef=function(L){return Ne.current.useRef(L)},$e.useState=function(L){return Ne.current.useState(L)},$e.useSyncExternalStore=function(L,q,ge){return Ne.current.useSyncExternalStore(L,q,ge)},$e.useTransition=function(){return Ne.current.useTransition()},$e.version="18.3.1",$e}var T_;function kg(){return T_||(T_=1,Pf.exports=LC()),Pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function MC(){if(N_)return tl;N_=1;var n=kg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var g,m={},v=null,_=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(m[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:e,type:c,key:v,ref:_,props:m,_owner:i.current}}return tl.Fragment=t,tl.jsx=l,tl.jsxs=l,tl}var O_;function $C(){return O_||(O_=1,Of.exports=MC()),Of.exports}var A=$C(),O=kg();const _S=vS(O),FC=jC({__proto__:null,default:_S},[O]);var dc={},Rf={exports:{}},tn={},Af={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function UC(){return P_||(P_=1,(function(n){function e(W,de){var te=W.length;W.push(de);e:for(;0<te;){var L=te-1>>>1,q=W[L];if(0<i(q,de))W[L]=de,W[te]=q,te=L;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var de=W[0],te=W.pop();if(te!==de){W[0]=te;e:for(var L=0,q=W.length,ge=q>>>1;L<ge;){var ye=2*(L+1)-1,Pe=W[ye],Oe=ye+1,Ee=W[Oe];if(0>i(Pe,te))Oe<q&&0>i(Ee,Pe)?(W[L]=Ee,W[Oe]=te,L=Oe):(W[L]=Pe,W[ye]=te,L=ye);else if(Oe<q&&0>i(Ee,te))W[L]=Ee,W[Oe]=te,L=Oe;else break e}}return de}function i(W,de){var te=W.sortIndex-de.sortIndex;return te!==0?te:W.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],g=1,m=null,v=3,_=!1,w=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var de=t(f);de!==null;){if(de.callback===null)r(f);else if(de.startTime<=W)r(f),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(f)}}function N(W){if(S=!1,E(W),!w)if(t(d)!==null)w=!0,Re(M);else{var de=t(f);de!==null&&Ne(N,de.startTime-W)}}function M(W,de){w=!1,S&&(S=!1,k(j),j=-1),_=!0;var te=v;try{for(E(de),m=t(d);m!==null&&(!(m.expirationTime>de)||W&&!re());){var L=m.callback;if(typeof L=="function"){m.callback=null,v=m.priorityLevel;var q=L(m.expirationTime<=de);de=n.unstable_now(),typeof q=="function"?m.callback=q:m===t(d)&&r(d),E(de)}else r(d);m=t(d)}if(m!==null)var ge=!0;else{var ye=t(f);ye!==null&&Ne(N,ye.startTime-de),ge=!1}return ge}finally{m=null,v=te,_=!1}}var D=!1,U=null,j=-1,z=5,K=-1;function re(){return!(n.unstable_now()-K<z)}function we(){if(U!==null){var W=n.unstable_now();K=W;var de=!0;try{de=U(!0,W)}finally{de?fe():(D=!1,U=null)}}else D=!1}var fe;if(typeof C=="function")fe=function(){C(we)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ie=Te.port2;Te.port1.onmessage=we,fe=function(){Ie.postMessage(null)}}else fe=function(){x(we,0)};function Re(W){U=W,D||(D=!0,fe())}function Ne(W,de){j=x(function(){W(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){w||_||(w=!0,Re(M))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var te=v;v=de;try{return W()}finally{v=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,de){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=v;v=W;try{return de()}finally{v=te}},n.unstable_scheduleCallback=function(W,de,te){var L=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?L+te:L):te=L,W){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=te+q,W={id:g++,callback:de,priorityLevel:W,startTime:te,expirationTime:q,sortIndex:-1},te>L?(W.sortIndex=te,e(f,W),t(d)===null&&W===t(f)&&(S?(k(j),j=-1):S=!0,Ne(N,te-L))):(W.sortIndex=q,e(d,W),w||_||(w=!0,Re(M))),W},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(W){var de=v;return function(){var te=v;v=de;try{return W.apply(this,arguments)}finally{v=te}}}})(If)),If}var R_;function zC(){return R_||(R_=1,Af.exports=UC()),Af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function BC(){if(A_)return tn;A_=1;var n=kg(),e=zC();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(s){return d.call(m,s)?!0:d.call(g,s)?!1:f.test(s)?m[s]=!0:(g[s]=!0,!1)}function _(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,o,u,h){if(o===null||typeof o>"u"||_(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,u,h,p,y,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=b}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(k,C);x[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(k,C);x[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(k,C);x[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,o,u,h){var p=x.hasOwnProperty(o)?x[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,u,p,h)&&(u=null),h||p===null?v(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):p.mustUseProperty?s[p.propertyName]=u===null?p.type===3?!1:"":u:(o=p.attributeName,h=p.attributeNamespace,u===null?s.removeAttribute(o):(p=p.type,u=p===3||p===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),re=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),W=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,L;function q(s){if(L===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+s}var ge=!1;function ye(s,o){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(B){var h=B}Reflect.construct(s,[],o)}else{try{o.call()}catch(B){h=B}s.call(o.prototype)}else{try{throw Error()}catch(B){h=B}s()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var p=B.stack.split(`
`),y=h.stack.split(`
`),b=p.length-1,T=y.length-1;1<=b&&0<=T&&p[b]!==y[T];)T--;for(;1<=b&&0<=T;b--,T--)if(p[b]!==y[T]){if(b!==1||T!==1)do if(b--,T--,0>T||p[b]!==y[T]){var R=`
`+p[b].replace(" at new "," at ");return s.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",s.displayName)),R}while(1<=b&&0<=T);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?q(s):""}function Pe(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=ye(s.type,!1),s;case 11:return s=ye(s.type.render,!1),s;case 1:return s=ye(s.type,!0),s;default:return""}}function Oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case D:return"Portal";case z:return"Profiler";case j:return"StrictMode";case fe:return"Suspense";case Te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case we:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ie:return o=s.displayName||null,o!==null?o:Oe(s.type)||"Memo";case Re:o=s._payload,s=s._init;try{return Oe(s(o))}catch{}}return null}function Ee(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ut(s){var o=ze(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(b){h=""+b,y.call(this,b)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Vr(s){s._valueTracker||(s._valueTracker=ut(s))}function Fs(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=ze(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function tu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Dd(s,o){var u=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Am(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Me(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Im(s,o){o=o.checked,o!=null&&E(s,"checked",o,!1)}function jd(s,o){Im(s,o);var u=Me(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ld(s,o.type,u):o.hasOwnProperty("defaultValue")&&Ld(s,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Dm(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ld(s,o,u){(o!=="number"||tu(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ma=Array.isArray;function zi(s,o,u,h){if(s=s.options,o){o={};for(var p=0;p<u.length;p++)o["$"+u[p]]=!0;for(u=0;u<s.length;u++)p=o.hasOwnProperty("$"+s[u].value),s[u].selected!==p&&(s[u].selected=p),p&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Me(u),o=null,p=0;p<s.length;p++){if(s[p].value===u){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function Md(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function jm(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(ma(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Me(u)}}function Lm(s,o){var u=Me(o.value),h=Me(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function Mm(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function $m(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $d(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?$m(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var nu,Fm=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,p){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,p)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(nu=nu||document.createElement("div"),nu.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=nu.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ya(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mk=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(s){Mk.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),va[o]=va[s]})});function Um(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||va.hasOwnProperty(s)&&va[s]?(""+o).trim():o+"px"}function zm(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,p=Um(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,p):s[u]=p}}var $k=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fd(s,o){if(o){if($k[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ud(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=null;function Bd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Wd=null,Bi=null,Wi=null;function Bm(s){if(s=Ua(s)){if(typeof Wd!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Eu(o),Wd(s.stateNode,s.type,o))}}function Wm(s){Bi?Wi?Wi.push(s):Wi=[s]:Bi=s}function Km(){if(Bi){var s=Bi,o=Wi;if(Wi=Bi=null,Bm(s),o)for(s=0;s<o.length;s++)Bm(o[s])}}function Vm(s,o){return s(o)}function Hm(){}var Kd=!1;function qm(s,o,u){if(Kd)return s(o,u);Kd=!0;try{return Vm(s,o,u)}finally{Kd=!1,(Bi!==null||Wi!==null)&&(Hm(),Km())}}function _a(s,o){var u=s.stateNode;if(u===null)return null;var h=Eu(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Vd=!1;if(c)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Vd=!1}function Fk(s,o,u,h,p,y,b,T,R){var B=Array.prototype.slice.call(arguments,3);try{o.apply(u,B)}catch(G){this.onError(G)}}var Sa=!1,ru=null,su=!1,Hd=null,Uk={onError:function(s){Sa=!0,ru=s}};function zk(s,o,u,h,p,y,b,T,R){Sa=!1,ru=null,Fk.apply(Uk,arguments)}function Bk(s,o,u,h,p,y,b,T,R){if(zk.apply(this,arguments),Sa){if(Sa){var B=ru;Sa=!1,ru=null}else throw Error(t(198));su||(su=!0,Hd=B)}}function Us(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Jm(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Gm(s){if(Us(s)!==s)throw Error(t(188))}function Wk(s){var o=s.alternate;if(!o){if(o=Us(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){u=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return Gm(p),s;if(y===h)return Gm(p),o;y=y.sibling}throw Error(t(188))}if(u.return!==h.return)u=p,h=y;else{for(var b=!1,T=p.child;T;){if(T===u){b=!0,u=p,h=y;break}if(T===h){b=!0,h=p,u=y;break}T=T.sibling}if(!b){for(T=y.child;T;){if(T===u){b=!0,u=y,h=p;break}if(T===h){b=!0,h=y,u=p;break}T=T.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Qm(s){return s=Wk(s),s!==null?Ym(s):null}function Ym(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ym(s);if(o!==null)return o;s=s.sibling}return null}var Xm=e.unstable_scheduleCallback,Zm=e.unstable_cancelCallback,Kk=e.unstable_shouldYield,Vk=e.unstable_requestPaint,ct=e.unstable_now,Hk=e.unstable_getCurrentPriorityLevel,qd=e.unstable_ImmediatePriority,ey=e.unstable_UserBlockingPriority,iu=e.unstable_NormalPriority,qk=e.unstable_LowPriority,ty=e.unstable_IdlePriority,ou=null,Zn=null;function Jk(s){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(ou,s,void 0,(s.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Yk,Gk=Math.log,Qk=Math.LN2;function Yk(s){return s>>>=0,s===0?32:31-(Gk(s)/Qk|0)|0}var au=64,lu=4194304;function xa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uu(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,p=s.suspendedLanes,y=s.pingedLanes,b=u&268435455;if(b!==0){var T=b&~p;T!==0?h=xa(T):(y&=b,y!==0&&(h=xa(y)))}else b=u&~p,b!==0?h=xa(b):y!==0&&(h=xa(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-In(o),p=1<<u,h|=s[u],o&=~p;return h}function Xk(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zk(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var b=31-In(y),T=1<<b,R=p[b];R===-1?((T&u)===0||(T&h)!==0)&&(p[b]=Xk(T,o)):R<=o&&(s.expiredLanes|=T),y&=~T}}function Jd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ny(){var s=au;return au<<=1,(au&4194240)===0&&(au=64),s}function Gd(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ba(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-In(o),s[o]=u}function eE(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var p=31-In(u),y=1<<p;o[p]=0,h[p]=-1,s[p]=-1,u&=~y}}function Qd(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-In(u),p=1<<h;p&o|s[h]&o&&(s[h]|=o),u&=~p}}var qe=0;function ry(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var sy,Yd,iy,oy,ay,Xd=!1,cu=[],Hr=null,qr=null,Jr=null,ka=new Map,Ea=new Map,Gr=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(s,o){switch(s){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":ka.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(o.pointerId)}}function Ca(s,o,u,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},o!==null&&(o=Ua(o),o!==null&&Yd(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function nE(s,o,u,h,p){switch(o){case"focusin":return Hr=Ca(Hr,s,o,u,h,p),!0;case"dragenter":return qr=Ca(qr,s,o,u,h,p),!0;case"mouseover":return Jr=Ca(Jr,s,o,u,h,p),!0;case"pointerover":var y=p.pointerId;return ka.set(y,Ca(ka.get(y)||null,s,o,u,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Ea.set(y,Ca(Ea.get(y)||null,s,o,u,h,p)),!0}return!1}function uy(s){var o=zs(s.target);if(o!==null){var u=Us(o);if(u!==null){if(o=u.tag,o===13){if(o=Jm(u),o!==null){s.blockedOn=o,ay(s.priority,function(){iy(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function du(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=eh(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);zd=h,u.target.dispatchEvent(h),zd=null}else return o=Ua(u),o!==null&&Yd(o),s.blockedOn=u,!1;o.shift()}return!0}function cy(s,o,u){du(s)&&u.delete(o)}function rE(){Xd=!1,Hr!==null&&du(Hr)&&(Hr=null),qr!==null&&du(qr)&&(qr=null),Jr!==null&&du(Jr)&&(Jr=null),ka.forEach(cy),Ea.forEach(cy)}function Ta(s,o){s.blockedOn===o&&(s.blockedOn=null,Xd||(Xd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rE)))}function Na(s){function o(p){return Ta(p,s)}if(0<cu.length){Ta(cu[0],s);for(var u=1;u<cu.length;u++){var h=cu[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Hr!==null&&Ta(Hr,s),qr!==null&&Ta(qr,s),Jr!==null&&Ta(Jr,s),ka.forEach(o),Ea.forEach(o),u=0;u<Gr.length;u++)h=Gr[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Gr.length&&(u=Gr[0],u.blockedOn===null);)uy(u),u.blockedOn===null&&Gr.shift()}var Ki=N.ReactCurrentBatchConfig,hu=!0;function sE(s,o,u,h){var p=qe,y=Ki.transition;Ki.transition=null;try{qe=1,Zd(s,o,u,h)}finally{qe=p,Ki.transition=y}}function iE(s,o,u,h){var p=qe,y=Ki.transition;Ki.transition=null;try{qe=4,Zd(s,o,u,h)}finally{qe=p,Ki.transition=y}}function Zd(s,o,u,h){if(hu){var p=eh(s,o,u,h);if(p===null)yh(s,o,h,fu,u),ly(s,h);else if(nE(p,s,o,u,h))h.stopPropagation();else if(ly(s,h),o&4&&-1<tE.indexOf(s)){for(;p!==null;){var y=Ua(p);if(y!==null&&sy(y),y=eh(s,o,u,h),y===null&&yh(s,o,h,fu,u),y===p)break;p=y}p!==null&&h.stopPropagation()}else yh(s,o,h,null,u)}}var fu=null;function eh(s,o,u,h){if(fu=null,s=Bd(h),s=zs(s),s!==null)if(o=Us(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Jm(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return fu=s,null}function dy(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hk()){case qd:return 1;case ey:return 4;case iu:case qk:return 16;case ty:return 536870912;default:return 16}default:return 16}}var Qr=null,th=null,pu=null;function hy(){if(pu)return pu;var s,o=th,u=o.length,h,p="value"in Qr?Qr.value:Qr.textContent,y=p.length;for(s=0;s<u&&o[s]===p[s];s++);var b=u-s;for(h=1;h<=b&&o[u-h]===p[y-h];h++);return pu=p.slice(s,1<h?1-h:void 0)}function gu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function mu(){return!0}function fy(){return!1}function ln(s){function o(u,h,p,y,b){this._reactName=u,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(u=s[T],this[T]=u?u(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?mu:fy,this.isPropagationStopped=fy,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),o}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=ln(Vi),Oa=te({},Vi,{view:0,detail:0}),oE=ln(Oa),rh,sh,Pa,yu=te({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pa&&(Pa&&s.type==="mousemove"?(rh=s.screenX-Pa.screenX,sh=s.screenY-Pa.screenY):sh=rh=0,Pa=s),rh)},movementY:function(s){return"movementY"in s?s.movementY:sh}}),py=ln(yu),aE=te({},yu,{dataTransfer:0}),lE=ln(aE),uE=te({},Oa,{relatedTarget:0}),ih=ln(uE),cE=te({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),dE=ln(cE),hE=te({},Vi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),fE=ln(hE),pE=te({},Vi,{data:0}),gy=ln(pE),gE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vE(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=yE[s])?!!o[s]:!1}function oh(){return vE}var _E=te({},Oa,{key:function(s){if(s.key){var o=gE[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=gu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mE[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(s){return s.type==="keypress"?gu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?gu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wE=ln(_E),SE=te({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),my=ln(SE),xE=te({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),bE=ln(xE),kE=te({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),EE=ln(kE),CE=te({},yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=ln(CE),NE=[9,13,27,32],ah=c&&"CompositionEvent"in window,Ra=null;c&&"documentMode"in document&&(Ra=document.documentMode);var OE=c&&"TextEvent"in window&&!Ra,yy=c&&(!ah||Ra&&8<Ra&&11>=Ra),vy=" ",_y=!1;function wy(s,o){switch(s){case"keyup":return NE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Hi=!1;function PE(s,o){switch(s){case"compositionend":return Sy(o);case"keypress":return o.which!==32?null:(_y=!0,vy);case"textInput":return s=o.data,s===vy&&_y?null:s;default:return null}}function RE(s,o){if(Hi)return s==="compositionend"||!ah&&wy(s,o)?(s=hy(),pu=th=Qr=null,Hi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return yy&&o.locale!=="ko"?null:o.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!AE[s.type]:o==="textarea"}function by(s,o,u,h){Wm(h),o=xu(o,"onChange"),0<o.length&&(u=new nh("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Aa=null,Ia=null;function IE(s){zy(s,0)}function vu(s){var o=Yi(s);if(Fs(o))return s}function DE(s,o){if(s==="change")return o}var ky=!1;if(c){var lh;if(c){var uh="oninput"in document;if(!uh){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),uh=typeof Ey.oninput=="function"}lh=uh}else lh=!1;ky=lh&&(!document.documentMode||9<document.documentMode)}function Cy(){Aa&&(Aa.detachEvent("onpropertychange",Ty),Ia=Aa=null)}function Ty(s){if(s.propertyName==="value"&&vu(Ia)){var o=[];by(o,Ia,s,Bd(s)),qm(IE,o)}}function jE(s,o,u){s==="focusin"?(Cy(),Aa=o,Ia=u,Aa.attachEvent("onpropertychange",Ty)):s==="focusout"&&Cy()}function LE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vu(Ia)}function ME(s,o){if(s==="click")return vu(o)}function $E(s,o){if(s==="input"||s==="change")return vu(o)}function FE(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Dn=typeof Object.is=="function"?Object.is:FE;function Da(s,o){if(Dn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var p=u[h];if(!d.call(o,p)||!Dn(s[p],o[p]))return!1}return!0}function Ny(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Oy(s,o){var u=Ny(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ny(u)}}function Py(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Py(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ry(){for(var s=window,o=tu();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=tu(s.document)}return o}function ch(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function UE(s){var o=Ry(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Py(u.ownerDocument.documentElement,u)){if(h!==null&&ch(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var p=u.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!s.extend&&y>h&&(p=h,h=y,y=p),p=Oy(u,y);var b=Oy(u,h);p&&b&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var zE=c&&"documentMode"in document&&11>=document.documentMode,qi=null,dh=null,ja=null,hh=!1;function Ay(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;hh||qi==null||qi!==tu(h)||(h=qi,"selectionStart"in h&&ch(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ja&&Da(ja,h)||(ja=h,h=xu(dh,"onSelect"),0<h.length&&(o=new nh("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=qi)))}function _u(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ji={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},fh={},Iy={};c&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function wu(s){if(fh[s])return fh[s];if(!Ji[s])return s;var o=Ji[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Iy)return fh[s]=o[u];return s}var Dy=wu("animationend"),jy=wu("animationiteration"),Ly=wu("animationstart"),My=wu("transitionend"),$y=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(s,o){$y.set(s,o),a(o,[s])}for(var ph=0;ph<Fy.length;ph++){var gh=Fy[ph],BE=gh.toLowerCase(),WE=gh[0].toUpperCase()+gh.slice(1);Yr(BE,"on"+WE)}Yr(Dy,"onAnimationEnd"),Yr(jy,"onAnimationIteration"),Yr(Ly,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(My,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Uy(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Bk(h,o,void 0,s),s.currentTarget=null}function zy(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],p=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var b=h.length-1;0<=b;b--){var T=h[b],R=T.instance,B=T.currentTarget;if(T=T.listener,R!==y&&p.isPropagationStopped())break e;Uy(p,T,B),y=R}else for(b=0;b<h.length;b++){if(T=h[b],R=T.instance,B=T.currentTarget,T=T.listener,R!==y&&p.isPropagationStopped())break e;Uy(p,T,B),y=R}}}if(su)throw s=Hd,su=!1,Hd=null,s}function Ze(s,o){var u=o[bh];u===void 0&&(u=o[bh]=new Set);var h=s+"__bubble";u.has(h)||(By(o,s,2,!1),u.add(h))}function mh(s,o,u){var h=0;o&&(h|=4),By(u,s,h,o)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Ma(s){if(!s[Su]){s[Su]=!0,r.forEach(function(u){u!=="selectionchange"&&(KE.has(u)||mh(u,!1,s),mh(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Su]||(o[Su]=!0,mh("selectionchange",!1,o))}}function By(s,o,u,h){switch(dy(o)){case 1:var p=sE;break;case 4:p=iE;break;default:p=Zd}u=p.bind(null,o,u,s),p=void 0,!Vd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(o,u,{capture:!0,passive:p}):s.addEventListener(o,u,!0):p!==void 0?s.addEventListener(o,u,{passive:p}):s.addEventListener(o,u,!1)}function yh(s,o,u,h,p){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var T=h.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(b===4)for(b=h.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===p||R.nodeType===8&&R.parentNode===p))return;b=b.return}for(;T!==null;){if(b=zs(T),b===null)return;if(R=b.tag,R===5||R===6){h=y=b;continue e}T=T.parentNode}}h=h.return}qm(function(){var B=y,G=Bd(u),Y=[];e:{var J=$y.get(s);if(J!==void 0){var ie=nh,le=s;switch(s){case"keypress":if(gu(u)===0)break e;case"keydown":case"keyup":ie=wE;break;case"focusin":le="focus",ie=ih;break;case"focusout":le="blur",ie=ih;break;case"beforeblur":case"afterblur":ie=ih;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=lE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=bE;break;case Dy:case jy:case Ly:ie=dE;break;case My:ie=EE;break;case"scroll":ie=oE;break;case"wheel":ie=TE;break;case"copy":case"cut":case"paste":ie=fE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=my}var he=(o&4)!==0,dt=!he&&s==="scroll",$=he?J!==null?J+"Capture":null:J;he=[];for(var I=B,F;I!==null;){F=I;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,$!==null&&(Z=_a(I,$),Z!=null&&he.push($a(I,Z,F)))),dt)break;I=I.return}0<he.length&&(J=new ie(J,le,null,u,G),Y.push({event:J,listeners:he}))}}if((o&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",J&&u!==zd&&(le=u.relatedTarget||u.fromElement)&&(zs(le)||le[pr]))break e;if((ie||J)&&(J=G.window===G?G:(J=G.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(le=u.relatedTarget||u.toElement,ie=B,le=le?zs(le):null,le!==null&&(dt=Us(le),le!==dt||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=B),ie!==le)){if(he=py,Z="onMouseLeave",$="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(he=my,Z="onPointerLeave",$="onPointerEnter",I="pointer"),dt=ie==null?J:Yi(ie),F=le==null?J:Yi(le),J=new he(Z,I+"leave",ie,u,G),J.target=dt,J.relatedTarget=F,Z=null,zs(G)===B&&(he=new he($,I+"enter",le,u,G),he.target=F,he.relatedTarget=dt,Z=he),dt=Z,ie&&le)t:{for(he=ie,$=le,I=0,F=he;F;F=Gi(F))I++;for(F=0,Z=$;Z;Z=Gi(Z))F++;for(;0<I-F;)he=Gi(he),I--;for(;0<F-I;)$=Gi($),F--;for(;I--;){if(he===$||$!==null&&he===$.alternate)break t;he=Gi(he),$=Gi($)}he=null}else he=null;ie!==null&&Wy(Y,J,ie,he,!1),le!==null&&dt!==null&&Wy(Y,dt,le,he,!0)}}e:{if(J=B?Yi(B):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var pe=DE;else if(xy(J))if(ky)pe=$E;else{pe=LE;var Se=jE}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=ME);if(pe&&(pe=pe(s,B))){by(Y,pe,u,G);break e}Se&&Se(s,J,B),s==="focusout"&&(Se=J._wrapperState)&&Se.controlled&&J.type==="number"&&Ld(J,"number",J.value)}switch(Se=B?Yi(B):window,s){case"focusin":(xy(Se)||Se.contentEditable==="true")&&(qi=Se,dh=B,ja=null);break;case"focusout":ja=dh=qi=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Ay(Y,u,G);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":Ay(Y,u,G)}var xe;if(ah)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Hi?wy(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(yy&&u.locale!=="ko"&&(Hi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Hi&&(xe=hy()):(Qr=G,th="value"in Qr?Qr.value:Qr.textContent,Hi=!0)),Se=xu(B,Ce),0<Se.length&&(Ce=new gy(Ce,s,null,u,G),Y.push({event:Ce,listeners:Se}),xe?Ce.data=xe:(xe=Sy(u),xe!==null&&(Ce.data=xe)))),(xe=OE?PE(s,u):RE(s,u))&&(B=xu(B,"onBeforeInput"),0<B.length&&(G=new gy("onBeforeInput","beforeinput",null,u,G),Y.push({event:G,listeners:B}),G.data=xe))}zy(Y,o)})}function $a(s,o,u){return{instance:s,listener:o,currentTarget:u}}function xu(s,o){for(var u=o+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=_a(s,u),y!=null&&h.unshift($a(s,y,p)),y=_a(s,o),y!=null&&h.push($a(s,y,p))),s=s.return}return h}function Gi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Wy(s,o,u,h,p){for(var y=o._reactName,b=[];u!==null&&u!==h;){var T=u,R=T.alternate,B=T.stateNode;if(R!==null&&R===h)break;T.tag===5&&B!==null&&(T=B,p?(R=_a(u,y),R!=null&&b.unshift($a(u,R,T))):p||(R=_a(u,y),R!=null&&b.push($a(u,R,T)))),u=u.return}b.length!==0&&s.push({event:o,listeners:b})}var VE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function Ky(s){return(typeof s=="string"?s:""+s).replace(VE,`
`).replace(HE,"")}function bu(s,o,u){if(o=Ky(o),Ky(s)!==o&&u)throw Error(t(425))}function ku(){}var vh=null,_h=null;function wh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(s){return Vy.resolve(null).then(s).catch(GE)}:Sh;function GE(s){setTimeout(function(){throw s})}function xh(s,o){var u=o,h=0;do{var p=u.nextSibling;if(s.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(h===0){s.removeChild(p),Na(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=p}while(u);Na(o)}function Xr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Hy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),er="__reactFiber$"+Qi,Fa="__reactProps$"+Qi,pr="__reactContainer$"+Qi,bh="__reactEvents$"+Qi,QE="__reactListeners$"+Qi,YE="__reactHandles$"+Qi;function zs(s){var o=s[er];if(o)return o;for(var u=s.parentNode;u;){if(o=u[pr]||u[er]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Hy(s);s!==null;){if(u=s[er])return u;s=Hy(s)}return o}s=u,u=s.parentNode}return null}function Ua(s){return s=s[er]||s[pr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Yi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Eu(s){return s[Fa]||null}var kh=[],Xi=-1;function Zr(s){return{current:s}}function et(s){0>Xi||(s.current=kh[Xi],kh[Xi]=null,Xi--)}function Ye(s,o){Xi++,kh[Xi]=s.current,s.current=o}var es={},Mt=Zr(es),Qt=Zr(!1),Bs=es;function Zi(s,o){var u=s.type.contextTypes;if(!u)return es;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in u)p[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=p),p}function Yt(s){return s=s.childContextTypes,s!=null}function Cu(){et(Qt),et(Mt)}function qy(s,o,u){if(Mt.current!==es)throw Error(t(168));Ye(Mt,o),Ye(Qt,u)}function Jy(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ee(s)||"Unknown",p));return te({},u,h)}function Tu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||es,Bs=Mt.current,Ye(Mt,s),Ye(Qt,Qt.current),!0}function Gy(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=Jy(s,o,Bs),h.__reactInternalMemoizedMergedChildContext=s,et(Qt),et(Mt),Ye(Mt,s)):et(Qt),Ye(Qt,u)}var gr=null,Nu=!1,Eh=!1;function Qy(s){gr===null?gr=[s]:gr.push(s)}function XE(s){Nu=!0,Qy(s)}function ts(){if(!Eh&&gr!==null){Eh=!0;var s=0,o=qe;try{var u=gr;for(qe=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}gr=null,Nu=!1}catch(p){throw gr!==null&&(gr=gr.slice(s+1)),Xm(qd,ts),p}finally{qe=o,Eh=!1}}return null}var eo=[],to=0,Ou=null,Pu=0,_n=[],wn=0,Ws=null,mr=1,yr="";function Ks(s,o){eo[to++]=Pu,eo[to++]=Ou,Ou=s,Pu=o}function Yy(s,o,u){_n[wn++]=mr,_n[wn++]=yr,_n[wn++]=Ws,Ws=s;var h=mr;s=yr;var p=32-In(h)-1;h&=~(1<<p),u+=1;var y=32-In(o)+p;if(30<y){var b=p-p%5;y=(h&(1<<b)-1).toString(32),h>>=b,p-=b,mr=1<<32-In(o)+p|u<<p|h,yr=y+s}else mr=1<<y|u<<p|h,yr=s}function Ch(s){s.return!==null&&(Ks(s,1),Yy(s,1,0))}function Th(s){for(;s===Ou;)Ou=eo[--to],eo[to]=null,Pu=eo[--to],eo[to]=null;for(;s===Ws;)Ws=_n[--wn],_n[wn]=null,yr=_n[--wn],_n[wn]=null,mr=_n[--wn],_n[wn]=null}var un=null,cn=null,tt=!1,jn=null;function Xy(s,o){var u=kn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Zy(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,un=s,cn=Xr(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,un=s,cn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ws!==null?{id:mr,overflow:yr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=kn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,un=s,cn=null,!0):!1;default:return!1}}function Nh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Oh(s){if(tt){var o=cn;if(o){var u=o;if(!Zy(s,o)){if(Nh(s))throw Error(t(418));o=Xr(u.nextSibling);var h=un;o&&Zy(s,o)?Xy(h,u):(s.flags=s.flags&-4097|2,tt=!1,un=s)}}else{if(Nh(s))throw Error(t(418));s.flags=s.flags&-4097|2,tt=!1,un=s}}}function ev(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;un=s}function Ru(s){if(s!==un)return!1;if(!tt)return ev(s),tt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!wh(s.type,s.memoizedProps)),o&&(o=cn)){if(Nh(s))throw tv(),Error(t(418));for(;o;)Xy(s,o),o=Xr(o.nextSibling)}if(ev(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){cn=Xr(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}cn=null}}else cn=un?Xr(s.stateNode.nextSibling):null;return!0}function tv(){for(var s=cn;s;)s=Xr(s.nextSibling)}function no(){cn=un=null,tt=!1}function Ph(s){jn===null?jn=[s]:jn.push(s)}var ZE=N.ReactCurrentBatchConfig;function za(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var p=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(b){var T=p.refs;b===null?delete T[y]:T[y]=b},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Au(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function nv(s){var o=s._init;return o(s._payload)}function rv(s){function o($,I){if(s){var F=$.deletions;F===null?($.deletions=[I],$.flags|=16):F.push(I)}}function u($,I){if(!s)return null;for(;I!==null;)o($,I),I=I.sibling;return null}function h($,I){for($=new Map;I!==null;)I.key!==null?$.set(I.key,I):$.set(I.index,I),I=I.sibling;return $}function p($,I){return $=us($,I),$.index=0,$.sibling=null,$}function y($,I,F){return $.index=F,s?(F=$.alternate,F!==null?(F=F.index,F<I?($.flags|=2,I):F):($.flags|=2,I)):($.flags|=1048576,I)}function b($){return s&&$.alternate===null&&($.flags|=2),$}function T($,I,F,Z){return I===null||I.tag!==6?(I=xf(F,$.mode,Z),I.return=$,I):(I=p(I,F),I.return=$,I)}function R($,I,F,Z){var pe=F.type;return pe===U?G($,I,F.props.children,Z,F.key):I!==null&&(I.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Re&&nv(pe)===I.type)?(Z=p(I,F.props),Z.ref=za($,I,F),Z.return=$,Z):(Z=nc(F.type,F.key,F.props,null,$.mode,Z),Z.ref=za($,I,F),Z.return=$,Z)}function B($,I,F,Z){return I===null||I.tag!==4||I.stateNode.containerInfo!==F.containerInfo||I.stateNode.implementation!==F.implementation?(I=bf(F,$.mode,Z),I.return=$,I):(I=p(I,F.children||[]),I.return=$,I)}function G($,I,F,Z,pe){return I===null||I.tag!==7?(I=Xs(F,$.mode,Z,pe),I.return=$,I):(I=p(I,F),I.return=$,I)}function Y($,I,F){if(typeof I=="string"&&I!==""||typeof I=="number")return I=xf(""+I,$.mode,F),I.return=$,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case M:return F=nc(I.type,I.key,I.props,null,$.mode,F),F.ref=za($,null,I),F.return=$,F;case D:return I=bf(I,$.mode,F),I.return=$,I;case Re:var Z=I._init;return Y($,Z(I._payload),F)}if(ma(I)||de(I))return I=Xs(I,$.mode,F,null),I.return=$,I;Au($,I)}return null}function J($,I,F,Z){var pe=I!==null?I.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return pe!==null?null:T($,I,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return F.key===pe?R($,I,F,Z):null;case D:return F.key===pe?B($,I,F,Z):null;case Re:return pe=F._init,J($,I,pe(F._payload),Z)}if(ma(F)||de(F))return pe!==null?null:G($,I,F,Z,null);Au($,F)}return null}function ie($,I,F,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return $=$.get(F)||null,T(I,$,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return $=$.get(Z.key===null?F:Z.key)||null,R(I,$,Z,pe);case D:return $=$.get(Z.key===null?F:Z.key)||null,B(I,$,Z,pe);case Re:var Se=Z._init;return ie($,I,F,Se(Z._payload),pe)}if(ma(Z)||de(Z))return $=$.get(F)||null,G(I,$,Z,pe,null);Au(I,Z)}return null}function le($,I,F,Z){for(var pe=null,Se=null,xe=I,Ce=I=0,Ct=null;xe!==null&&Ce<F.length;Ce++){xe.index>Ce?(Ct=xe,xe=null):Ct=xe.sibling;var We=J($,xe,F[Ce],Z);if(We===null){xe===null&&(xe=Ct);break}s&&xe&&We.alternate===null&&o($,xe),I=y(We,I,Ce),Se===null?pe=We:Se.sibling=We,Se=We,xe=Ct}if(Ce===F.length)return u($,xe),tt&&Ks($,Ce),pe;if(xe===null){for(;Ce<F.length;Ce++)xe=Y($,F[Ce],Z),xe!==null&&(I=y(xe,I,Ce),Se===null?pe=xe:Se.sibling=xe,Se=xe);return tt&&Ks($,Ce),pe}for(xe=h($,xe);Ce<F.length;Ce++)Ct=ie(xe,$,Ce,F[Ce],Z),Ct!==null&&(s&&Ct.alternate!==null&&xe.delete(Ct.key===null?Ce:Ct.key),I=y(Ct,I,Ce),Se===null?pe=Ct:Se.sibling=Ct,Se=Ct);return s&&xe.forEach(function(cs){return o($,cs)}),tt&&Ks($,Ce),pe}function he($,I,F,Z){var pe=de(F);if(typeof pe!="function")throw Error(t(150));if(F=pe.call(F),F==null)throw Error(t(151));for(var Se=pe=null,xe=I,Ce=I=0,Ct=null,We=F.next();xe!==null&&!We.done;Ce++,We=F.next()){xe.index>Ce?(Ct=xe,xe=null):Ct=xe.sibling;var cs=J($,xe,We.value,Z);if(cs===null){xe===null&&(xe=Ct);break}s&&xe&&cs.alternate===null&&o($,xe),I=y(cs,I,Ce),Se===null?pe=cs:Se.sibling=cs,Se=cs,xe=Ct}if(We.done)return u($,xe),tt&&Ks($,Ce),pe;if(xe===null){for(;!We.done;Ce++,We=F.next())We=Y($,We.value,Z),We!==null&&(I=y(We,I,Ce),Se===null?pe=We:Se.sibling=We,Se=We);return tt&&Ks($,Ce),pe}for(xe=h($,xe);!We.done;Ce++,We=F.next())We=ie(xe,$,Ce,We.value,Z),We!==null&&(s&&We.alternate!==null&&xe.delete(We.key===null?Ce:We.key),I=y(We,I,Ce),Se===null?pe=We:Se.sibling=We,Se=We);return s&&xe.forEach(function(AC){return o($,AC)}),tt&&Ks($,Ce),pe}function dt($,I,F,Z){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case M:e:{for(var pe=F.key,Se=I;Se!==null;){if(Se.key===pe){if(pe=F.type,pe===U){if(Se.tag===7){u($,Se.sibling),I=p(Se,F.props.children),I.return=$,$=I;break e}}else if(Se.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Re&&nv(pe)===Se.type){u($,Se.sibling),I=p(Se,F.props),I.ref=za($,Se,F),I.return=$,$=I;break e}u($,Se);break}else o($,Se);Se=Se.sibling}F.type===U?(I=Xs(F.props.children,$.mode,Z,F.key),I.return=$,$=I):(Z=nc(F.type,F.key,F.props,null,$.mode,Z),Z.ref=za($,I,F),Z.return=$,$=Z)}return b($);case D:e:{for(Se=F.key;I!==null;){if(I.key===Se)if(I.tag===4&&I.stateNode.containerInfo===F.containerInfo&&I.stateNode.implementation===F.implementation){u($,I.sibling),I=p(I,F.children||[]),I.return=$,$=I;break e}else{u($,I);break}else o($,I);I=I.sibling}I=bf(F,$.mode,Z),I.return=$,$=I}return b($);case Re:return Se=F._init,dt($,I,Se(F._payload),Z)}if(ma(F))return le($,I,F,Z);if(de(F))return he($,I,F,Z);Au($,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,I!==null&&I.tag===6?(u($,I.sibling),I=p(I,F),I.return=$,$=I):(u($,I),I=xf(F,$.mode,Z),I.return=$,$=I),b($)):u($,I)}return dt}var ro=rv(!0),sv=rv(!1),Iu=Zr(null),Du=null,so=null,Rh=null;function Ah(){Rh=so=Du=null}function Ih(s){var o=Iu.current;et(Iu),s._currentValue=o}function Dh(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function io(s,o){Du=s,Rh=so=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Xt=!0),s.firstContext=null)}function Sn(s){var o=s._currentValue;if(Rh!==s)if(s={context:s,memoizedValue:o,next:null},so===null){if(Du===null)throw Error(t(308));so=s,Du.dependencies={lanes:0,firstContext:s}}else so=so.next=s;return o}var Vs=null;function jh(s){Vs===null?Vs=[s]:Vs.push(s)}function iv(s,o,u,h){var p=o.interleaved;return p===null?(u.next=u,jh(o)):(u.next=p.next,p.next=u),o.interleaved=u,vr(s,h)}function vr(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ns=!1;function Lh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _r(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function rs(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,vr(s,u)}return p=h.interleaved,p===null?(o.next=o,jh(h)):(o.next=p.next,p.next=o),h.interleaved=o,vr(s,u)}function ju(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Qd(s,u)}}function av(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?p=y=b:y=y.next=b,u=u.next}while(u!==null);y===null?p=y=o:y=y.next=o}else p=y=o;u={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Lu(s,o,u,h){var p=s.updateQueue;ns=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var R=T,B=R.next;R.next=null,b===null?y=B:b.next=B,b=R;var G=s.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==b&&(T===null?G.firstBaseUpdate=B:T.next=B,G.lastBaseUpdate=R))}if(y!==null){var Y=p.baseState;b=0,G=B=R=null,T=y;do{var J=T.lane,ie=T.eventTime;if((h&J)===J){G!==null&&(G=G.next={eventTime:ie,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var le=s,he=T;switch(J=o,ie=u,he.tag){case 1:if(le=he.payload,typeof le=="function"){Y=le.call(ie,Y,J);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=he.payload,J=typeof le=="function"?le.call(ie,Y,J):le,J==null)break e;Y=te({},Y,J);break e;case 2:ns=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,J=p.effects,J===null?p.effects=[T]:J.push(T))}else ie={eventTime:ie,lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(B=G=ie,R=Y):G=G.next=ie,b|=J;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;J=T,T=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(G===null&&(R=Y),p.baseState=R,p.firstBaseUpdate=B,p.lastBaseUpdate=G,o=p.shared.interleaved,o!==null){p=o;do b|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);Js|=b,s.lanes=b,s.memoizedState=Y}}function lv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],p=h.callback;if(p!==null){if(h.callback=null,h=u,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Ba={},tr=Zr(Ba),Wa=Zr(Ba),Ka=Zr(Ba);function Hs(s){if(s===Ba)throw Error(t(174));return s}function Mh(s,o){switch(Ye(Ka,o),Ye(Wa,s),Ye(tr,Ba),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:$d(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=$d(o,s)}et(tr),Ye(tr,o)}function oo(){et(tr),et(Wa),et(Ka)}function uv(s){Hs(Ka.current);var o=Hs(tr.current),u=$d(o,s.type);o!==u&&(Ye(Wa,s),Ye(tr,u))}function $h(s){Wa.current===s&&(et(tr),et(Wa))}var rt=Zr(0);function Mu(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fh=[];function Uh(){for(var s=0;s<Fh.length;s++)Fh[s]._workInProgressVersionPrimary=null;Fh.length=0}var $u=N.ReactCurrentDispatcher,zh=N.ReactCurrentBatchConfig,qs=0,st=null,yt=null,kt=null,Fu=!1,Va=!1,Ha=0,eC=0;function $t(){throw Error(t(321))}function Bh(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Dn(s[u],o[u]))return!1;return!0}function Wh(s,o,u,h,p,y){if(qs=y,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$u.current=s===null||s.memoizedState===null?sC:iC,s=u(h,p),Va){y=0;do{if(Va=!1,Ha=0,25<=y)throw Error(t(301));y+=1,kt=yt=null,o.updateQueue=null,$u.current=oC,s=u(h,p)}while(Va)}if($u.current=Bu,o=yt!==null&&yt.next!==null,qs=0,kt=yt=st=null,Fu=!1,o)throw Error(t(300));return s}function Kh(){var s=Ha!==0;return Ha=0,s}function nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?st.memoizedState=kt=s:kt=kt.next=s,kt}function xn(){if(yt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=yt.next;var o=kt===null?st.memoizedState:kt.next;if(o!==null)kt=o,yt=s;else{if(s===null)throw Error(t(310));yt=s,s={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?st.memoizedState=kt=s:kt=kt.next=s}return kt}function qa(s,o){return typeof o=="function"?o(s):o}function Vh(s){var o=xn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=yt,p=h.baseQueue,y=u.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}h.baseQueue=p=y,u.pending=null}if(p!==null){y=p.next,h=h.baseState;var T=b=null,R=null,B=y;do{var G=B.lane;if((qs&G)===G)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:s(h,B.action);else{var Y={lane:G,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(T=R=Y,b=h):R=R.next=Y,st.lanes|=G,Js|=G}B=B.next}while(B!==null&&B!==y);R===null?b=h:R.next=T,Dn(h,o.memoizedState)||(Xt=!0),o.memoizedState=h,o.baseState=b,o.baseQueue=R,u.lastRenderedState=h}if(s=u.interleaved,s!==null){p=s;do y=p.lane,st.lanes|=y,Js|=y,p=p.next;while(p!==s)}else p===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Hh(s){var o=xn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,p=u.pending,y=o.memoizedState;if(p!==null){u.pending=null;var b=p=p.next;do y=s(y,b.action),b=b.next;while(b!==p);Dn(y,o.memoizedState)||(Xt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,h]}function cv(){}function dv(s,o){var u=st,h=xn(),p=o(),y=!Dn(h.memoizedState,p);if(y&&(h.memoizedState=p,Xt=!0),h=h.queue,qh(pv.bind(null,u,h,s),[s]),h.getSnapshot!==o||y||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Ja(9,fv.bind(null,u,h,p,o),void 0,null),Et===null)throw Error(t(349));(qs&30)!==0||hv(u,o,p)}return p}function hv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function fv(s,o,u,h){o.value=u,o.getSnapshot=h,gv(o)&&mv(s)}function pv(s,o,u){return u(function(){gv(o)&&mv(s)})}function gv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Dn(s,u)}catch{return!0}}function mv(s){var o=vr(s,1);o!==null&&Fn(o,s,1,-1)}function yv(s){var o=nr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:s},o.queue=s,s=s.dispatch=rC.bind(null,st,s),[o.memoizedState,s]}function Ja(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function vv(){return xn().memoizedState}function Uu(s,o,u,h){var p=nr();st.flags|=s,p.memoizedState=Ja(1|o,u,void 0,h===void 0?null:h)}function zu(s,o,u,h){var p=xn();h=h===void 0?null:h;var y=void 0;if(yt!==null){var b=yt.memoizedState;if(y=b.destroy,h!==null&&Bh(h,b.deps)){p.memoizedState=Ja(o,u,y,h);return}}st.flags|=s,p.memoizedState=Ja(1|o,u,y,h)}function _v(s,o){return Uu(8390656,8,s,o)}function qh(s,o){return zu(2048,8,s,o)}function wv(s,o){return zu(4,2,s,o)}function Sv(s,o){return zu(4,4,s,o)}function xv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function bv(s,o,u){return u=u!=null?u.concat([s]):null,zu(4,4,xv.bind(null,o,s),u)}function Jh(){}function kv(s,o){var u=xn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Bh(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function Ev(s,o){var u=xn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Bh(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function Cv(s,o,u){return(qs&21)===0?(s.baseState&&(s.baseState=!1,Xt=!0),s.memoizedState=u):(Dn(u,o)||(u=ny(),st.lanes|=u,Js|=u,s.baseState=!0),o)}function tC(s,o){var u=qe;qe=u!==0&&4>u?u:4,s(!0);var h=zh.transition;zh.transition={};try{s(!1),o()}finally{qe=u,zh.transition=h}}function Tv(){return xn().memoizedState}function nC(s,o,u){var h=as(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Nv(s))Ov(o,u);else if(u=iv(s,o,u,h),u!==null){var p=Vt();Fn(u,s,h,p),Pv(u,o,h)}}function rC(s,o,u){var h=as(s),p={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Nv(s))Ov(o,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var b=o.lastRenderedState,T=y(b,u);if(p.hasEagerState=!0,p.eagerState=T,Dn(T,b)){var R=o.interleaved;R===null?(p.next=p,jh(o)):(p.next=R.next,R.next=p),o.interleaved=p;return}}catch{}finally{}u=iv(s,o,p,h),u!==null&&(p=Vt(),Fn(u,s,h,p),Pv(u,o,h))}}function Nv(s){var o=s.alternate;return s===st||o!==null&&o===st}function Ov(s,o){Va=Fu=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Pv(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Qd(s,u)}}var Bu={readContext:Sn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},sC={readContext:Sn,useCallback:function(s,o){return nr().memoizedState=[s,o===void 0?null:o],s},useContext:Sn,useEffect:_v,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Uu(4194308,4,xv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Uu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Uu(4,2,s,o)},useMemo:function(s,o){var u=nr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=nr();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=nC.bind(null,st,s),[h.memoizedState,s]},useRef:function(s){var o=nr();return s={current:s},o.memoizedState=s},useState:yv,useDebugValue:Jh,useDeferredValue:function(s){return nr().memoizedState=s},useTransition:function(){var s=yv(!1),o=s[0];return s=tC.bind(null,s[1]),nr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=st,p=nr();if(tt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Et===null)throw Error(t(349));(qs&30)!==0||hv(h,o,u)}p.memoizedState=u;var y={value:u,getSnapshot:o};return p.queue=y,_v(pv.bind(null,h,y,s),[s]),h.flags|=2048,Ja(9,fv.bind(null,h,y,u,o),void 0,null),u},useId:function(){var s=nr(),o=Et.identifierPrefix;if(tt){var u=yr,h=mr;u=(h&~(1<<32-In(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ha++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=eC++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},iC={readContext:Sn,useCallback:kv,useContext:Sn,useEffect:qh,useImperativeHandle:bv,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:Ev,useReducer:Vh,useRef:vv,useState:function(){return Vh(qa)},useDebugValue:Jh,useDeferredValue:function(s){var o=xn();return Cv(o,yt.memoizedState,s)},useTransition:function(){var s=Vh(qa)[0],o=xn().memoizedState;return[s,o]},useMutableSource:cv,useSyncExternalStore:dv,useId:Tv,unstable_isNewReconciler:!1},oC={readContext:Sn,useCallback:kv,useContext:Sn,useEffect:qh,useImperativeHandle:bv,useInsertionEffect:wv,useLayoutEffect:Sv,useMemo:Ev,useReducer:Hh,useRef:vv,useState:function(){return Hh(qa)},useDebugValue:Jh,useDeferredValue:function(s){var o=xn();return yt===null?o.memoizedState=s:Cv(o,yt.memoizedState,s)},useTransition:function(){var s=Hh(qa)[0],o=xn().memoizedState;return[s,o]},useMutableSource:cv,useSyncExternalStore:dv,useId:Tv,unstable_isNewReconciler:!1};function Ln(s,o){if(s&&s.defaultProps){o=te({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Gh(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:te({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Wu={isMounted:function(s){return(s=s._reactInternals)?Us(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Vt(),p=as(s),y=_r(h,p);y.payload=o,u!=null&&(y.callback=u),o=rs(s,y,p),o!==null&&(Fn(o,s,p,h),ju(o,s,p))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Vt(),p=as(s),y=_r(h,p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=rs(s,y,p),o!==null&&(Fn(o,s,p,h),ju(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Vt(),h=as(s),p=_r(u,h);p.tag=2,o!=null&&(p.callback=o),o=rs(s,p,h),o!==null&&(Fn(o,s,h,u),ju(o,s,h))}};function Rv(s,o,u,h,p,y,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,b):o.prototype&&o.prototype.isPureReactComponent?!Da(u,h)||!Da(p,y):!0}function Av(s,o,u){var h=!1,p=es,y=o.contextType;return typeof y=="object"&&y!==null?y=Sn(y):(p=Yt(o)?Bs:Mt.current,h=o.contextTypes,y=(h=h!=null)?Zi(s,p):es),o=new o(u,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),o}function Iv(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Wu.enqueueReplaceState(o,o.state,null)}function Qh(s,o,u,h){var p=s.stateNode;p.props=u,p.state=s.memoizedState,p.refs={},Lh(s);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Sn(y):(y=Yt(o)?Bs:Mt.current,p.context=Zi(s,y)),p.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Gh(s,o,y,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Wu.enqueueReplaceState(p,p.state,null),Lu(s,u,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function ao(s,o){try{var u="",h=o;do u+=Pe(h),h=h.return;while(h);var p=u}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:p,digest:null}}function Yh(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Xh(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var aC=typeof WeakMap=="function"?WeakMap:Map;function Dv(s,o,u){u=_r(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Qu||(Qu=!0,pf=h),Xh(s,o)},u}function jv(s,o,u){u=_r(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;u.payload=function(){return h(p)},u.callback=function(){Xh(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Xh(s,o),typeof h!="function"&&(is===null?is=new Set([this]):is.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),u}function Lv(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new aC;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(u)||(p.add(u),s=SC.bind(null,s,o,u),o.then(s,s))}function Mv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function $v(s,o,u,h,p){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=_r(-1,1),o.tag=2,rs(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var lC=N.ReactCurrentOwner,Xt=!1;function Kt(s,o,u,h){o.child=s===null?sv(o,null,u,h):ro(o,s.child,u,h)}function Fv(s,o,u,h,p){u=u.render;var y=o.ref;return io(o,p),h=Wh(s,o,u,h,y,p),u=Kh(),s!==null&&!Xt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,wr(s,o,p)):(tt&&u&&Ch(o),o.flags|=1,Kt(s,o,h,p),o.child)}function Uv(s,o,u,h,p){if(s===null){var y=u.type;return typeof y=="function"&&!Sf(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,zv(s,o,y,h,p)):(s=nc(u.type,null,h,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&p)===0){var b=y.memoizedProps;if(u=u.compare,u=u!==null?u:Da,u(b,h)&&s.ref===o.ref)return wr(s,o,p)}return o.flags|=1,s=us(y,h),s.ref=o.ref,s.return=o,o.child=s}function zv(s,o,u,h,p){if(s!==null){var y=s.memoizedProps;if(Da(y,h)&&s.ref===o.ref)if(Xt=!1,o.pendingProps=h=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Xt=!0);else return o.lanes=s.lanes,wr(s,o,p)}return Zh(s,o,u,h,p)}function Bv(s,o,u){var h=o.pendingProps,p=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(uo,dn),dn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ye(uo,dn),dn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,Ye(uo,dn),dn|=h}else y!==null?(h=y.baseLanes|u,o.memoizedState=null):h=u,Ye(uo,dn),dn|=h;return Kt(s,o,p,u),o.child}function Wv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Zh(s,o,u,h,p){var y=Yt(u)?Bs:Mt.current;return y=Zi(o,y),io(o,p),u=Wh(s,o,u,h,y,p),h=Kh(),s!==null&&!Xt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,wr(s,o,p)):(tt&&h&&Ch(o),o.flags|=1,Kt(s,o,u,p),o.child)}function Kv(s,o,u,h,p){if(Yt(u)){var y=!0;Tu(o)}else y=!1;if(io(o,p),o.stateNode===null)Vu(s,o),Av(o,u,h),Qh(o,u,h,p),h=!0;else if(s===null){var b=o.stateNode,T=o.memoizedProps;b.props=T;var R=b.context,B=u.contextType;typeof B=="object"&&B!==null?B=Sn(B):(B=Yt(u)?Bs:Mt.current,B=Zi(o,B));var G=u.getDerivedStateFromProps,Y=typeof G=="function"||typeof b.getSnapshotBeforeUpdate=="function";Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==h||R!==B)&&Iv(o,b,h,B),ns=!1;var J=o.memoizedState;b.state=J,Lu(o,h,b,p),R=o.memoizedState,T!==h||J!==R||Qt.current||ns?(typeof G=="function"&&(Gh(o,u,G,h),R=o.memoizedState),(T=ns||Rv(o,u,T,h,J,R,B))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=R),b.props=h,b.state=R,b.context=B,h=T):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,ov(s,o),T=o.memoizedProps,B=o.type===o.elementType?T:Ln(o.type,T),b.props=B,Y=o.pendingProps,J=b.context,R=u.contextType,typeof R=="object"&&R!==null?R=Sn(R):(R=Yt(u)?Bs:Mt.current,R=Zi(o,R));var ie=u.getDerivedStateFromProps;(G=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==Y||J!==R)&&Iv(o,b,h,R),ns=!1,J=o.memoizedState,b.state=J,Lu(o,h,b,p);var le=o.memoizedState;T!==Y||J!==le||Qt.current||ns?(typeof ie=="function"&&(Gh(o,u,ie,h),le=o.memoizedState),(B=ns||Rv(o,u,B,h,J,le,R)||!1)?(G||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,le,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,le,R)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=le),b.props=h,b.state=le,b.context=R,h=B):(typeof b.componentDidUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),h=!1)}return ef(s,o,u,h,y,p)}function ef(s,o,u,h,p,y){Wv(s,o);var b=(o.flags&128)!==0;if(!h&&!b)return p&&Gy(o,u,!1),wr(s,o,y);h=o.stateNode,lC.current=o;var T=b&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&b?(o.child=ro(o,s.child,null,y),o.child=ro(o,null,T,y)):Kt(s,o,T,y),o.memoizedState=h.state,p&&Gy(o,u,!0),o.child}function Vv(s){var o=s.stateNode;o.pendingContext?qy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&qy(s,o.context,!1),Mh(s,o.containerInfo)}function Hv(s,o,u,h,p){return no(),Ph(p),o.flags|=256,Kt(s,o,u,h),o.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(s){return{baseLanes:s,cachePool:null,transitions:null}}function qv(s,o,u){var h=o.pendingProps,p=rt.current,y=!1,b=(o.flags&128)!==0,T;if((T=b)||(T=s!==null&&s.memoizedState===null?!1:(p&2)!==0),T?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Ye(rt,p&1),s===null)return Oh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(b=h.children,s=h.fallback,y?(h=o.mode,y=o.child,b={mode:"hidden",children:b},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=rc(b,h,0,null),s=Xs(s,h,u,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=nf(u),o.memoizedState=tf,s):rf(o,b));if(p=s.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return uC(s,o,b,h,T,p,u);if(y){y=h.fallback,b=o.mode,p=s.child,T=p.sibling;var R={mode:"hidden",children:h.children};return(b&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=R,o.deletions=null):(h=us(p,R),h.subtreeFlags=p.subtreeFlags&14680064),T!==null?y=us(T,y):(y=Xs(y,b,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,b=s.child.memoizedState,b=b===null?nf(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=s.childLanes&~u,o.memoizedState=tf,h}return y=s.child,s=y.sibling,h=us(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function rf(s,o){return o=rc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ku(s,o,u,h){return h!==null&&Ph(h),ro(o,s.child,null,u),s=rf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function uC(s,o,u,h,p,y,b){if(u)return o.flags&256?(o.flags&=-257,h=Yh(Error(t(422))),Ku(s,o,b,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,p=o.mode,h=rc({mode:"visible",children:h.children},p,0,null),y=Xs(y,p,b,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ro(o,s.child,null,b),o.child.memoizedState=nf(b),o.memoizedState=tf,y);if((o.mode&1)===0)return Ku(s,o,b,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var T=h.dgst;return h=T,y=Error(t(419)),h=Yh(y,h,void 0),Ku(s,o,b,h)}if(T=(b&s.childLanes)!==0,Xt||T){if(h=Et,h!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|b))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,vr(s,p),Fn(h,s,p,-1))}return wf(),h=Yh(Error(t(421))),Ku(s,o,b,h)}return p.data==="$?"?(o.flags|=128,o.child=s.child,o=xC.bind(null,s),p._reactRetry=o,null):(s=y.treeContext,cn=Xr(p.nextSibling),un=o,tt=!0,jn=null,s!==null&&(_n[wn++]=mr,_n[wn++]=yr,_n[wn++]=Ws,mr=s.id,yr=s.overflow,Ws=o),o=rf(o,h.children),o.flags|=4096,o)}function Jv(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Dh(s.return,o,u)}function sf(s,o,u,h,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=p)}function Gv(s,o,u){var h=o.pendingProps,p=h.revealOrder,y=h.tail;if(Kt(s,o,h.children,u),h=rt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Jv(s,u,o);else if(s.tag===19)Jv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ye(rt,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(u=o.child,p=null;u!==null;)s=u.alternate,s!==null&&Mu(s)===null&&(p=u),u=u.sibling;u=p,u===null?(p=o.child,o.child=null):(p=u.sibling,u.sibling=null),sf(o,!1,p,u,y);break;case"backwards":for(u=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&Mu(s)===null){o.child=p;break}s=p.sibling,p.sibling=u,u=p,p=s}sf(o,!0,u,null,y);break;case"together":sf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function wr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Js|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=us(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=us(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function cC(s,o,u){switch(o.tag){case 3:Vv(o),no();break;case 5:uv(o);break;case 1:Yt(o.type)&&Tu(o);break;case 4:Mh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;Ye(Iu,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ye(rt,rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?qv(s,o,u):(Ye(rt,rt.current&1),s=wr(s,o,u),s!==null?s.sibling:null);Ye(rt,rt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Gv(s,o,u);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(rt,rt.current),h)break;return null;case 22:case 23:return o.lanes=0,Bv(s,o,u)}return wr(s,o,u)}var Qv,of,Yv,Xv;Qv=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},of=function(){},Yv=function(s,o,u,h){var p=s.memoizedProps;if(p!==h){s=o.stateNode,Hs(tr.current);var y=null;switch(u){case"input":p=Dd(s,p),h=Dd(s,h),y=[];break;case"select":p=te({},p,{value:void 0}),h=te({},h,{value:void 0}),y=[];break;case"textarea":p=Md(s,p),h=Md(s,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=ku)}Fd(u,h);var b;u=null;for(B in p)if(!h.hasOwnProperty(B)&&p.hasOwnProperty(B)&&p[B]!=null)if(B==="style"){var T=p[B];for(b in T)T.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?y||(y=[]):(y=y||[]).push(B,null));for(B in h){var R=h[B];if(T=p!=null?p[B]:void 0,h.hasOwnProperty(B)&&R!==T&&(R!=null||T!=null))if(B==="style")if(T){for(b in T)!T.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in R)R.hasOwnProperty(b)&&T[b]!==R[b]&&(u||(u={}),u[b]=R[b])}else u||(y||(y=[]),y.push(B,u)),u=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(y=y||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(y=y||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(i.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&Ze("scroll",s),y||T===R||(y=[])):(y=y||[]).push(B,R))}u&&(y=y||[]).push("style",u);var B=y;(o.updateQueue=B)&&(o.flags|=4)}},Xv=function(s,o,u,h){u!==h&&(o.flags|=4)};function Ga(s,o){if(!tt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ft(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var p=s.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)u|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function dC(s,o,u){var h=o.pendingProps;switch(Th(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Yt(o.type)&&Cu(),Ft(o),null;case 3:return h=o.stateNode,oo(),et(Qt),et(Mt),Uh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ru(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,jn!==null&&(yf(jn),jn=null))),of(s,o),Ft(o),null;case 5:$h(o);var p=Hs(Ka.current);if(u=o.type,s!==null&&o.stateNode!=null)Yv(s,o,u,h,p),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Ft(o),null}if(s=Hs(tr.current),Ru(o)){h=o.stateNode,u=o.type;var y=o.memoizedProps;switch(h[er]=o,h[Fa]=y,s=(o.mode&1)!==0,u){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(p=0;p<La.length;p++)Ze(La[p],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":Am(h,y),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",h);break;case"textarea":jm(h,y),Ze("invalid",h)}Fd(u,y),p=null;for(var b in y)if(y.hasOwnProperty(b)){var T=y[b];b==="children"?typeof T=="string"?h.textContent!==T&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,T,s),p=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,T,s),p=["children",""+T]):i.hasOwnProperty(b)&&T!=null&&b==="onScroll"&&Ze("scroll",h)}switch(u){case"input":Vr(h),Dm(h,y,!0);break;case"textarea":Vr(h),Mm(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ku)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$m(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=b.createElement(u,{is:h.is}):(s=b.createElement(u),u==="select"&&(b=s,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):s=b.createElementNS(s,u),s[er]=o,s[Fa]=h,Qv(s,o,!1,!1),o.stateNode=s;e:{switch(b=Ud(u,h),u){case"dialog":Ze("cancel",s),Ze("close",s),p=h;break;case"iframe":case"object":case"embed":Ze("load",s),p=h;break;case"video":case"audio":for(p=0;p<La.length;p++)Ze(La[p],s);p=h;break;case"source":Ze("error",s),p=h;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),p=h;break;case"details":Ze("toggle",s),p=h;break;case"input":Am(s,h),p=Dd(s,h),Ze("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=te({},h,{value:void 0}),Ze("invalid",s);break;case"textarea":jm(s,h),p=Md(s,h),Ze("invalid",s);break;default:p=h}Fd(u,p),T=p;for(y in T)if(T.hasOwnProperty(y)){var R=T[y];y==="style"?zm(s,R):y==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Fm(s,R)):y==="children"?typeof R=="string"?(u!=="textarea"||R!=="")&&ya(s,R):typeof R=="number"&&ya(s,""+R):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?R!=null&&y==="onScroll"&&Ze("scroll",s):R!=null&&E(s,y,R,b))}switch(u){case"input":Vr(s),Dm(s,h,!1);break;case"textarea":Vr(s),Mm(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?zi(s,!!h.multiple,y,!1):h.defaultValue!=null&&zi(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=ku)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ft(o),null;case 6:if(s&&o.stateNode!=null)Xv(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Hs(Ka.current),Hs(tr.current),Ru(o)){if(h=o.stateNode,u=o.memoizedProps,h[er]=o,(y=h.nodeValue!==u)&&(s=un,s!==null))switch(s.tag){case 3:bu(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bu(h.nodeValue,u,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[er]=o,o.stateNode=h}return Ft(o),null;case 13:if(et(rt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(tt&&cn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)tv(),no(),o.flags|=98560,y=!1;else if(y=Ru(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[er]=o}else no(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),y=!1}else jn!==null&&(yf(jn),jn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?vt===0&&(vt=3):wf())),o.updateQueue!==null&&(o.flags|=4),Ft(o),null);case 4:return oo(),of(s,o),s===null&&Ma(o.stateNode.containerInfo),Ft(o),null;case 10:return Ih(o.type._context),Ft(o),null;case 17:return Yt(o.type)&&Cu(),Ft(o),null;case 19:if(et(rt),y=o.memoizedState,y===null)return Ft(o),null;if(h=(o.flags&128)!==0,b=y.rendering,b===null)if(h)Ga(y,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Mu(s),b!==null){for(o.flags|=128,Ga(y,!1),h=b.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)y=u,s=h,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,s=b.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Ye(rt,rt.current&1|2),o.child}s=s.sibling}y.tail!==null&&ct()>co&&(o.flags|=128,h=!0,Ga(y,!1),o.lanes=4194304)}else{if(!h)if(s=Mu(b),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ga(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!tt)return Ft(o),null}else 2*ct()-y.renderingStartTime>co&&u!==1073741824&&(o.flags|=128,h=!0,Ga(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(u=y.last,u!==null?u.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ct(),o.sibling=null,u=rt.current,Ye(rt,h?u&1|2:u&1),o):(Ft(o),null);case 22:case 23:return _f(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(dn&1073741824)!==0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function hC(s,o){switch(Th(o),o.tag){case 1:return Yt(o.type)&&Cu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return oo(),et(Qt),et(Mt),Uh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return $h(o),null;case 13:if(et(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));no()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(rt),null;case 4:return oo(),null;case 10:return Ih(o.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var Hu=!1,Ut=!1,fC=typeof WeakSet=="function"?WeakSet:Set,ae=null;function lo(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){ot(s,o,h)}else u.current=null}function af(s,o,u){try{u()}catch(h){ot(s,o,h)}}var Zv=!1;function pC(s,o){if(vh=hu,s=Ry(),ch(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var b=0,T=-1,R=-1,B=0,G=0,Y=s,J=null;t:for(;;){for(var ie;Y!==u||p!==0&&Y.nodeType!==3||(T=b+p),Y!==y||h!==0&&Y.nodeType!==3||(R=b+h),Y.nodeType===3&&(b+=Y.nodeValue.length),(ie=Y.firstChild)!==null;)J=Y,Y=ie;for(;;){if(Y===s)break t;if(J===u&&++B===p&&(T=b),J===y&&++G===h&&(R=b),(ie=Y.nextSibling)!==null)break;Y=J,J=Y.parentNode}Y=ie}u=T===-1||R===-1?null:{start:T,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(_h={focusedElem:s,selectionRange:u},hu=!1,ae=o;ae!==null;)if(o=ae,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ae=s;else for(;ae!==null;){o=ae;try{var le=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var he=le.memoizedProps,dt=le.memoizedState,$=o.stateNode,I=$.getSnapshotBeforeUpdate(o.elementType===o.type?he:Ln(o.type,he),dt);$.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var F=o.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ot(o,o.return,Z)}if(s=o.sibling,s!==null){s.return=o.return,ae=s;break}ae=o.return}return le=Zv,Zv=!1,le}function Qa(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&af(o,u,y)}p=p.next}while(p!==h)}}function qu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function lf(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function e_(s){var o=s.alternate;o!==null&&(s.alternate=null,e_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[er],delete o[Fa],delete o[bh],delete o[QE],delete o[YE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function t_(s){return s.tag===5||s.tag===3||s.tag===4}function n_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||t_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uf(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ku));else if(h!==4&&(s=s.child,s!==null))for(uf(s,o,u),s=s.sibling;s!==null;)uf(s,o,u),s=s.sibling}function cf(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(cf(s,o,u),s=s.sibling;s!==null;)cf(s,o,u),s=s.sibling}var At=null,Mn=!1;function ss(s,o,u){for(u=u.child;u!==null;)r_(s,o,u),u=u.sibling}function r_(s,o,u){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(ou,u)}catch{}switch(u.tag){case 5:Ut||lo(u,o);case 6:var h=At,p=Mn;At=null,ss(s,o,u),At=h,Mn=p,At!==null&&(Mn?(s=At,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):At.removeChild(u.stateNode));break;case 18:At!==null&&(Mn?(s=At,u=u.stateNode,s.nodeType===8?xh(s.parentNode,u):s.nodeType===1&&xh(s,u),Na(s)):xh(At,u.stateNode));break;case 4:h=At,p=Mn,At=u.stateNode.containerInfo,Mn=!0,ss(s,o,u),At=h,Mn=p;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&af(u,o,b),p=p.next}while(p!==h)}ss(s,o,u);break;case 1:if(!Ut&&(lo(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(T){ot(u,o,T)}ss(s,o,u);break;case 21:ss(s,o,u);break;case 22:u.mode&1?(Ut=(h=Ut)||u.memoizedState!==null,ss(s,o,u),Ut=h):ss(s,o,u);break;default:ss(s,o,u)}}function s_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new fC),o.forEach(function(h){var p=bC.bind(null,s,h);u.has(h)||(u.add(h),h.then(p,p))})}}function $n(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var p=u[h];try{var y=s,b=o,T=b;e:for(;T!==null;){switch(T.tag){case 5:At=T.stateNode,Mn=!1;break e;case 3:At=T.stateNode.containerInfo,Mn=!0;break e;case 4:At=T.stateNode.containerInfo,Mn=!0;break e}T=T.return}if(At===null)throw Error(t(160));r_(y,b,p),At=null,Mn=!1;var R=p.alternate;R!==null&&(R.return=null),p.return=null}catch(B){ot(p,o,B)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)i_(o,s),o=o.sibling}function i_(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if($n(o,s),rr(s),h&4){try{Qa(3,s,s.return),qu(3,s)}catch(he){ot(s,s.return,he)}try{Qa(5,s,s.return)}catch(he){ot(s,s.return,he)}}break;case 1:$n(o,s),rr(s),h&512&&u!==null&&lo(u,u.return);break;case 5:if($n(o,s),rr(s),h&512&&u!==null&&lo(u,u.return),s.flags&32){var p=s.stateNode;try{ya(p,"")}catch(he){ot(s,s.return,he)}}if(h&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,b=u!==null?u.memoizedProps:y,T=s.type,R=s.updateQueue;if(s.updateQueue=null,R!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&Im(p,y),Ud(T,b);var B=Ud(T,y);for(b=0;b<R.length;b+=2){var G=R[b],Y=R[b+1];G==="style"?zm(p,Y):G==="dangerouslySetInnerHTML"?Fm(p,Y):G==="children"?ya(p,Y):E(p,G,Y,B)}switch(T){case"input":jd(p,y);break;case"textarea":Lm(p,y);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ie=y.value;ie!=null?zi(p,!!y.multiple,ie,!1):J!==!!y.multiple&&(y.defaultValue!=null?zi(p,!!y.multiple,y.defaultValue,!0):zi(p,!!y.multiple,y.multiple?[]:"",!1))}p[Fa]=y}catch(he){ot(s,s.return,he)}}break;case 6:if($n(o,s),rr(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(he){ot(s,s.return,he)}}break;case 3:if($n(o,s),rr(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Na(o.containerInfo)}catch(he){ot(s,s.return,he)}break;case 4:$n(o,s),rr(s);break;case 13:$n(o,s),rr(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(ff=ct())),h&4&&s_(s);break;case 22:if(G=u!==null&&u.memoizedState!==null,s.mode&1?(Ut=(B=Ut)||G,$n(o,s),Ut=B):$n(o,s),rr(s),h&8192){if(B=s.memoizedState!==null,(s.stateNode.isHidden=B)&&!G&&(s.mode&1)!==0)for(ae=s,G=s.child;G!==null;){for(Y=ae=G;ae!==null;){switch(J=ae,ie=J.child,J.tag){case 0:case 11:case 14:case 15:Qa(4,J,J.return);break;case 1:lo(J,J.return);var le=J.stateNode;if(typeof le.componentWillUnmount=="function"){h=J,u=J.return;try{o=h,le.props=o.memoizedProps,le.state=o.memoizedState,le.componentWillUnmount()}catch(he){ot(h,u,he)}}break;case 5:lo(J,J.return);break;case 22:if(J.memoizedState!==null){l_(Y);continue}}ie!==null?(ie.return=J,ae=ie):l_(Y)}G=G.sibling}e:for(G=null,Y=s;;){if(Y.tag===5){if(G===null){G=Y;try{p=Y.stateNode,B?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=Y.stateNode,R=Y.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Um("display",b))}catch(he){ot(s,s.return,he)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(he){ot(s,s.return,he)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===s)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===s)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===s)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:$n(o,s),rr(s),h&4&&s_(s);break;case 21:break;default:$n(o,s),rr(s)}}function rr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(t_(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ya(p,""),h.flags&=-33);var y=n_(s);cf(s,y,p);break;case 3:case 4:var b=h.stateNode.containerInfo,T=n_(s);uf(s,T,b);break;default:throw Error(t(161))}}catch(R){ot(s,s.return,R)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gC(s,o,u){ae=s,o_(s)}function o_(s,o,u){for(var h=(s.mode&1)!==0;ae!==null;){var p=ae,y=p.child;if(p.tag===22&&h){var b=p.memoizedState!==null||Hu;if(!b){var T=p.alternate,R=T!==null&&T.memoizedState!==null||Ut;T=Hu;var B=Ut;if(Hu=b,(Ut=R)&&!B)for(ae=p;ae!==null;)b=ae,R=b.child,b.tag===22&&b.memoizedState!==null?u_(p):R!==null?(R.return=b,ae=R):u_(p);for(;y!==null;)ae=y,o_(y),y=y.sibling;ae=p,Hu=T,Ut=B}a_(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ae=y):a_(s)}}function a_(s){for(;ae!==null;){var o=ae;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ut||qu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ut)if(u===null)h.componentDidMount();else{var p=o.elementType===o.type?u.memoizedProps:Ln(o.type,u.memoizedProps);h.componentDidUpdate(p,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&lv(o,y,h);break;case 3:var b=o.updateQueue;if(b!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}lv(o,b,u)}break;case 5:var T=o.stateNode;if(u===null&&o.flags&4){u=T;var R=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&u.focus();break;case"img":R.src&&(u.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var B=o.alternate;if(B!==null){var G=B.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&Na(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||o.flags&512&&lf(o)}catch(J){ot(o,o.return,J)}}if(o===s){ae=null;break}if(u=o.sibling,u!==null){u.return=o.return,ae=u;break}ae=o.return}}function l_(s){for(;ae!==null;){var o=ae;if(o===s){ae=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ae=u;break}ae=o.return}}function u_(s){for(;ae!==null;){var o=ae;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{qu(4,o)}catch(R){ot(o,u,R)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(R){ot(o,p,R)}}var y=o.return;try{lf(o)}catch(R){ot(o,y,R)}break;case 5:var b=o.return;try{lf(o)}catch(R){ot(o,b,R)}}}catch(R){ot(o,o.return,R)}if(o===s){ae=null;break}var T=o.sibling;if(T!==null){T.return=o.return,ae=T;break}ae=o.return}}var mC=Math.ceil,Ju=N.ReactCurrentDispatcher,df=N.ReactCurrentOwner,bn=N.ReactCurrentBatchConfig,Be=0,Et=null,pt=null,It=0,dn=0,uo=Zr(0),vt=0,Ya=null,Js=0,Gu=0,hf=0,Xa=null,Zt=null,ff=0,co=1/0,Sr=null,Qu=!1,pf=null,is=null,Yu=!1,os=null,Xu=0,Za=0,gf=null,Zu=-1,ec=0;function Vt(){return(Be&6)!==0?ct():Zu!==-1?Zu:Zu=ct()}function as(s){return(s.mode&1)===0?1:(Be&2)!==0&&It!==0?It&-It:ZE.transition!==null?(ec===0&&(ec=ny()),ec):(s=qe,s!==0||(s=window.event,s=s===void 0?16:dy(s.type)),s)}function Fn(s,o,u,h){if(50<Za)throw Za=0,gf=null,Error(t(185));ba(s,u,h),((Be&2)===0||s!==Et)&&(s===Et&&((Be&2)===0&&(Gu|=u),vt===4&&ls(s,It)),en(s,h),u===1&&Be===0&&(o.mode&1)===0&&(co=ct()+500,Nu&&ts()))}function en(s,o){var u=s.callbackNode;Zk(s,o);var h=uu(s,s===Et?It:0);if(h===0)u!==null&&Zm(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Zm(u),o===1)s.tag===0?XE(d_.bind(null,s)):Qy(d_.bind(null,s)),JE(function(){(Be&6)===0&&ts()}),u=null;else{switch(ry(h)){case 1:u=qd;break;case 4:u=ey;break;case 16:u=iu;break;case 536870912:u=ty;break;default:u=iu}u=__(u,c_.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function c_(s,o){if(Zu=-1,ec=0,(Be&6)!==0)throw Error(t(327));var u=s.callbackNode;if(ho()&&s.callbackNode!==u)return null;var h=uu(s,s===Et?It:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=tc(s,h);else{o=h;var p=Be;Be|=2;var y=f_();(Et!==s||It!==o)&&(Sr=null,co=ct()+500,Qs(s,o));do try{_C();break}catch(T){h_(s,T)}while(!0);Ah(),Ju.current=y,Be=p,pt!==null?o=0:(Et=null,It=0,o=vt)}if(o!==0){if(o===2&&(p=Jd(s),p!==0&&(h=p,o=mf(s,p))),o===1)throw u=Ya,Qs(s,0),ls(s,h),en(s,ct()),u;if(o===6)ls(s,h);else{if(p=s.current.alternate,(h&30)===0&&!yC(p)&&(o=tc(s,h),o===2&&(y=Jd(s),y!==0&&(h=y,o=mf(s,y))),o===1))throw u=Ya,Qs(s,0),ls(s,h),en(s,ct()),u;switch(s.finishedWork=p,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ys(s,Zt,Sr);break;case 3:if(ls(s,h),(h&130023424)===h&&(o=ff+500-ct(),10<o)){if(uu(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){Vt(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Sh(Ys.bind(null,s,Zt,Sr),o);break}Ys(s,Zt,Sr);break;case 4:if(ls(s,h),(h&4194240)===h)break;for(o=s.eventTimes,p=-1;0<h;){var b=31-In(h);y=1<<b,b=o[b],b>p&&(p=b),h&=~y}if(h=p,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*mC(h/1960))-h,10<h){s.timeoutHandle=Sh(Ys.bind(null,s,Zt,Sr),h);break}Ys(s,Zt,Sr);break;case 5:Ys(s,Zt,Sr);break;default:throw Error(t(329))}}}return en(s,ct()),s.callbackNode===u?c_.bind(null,s):null}function mf(s,o){var u=Xa;return s.current.memoizedState.isDehydrated&&(Qs(s,o).flags|=256),s=tc(s,o),s!==2&&(o=Zt,Zt=u,o!==null&&yf(o)),s}function yf(s){Zt===null?Zt=s:Zt.push.apply(Zt,s)}function yC(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var p=u[h],y=p.getSnapshot;p=p.value;try{if(!Dn(y(),p))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ls(s,o){for(o&=~hf,o&=~Gu,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-In(o),h=1<<u;s[u]=-1,o&=~h}}function d_(s){if((Be&6)!==0)throw Error(t(327));ho();var o=uu(s,0);if((o&1)===0)return en(s,ct()),null;var u=tc(s,o);if(s.tag!==0&&u===2){var h=Jd(s);h!==0&&(o=h,u=mf(s,h))}if(u===1)throw u=Ya,Qs(s,0),ls(s,o),en(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ys(s,Zt,Sr),en(s,ct()),null}function vf(s,o){var u=Be;Be|=1;try{return s(o)}finally{Be=u,Be===0&&(co=ct()+500,Nu&&ts())}}function Gs(s){os!==null&&os.tag===0&&(Be&6)===0&&ho();var o=Be;Be|=1;var u=bn.transition,h=qe;try{if(bn.transition=null,qe=1,s)return s()}finally{qe=h,bn.transition=u,Be=o,(Be&6)===0&&ts()}}function _f(){dn=uo.current,et(uo)}function Qs(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,qE(u)),pt!==null)for(u=pt.return;u!==null;){var h=u;switch(Th(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Cu();break;case 3:oo(),et(Qt),et(Mt),Uh();break;case 5:$h(h);break;case 4:oo();break;case 13:et(rt);break;case 19:et(rt);break;case 10:Ih(h.type._context);break;case 22:case 23:_f()}u=u.return}if(Et=s,pt=s=us(s.current,null),It=dn=o,vt=0,Ya=null,hf=Gu=Js=0,Zt=Xa=null,Vs!==null){for(o=0;o<Vs.length;o++)if(u=Vs[o],h=u.interleaved,h!==null){u.interleaved=null;var p=h.next,y=u.pending;if(y!==null){var b=y.next;y.next=p,h.next=b}u.pending=h}Vs=null}return s}function h_(s,o){do{var u=pt;try{if(Ah(),$u.current=Bu,Fu){for(var h=st.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Fu=!1}if(qs=0,kt=yt=st=null,Va=!1,Ha=0,df.current=null,u===null||u.return===null){vt=1,Ya=o,pt=null;break}e:{var y=s,b=u.return,T=u,R=o;if(o=It,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,G=T,Y=G.tag;if((G.mode&1)===0&&(Y===0||Y===11||Y===15)){var J=G.alternate;J?(G.updateQueue=J.updateQueue,G.memoizedState=J.memoizedState,G.lanes=J.lanes):(G.updateQueue=null,G.memoizedState=null)}var ie=Mv(b);if(ie!==null){ie.flags&=-257,$v(ie,b,T,y,o),ie.mode&1&&Lv(y,B,o),o=ie,R=B;var le=o.updateQueue;if(le===null){var he=new Set;he.add(R),o.updateQueue=he}else le.add(R);break e}else{if((o&1)===0){Lv(y,B,o),wf();break e}R=Error(t(426))}}else if(tt&&T.mode&1){var dt=Mv(b);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),$v(dt,b,T,y,o),Ph(ao(R,T));break e}}y=R=ao(R,T),vt!==4&&(vt=2),Xa===null?Xa=[y]:Xa.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var $=Dv(y,R,o);av(y,$);break e;case 1:T=R;var I=y.type,F=y.stateNode;if((y.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(is===null||!is.has(F)))){y.flags|=65536,o&=-o,y.lanes|=o;var Z=jv(y,T,o);av(y,Z);break e}}y=y.return}while(y!==null)}g_(u)}catch(pe){o=pe,pt===u&&u!==null&&(pt=u=u.return);continue}break}while(!0)}function f_(){var s=Ju.current;return Ju.current=Bu,s===null?Bu:s}function wf(){(vt===0||vt===3||vt===2)&&(vt=4),Et===null||(Js&268435455)===0&&(Gu&268435455)===0||ls(Et,It)}function tc(s,o){var u=Be;Be|=2;var h=f_();(Et!==s||It!==o)&&(Sr=null,Qs(s,o));do try{vC();break}catch(p){h_(s,p)}while(!0);if(Ah(),Be=u,Ju.current=h,pt!==null)throw Error(t(261));return Et=null,It=0,vt}function vC(){for(;pt!==null;)p_(pt)}function _C(){for(;pt!==null&&!Kk();)p_(pt)}function p_(s){var o=v_(s.alternate,s,dn);s.memoizedProps=s.pendingProps,o===null?g_(s):pt=o,df.current=null}function g_(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=dC(u,o,dn),u!==null){pt=u;return}}else{if(u=hC(u,o),u!==null){u.flags&=32767,pt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{vt=6,pt=null;return}}if(o=o.sibling,o!==null){pt=o;return}pt=o=s}while(o!==null);vt===0&&(vt=5)}function Ys(s,o,u){var h=qe,p=bn.transition;try{bn.transition=null,qe=1,wC(s,o,u,h)}finally{bn.transition=p,qe=h}return null}function wC(s,o,u,h){do ho();while(os!==null);if((Be&6)!==0)throw Error(t(327));u=s.finishedWork;var p=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(eE(s,y),s===Et&&(pt=Et=null,It=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Yu||(Yu=!0,__(iu,function(){return ho(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=bn.transition,bn.transition=null;var b=qe;qe=1;var T=Be;Be|=4,df.current=null,pC(s,u),i_(u,s),UE(_h),hu=!!vh,_h=vh=null,s.current=u,gC(u),Vk(),Be=T,qe=b,bn.transition=y}else s.current=u;if(Yu&&(Yu=!1,os=s,Xu=p),y=s.pendingLanes,y===0&&(is=null),Jk(u.stateNode),en(s,ct()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)p=o[u],h(p.value,{componentStack:p.stack,digest:p.digest});if(Qu)throw Qu=!1,s=pf,pf=null,s;return(Xu&1)!==0&&s.tag!==0&&ho(),y=s.pendingLanes,(y&1)!==0?s===gf?Za++:(Za=0,gf=s):Za=0,ts(),null}function ho(){if(os!==null){var s=ry(Xu),o=bn.transition,u=qe;try{if(bn.transition=null,qe=16>s?16:s,os===null)var h=!1;else{if(s=os,os=null,Xu=0,(Be&6)!==0)throw Error(t(331));var p=Be;for(Be|=4,ae=s.current;ae!==null;){var y=ae,b=y.child;if((ae.flags&16)!==0){var T=y.deletions;if(T!==null){for(var R=0;R<T.length;R++){var B=T[R];for(ae=B;ae!==null;){var G=ae;switch(G.tag){case 0:case 11:case 15:Qa(8,G,y)}var Y=G.child;if(Y!==null)Y.return=G,ae=Y;else for(;ae!==null;){G=ae;var J=G.sibling,ie=G.return;if(e_(G),G===B){ae=null;break}if(J!==null){J.return=ie,ae=J;break}ae=ie}}}var le=y.alternate;if(le!==null){var he=le.child;if(he!==null){le.child=null;do{var dt=he.sibling;he.sibling=null,he=dt}while(he!==null)}}ae=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,ae=b;else e:for(;ae!==null;){if(y=ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Qa(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,ae=$;break e}ae=y.return}}var I=s.current;for(ae=I;ae!==null;){b=ae;var F=b.child;if((b.subtreeFlags&2064)!==0&&F!==null)F.return=b,ae=F;else e:for(b=I;ae!==null;){if(T=ae,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:qu(9,T)}}catch(pe){ot(T,T.return,pe)}if(T===b){ae=null;break e}var Z=T.sibling;if(Z!==null){Z.return=T.return,ae=Z;break e}ae=T.return}}if(Be=p,ts(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(ou,s)}catch{}h=!0}return h}finally{qe=u,bn.transition=o}}return!1}function m_(s,o,u){o=ao(u,o),o=Dv(s,o,1),s=rs(s,o,1),o=Vt(),s!==null&&(ba(s,1,o),en(s,o))}function ot(s,o,u){if(s.tag===3)m_(s,s,u);else for(;o!==null;){if(o.tag===3){m_(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(is===null||!is.has(h))){s=ao(u,s),s=jv(o,s,1),o=rs(o,s,1),s=Vt(),o!==null&&(ba(o,1,s),en(o,s));break}}o=o.return}}function SC(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Vt(),s.pingedLanes|=s.suspendedLanes&u,Et===s&&(It&u)===u&&(vt===4||vt===3&&(It&130023424)===It&&500>ct()-ff?Qs(s,0):hf|=u),en(s,o)}function y_(s,o){o===0&&((s.mode&1)===0?o=1:(o=lu,lu<<=1,(lu&130023424)===0&&(lu=4194304)));var u=Vt();s=vr(s,o),s!==null&&(ba(s,o,u),en(s,u))}function xC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),y_(s,u)}function bC(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(u=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),y_(s,u)}var v_;v_=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Qt.current)Xt=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Xt=!1,cC(s,o,u);Xt=(s.flags&131072)!==0}else Xt=!1,tt&&(o.flags&1048576)!==0&&Yy(o,Pu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Vu(s,o),s=o.pendingProps;var p=Zi(o,Mt.current);io(o,u),p=Wh(null,o,h,s,p,u);var y=Kh();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Yt(h)?(y=!0,Tu(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Lh(o),p.updater=Wu,o.stateNode=p,p._reactInternals=o,Qh(o,h,s,u),o=ef(null,o,h,!0,y,u)):(o.tag=0,tt&&y&&Ch(o),Kt(null,o,p,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Vu(s,o),s=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=EC(h),s=Ln(h,s),p){case 0:o=Zh(null,o,h,s,u);break e;case 1:o=Kv(null,o,h,s,u);break e;case 11:o=Fv(null,o,h,s,u);break e;case 14:o=Uv(null,o,h,Ln(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Ln(h,p),Zh(s,o,h,p,u);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Ln(h,p),Kv(s,o,h,p,u);case 3:e:{if(Vv(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,p=y.element,ov(s,o),Lu(o,h,null,u);var b=o.memoizedState;if(h=b.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=ao(Error(t(423)),o),o=Hv(s,o,h,u,p);break e}else if(h!==p){p=ao(Error(t(424)),o),o=Hv(s,o,h,u,p);break e}else for(cn=Xr(o.stateNode.containerInfo.firstChild),un=o,tt=!0,jn=null,u=sv(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(no(),h===p){o=wr(s,o,u);break e}Kt(s,o,h,u)}o=o.child}return o;case 5:return uv(o),s===null&&Oh(o),h=o.type,p=o.pendingProps,y=s!==null?s.memoizedProps:null,b=p.children,wh(h,p)?b=null:y!==null&&wh(h,y)&&(o.flags|=32),Wv(s,o),Kt(s,o,b,u),o.child;case 6:return s===null&&Oh(o),null;case 13:return qv(s,o,u);case 4:return Mh(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=ro(o,null,h,u):Kt(s,o,h,u),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Ln(h,p),Fv(s,o,h,p,u);case 7:return Kt(s,o,o.pendingProps,u),o.child;case 8:return Kt(s,o,o.pendingProps.children,u),o.child;case 12:return Kt(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,y=o.memoizedProps,b=p.value,Ye(Iu,h._currentValue),h._currentValue=b,y!==null)if(Dn(y.value,b)){if(y.children===p.children&&!Qt.current){o=wr(s,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var T=y.dependencies;if(T!==null){b=y.child;for(var R=T.firstContext;R!==null;){if(R.context===h){if(y.tag===1){R=_r(-1,u&-u),R.tag=2;var B=y.updateQueue;if(B!==null){B=B.shared;var G=B.pending;G===null?R.next=R:(R.next=G.next,G.next=R),B.pending=R}}y.lanes|=u,R=y.alternate,R!==null&&(R.lanes|=u),Dh(y.return,u,o),T.lanes|=u;break}R=R.next}}else if(y.tag===10)b=y.type===o.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(t(341));b.lanes|=u,T=b.alternate,T!==null&&(T.lanes|=u),Dh(b,u,o),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===o){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}Kt(s,o,p.children,u),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,io(o,u),p=Sn(p),h=h(p),o.flags|=1,Kt(s,o,h,u),o.child;case 14:return h=o.type,p=Ln(h,o.pendingProps),p=Ln(h.type,p),Uv(s,o,h,p,u);case 15:return zv(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Ln(h,p),Vu(s,o),o.tag=1,Yt(h)?(s=!0,Tu(o)):s=!1,io(o,u),Av(o,h,p),Qh(o,h,p,u),ef(null,o,h,!0,s,u);case 19:return Gv(s,o,u);case 22:return Bv(s,o,u)}throw Error(t(156,o.tag))};function __(s,o){return Xm(s,o)}function kC(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,o,u,h){return new kC(s,o,u,h)}function Sf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function EC(s){if(typeof s=="function")return Sf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===we)return 11;if(s===Ie)return 14}return 2}function us(s,o){var u=s.alternate;return u===null?(u=kn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function nc(s,o,u,h,p,y){var b=2;if(h=s,typeof s=="function")Sf(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case U:return Xs(u.children,p,y,o);case j:b=8,p|=8;break;case z:return s=kn(12,u,o,p|2),s.elementType=z,s.lanes=y,s;case fe:return s=kn(13,u,o,p),s.elementType=fe,s.lanes=y,s;case Te:return s=kn(19,u,o,p),s.elementType=Te,s.lanes=y,s;case Ne:return rc(u,p,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:b=10;break e;case re:b=9;break e;case we:b=11;break e;case Ie:b=14;break e;case Re:b=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=kn(b,u,o,p),o.elementType=s,o.type=h,o.lanes=y,o}function Xs(s,o,u,h){return s=kn(7,s,h,o),s.lanes=u,s}function rc(s,o,u,h){return s=kn(22,s,h,o),s.elementType=Ne,s.lanes=u,s.stateNode={isHidden:!1},s}function xf(s,o,u){return s=kn(6,s,null,o),s.lanes=u,s}function bf(s,o,u){return o=kn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function CC(s,o,u,h,p){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function kf(s,o,u,h,p,y,b,T,R){return s=new CC(s,o,u,T,R),o===1?(o=1,y===!0&&(o|=8)):o=0,y=kn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(y),s}function TC(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function w_(s){if(!s)return es;s=s._reactInternals;e:{if(Us(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Yt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Yt(u))return Jy(s,u,o)}return o}function S_(s,o,u,h,p,y,b,T,R){return s=kf(u,h,!0,s,p,y,b,T,R),s.context=w_(null),u=s.current,h=Vt(),p=as(u),y=_r(h,p),y.callback=o??null,rs(u,y,p),s.current.lanes=p,ba(s,p,h),en(s,h),s}function sc(s,o,u,h){var p=o.current,y=Vt(),b=as(p);return u=w_(u),o.context===null?o.context=u:o.pendingContext=u,o=_r(y,b),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=rs(p,o,b),s!==null&&(Fn(s,p,b,y),ju(s,p,b)),b}function ic(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function x_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Ef(s,o){x_(s,o),(s=s.alternate)&&x_(s,o)}function NC(){return null}var b_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cf(s){this._internalRoot=s}oc.prototype.render=Cf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));sc(s,o,null,null)},oc.prototype.unmount=Cf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Gs(function(){sc(null,s,null,null)}),o[pr]=null}};function oc(s){this._internalRoot=s}oc.prototype.unstable_scheduleHydration=function(s){if(s){var o=oy();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Gr.length&&o!==0&&o<Gr[u].priority;u++);Gr.splice(u,0,s),u===0&&uy(s)}};function Tf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ac(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function k_(){}function OC(s,o,u,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var B=ic(b);y.call(B)}}var b=S_(o,h,s,0,null,!1,!1,"",k_);return s._reactRootContainer=b,s[pr]=b.current,Ma(s.nodeType===8?s.parentNode:s),Gs(),b}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var T=h;h=function(){var B=ic(R);T.call(B)}}var R=kf(s,0,!1,null,null,!1,!1,"",k_);return s._reactRootContainer=R,s[pr]=R.current,Ma(s.nodeType===8?s.parentNode:s),Gs(function(){sc(o,R,u,h)}),R}function lc(s,o,u,h,p){var y=u._reactRootContainer;if(y){var b=y;if(typeof p=="function"){var T=p;p=function(){var R=ic(b);T.call(R)}}sc(o,b,s,p)}else b=OC(u,o,s,p,h);return ic(b)}sy=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=xa(o.pendingLanes);u!==0&&(Qd(o,u|1),en(o,ct()),(Be&6)===0&&(co=ct()+500,ts()))}break;case 13:Gs(function(){var h=vr(s,1);if(h!==null){var p=Vt();Fn(h,s,1,p)}}),Ef(s,1)}},Yd=function(s){if(s.tag===13){var o=vr(s,134217728);if(o!==null){var u=Vt();Fn(o,s,134217728,u)}Ef(s,134217728)}},iy=function(s){if(s.tag===13){var o=as(s),u=vr(s,o);if(u!==null){var h=Vt();Fn(u,s,o,h)}Ef(s,o)}},oy=function(){return qe},ay=function(s,o){var u=qe;try{return qe=s,o()}finally{qe=u}},Wd=function(s,o,u){switch(o){case"input":if(jd(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var p=Eu(h);if(!p)throw Error(t(90));Fs(h),jd(h,p)}}}break;case"textarea":Lm(s,u);break;case"select":o=u.value,o!=null&&zi(s,!!u.multiple,o,!1)}},Vm=vf,Hm=Gs;var PC={usingClientEntryPoint:!1,Events:[Ua,Yi,Eu,Wm,Km,vf]},el={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RC={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qm(s),s===null?null:s.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||NC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{ou=uc.inject(RC),Zn=uc}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC,tn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(o))throw Error(t(200));return TC(s,o,null,u)},tn.createRoot=function(s,o){if(!Tf(s))throw Error(t(299));var u=!1,h="",p=b_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=kf(s,1,!1,null,null,u,!1,h,p),s[pr]=o.current,Ma(s.nodeType===8?s.parentNode:s),new Cf(o)},tn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Qm(o),s=s===null?null:s.stateNode,s},tn.flushSync=function(s){return Gs(s)},tn.hydrate=function(s,o,u){if(!ac(o))throw Error(t(200));return lc(null,s,o,!0,u)},tn.hydrateRoot=function(s,o,u){if(!Tf(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,p=!1,y="",b=b_;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),o=S_(o,null,s,1,u??null,p,!1,y,b),s[pr]=o.current,Ma(s),h)for(s=0;s<h.length;s++)u=h[s],p=u._getVersion,p=p(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,p]:o.mutableSourceEagerHydrationData.push(u,p);return new oc(o)},tn.render=function(s,o,u){if(!ac(o))throw Error(t(200));return lc(null,s,o,!1,u)},tn.unmountComponentAtNode=function(s){if(!ac(s))throw Error(t(40));return s._reactRootContainer?(Gs(function(){lc(null,null,s,!1,function(){s._reactRootContainer=null,s[pr]=null})}),!0):!1},tn.unstable_batchedUpdates=vf,tn.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!ac(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return lc(s,o,u,!1,h)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var I_;function wS(){if(I_)return Rf.exports;I_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rf.exports=BC(),Rf.exports}var D_;function WC(){if(D_)return dc;D_=1;var n=wS();return dc.createRoot=n.createRoot,dc.hydrateRoot=n.hydrateRoot,dc}var KC=WC();const VC=vS(KC);var ta=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HC={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},ms,bg,aS,qC=(aS=class{constructor(){ve(this,ms,HC);ve(this,bg,!1)}setTimeoutProvider(n){ne(this,ms,n)}setTimeout(n,e){return P(this,ms).setTimeout(n,e)}clearTimeout(n){P(this,ms).clearTimeout(n)}setInterval(n,e){return P(this,ms).setInterval(n,e)}clearInterval(n){P(this,ms).clearInterval(n)}},ms=new WeakMap,bg=new WeakMap,aS),li=new qC;function JC(n){setTimeout(n,0)}var ki=typeof window>"u"||"Deno"in globalThis;function Gt(){}function GC(n,e){return typeof n=="function"?n(e):n}function gp(n){return typeof n=="number"&&n>=0&&n!==1/0}function SS(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ns(n,e){return typeof n=="function"?n(e):n}function Tn(n,e){return typeof n=="function"?n(e):n}function j_(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:c}=n;if(l){if(r){if(e.queryHash!==Eg(l,e.options))return!1}else if(!wl(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function L_(n,e){const{exact:t,status:r,predicate:i,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Ei(e.options.mutationKey)!==Ei(a))return!1}else if(!wl(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Eg(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ei)(n)}function Ei(n){return JSON.stringify(n,(e,t)=>mp(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function wl(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>wl(n[t],e[t])):!1}var QC=Object.prototype.hasOwnProperty;function xS(n,e){if(n===e)return n;const t=M_(n)&&M_(e);if(!t&&!(mp(n)&&mp(e)))return e;const i=(t?n:Object.keys(n)).length,a=t?e:Object.keys(e),l=a.length,c=t?new Array(l):{};let d=0;for(let f=0;f<l;f++){const g=t?f:a[f],m=n[g],v=e[g];if(m===v){c[g]=m,(t?f<i:QC.call(n,g))&&d++;continue}if(m===null||v===null||typeof m!="object"||typeof v!="object"){c[g]=v;continue}const _=xS(m,v);c[g]=_,_===m&&d++}return i===l&&d===i?n:c}function Bc(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function M_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function mp(n){if(!$_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!$_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function $_(n){return Object.prototype.toString.call(n)==="[object Object]"}function YC(n){return new Promise(e=>{li.setTimeout(e,n)})}function yp(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?xS(n,e):e}function XC(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function ZC(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Cg=Symbol();function bS(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Cg?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function kS(n,e){return typeof n=="function"?n(...e):!!n}var di,ys,Uo,lS,e1=(lS=class extends ta{constructor(){super();ve(this,di);ve(this,ys);ve(this,Uo);ne(this,Uo,e=>{if(!ki&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){P(this,ys)||this.setEventListener(P(this,Uo))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,ys))==null||e.call(this),ne(this,ys,void 0))}setEventListener(e){var t;ne(this,Uo,e),(t=P(this,ys))==null||t.call(this),ne(this,ys,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,di)!==e&&(ne(this,di,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof P(this,di)=="boolean"?P(this,di):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},di=new WeakMap,ys=new WeakMap,Uo=new WeakMap,lS),Tg=new e1;function vp(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var t1=JC;function n1(){let n=[],e=0,t=c=>{c()},r=c=>{c()},i=t1;const a=c=>{e?n.push(c):i(()=>{t(c)})},l=()=>{const c=n;n=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var St=n1(),zo,vs,Bo,uS,r1=(uS=class extends ta{constructor(){super();ve(this,zo,!0);ve(this,vs);ve(this,Bo);ne(this,Bo,e=>{if(!ki&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,vs)||this.setEventListener(P(this,Bo))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,vs))==null||e.call(this),ne(this,vs,void 0))}setEventListener(e){var t;ne(this,Bo,e),(t=P(this,vs))==null||t.call(this),ne(this,vs,e(this.setOnline.bind(this)))}setOnline(e){P(this,zo)!==e&&(ne(this,zo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,zo)}},zo=new WeakMap,vs=new WeakMap,Bo=new WeakMap,uS),Wc=new r1;function s1(n){return Math.min(1e3*2**n,3e4)}function ES(n){return(n??"online")==="online"?Wc.isOnline():!0}var _p=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function CS(n){let e=!1,t=0,r;const i=vp(),a=()=>i.status!=="pending",l=S=>{var x;if(!a()){const k=new _p(S);v(k),(x=n.onCancel)==null||x.call(n,k)}},c=()=>{e=!0},d=()=>{e=!1},f=()=>Tg.isFocused()&&(n.networkMode==="always"||Wc.isOnline())&&n.canRun(),g=()=>ES(n.networkMode)&&n.canRun(),m=S=>{a()||(r==null||r(),i.resolve(S))},v=S=>{a()||(r==null||r(),i.reject(S))},_=()=>new Promise(S=>{var x;r=k=>{(a()||f())&&S(k)},(x=n.onPause)==null||x.call(n)}).then(()=>{var S;r=void 0,a()||(S=n.onContinue)==null||S.call(n)}),w=()=>{if(a())return;let S;const x=t===0?n.initialPromise:void 0;try{S=x??n.fn()}catch(k){S=Promise.reject(k)}Promise.resolve(S).then(m).catch(k=>{var D;if(a())return;const C=n.retry??(ki?0:3),E=n.retryDelay??s1,N=typeof E=="function"?E(t,k):E,M=C===!0||typeof C=="number"&&t<C||typeof C=="function"&&C(t,k);if(e||!M){v(k);return}t++,(D=n.onFail)==null||D.call(n,t,k),YC(N).then(()=>f()?void 0:_()).then(()=>{e?v(k):w()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:d,canStart:g,start:()=>(g()?w():_().then(w),i)}}var hi,cS,TS=(cS=class{constructor(){ve(this,hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gp(this.gcTime)&&ne(this,hi,li.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ki?1/0:300*1e3))}clearGcTimeout(){P(this,hi)&&(li.clearTimeout(P(this,hi)),ne(this,hi,void 0))}},hi=new WeakMap,cS),fi,Wo,Cn,pi,Tt,Ll,gi,Bn,Er,dS,i1=(dS=class extends TS{constructor(e){super();ve(this,Bn);ve(this,fi);ve(this,Wo);ve(this,Cn);ve(this,pi);ve(this,Tt);ve(this,Ll);ve(this,gi);ne(this,gi,!1),ne(this,Ll,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,pi,e.client),ne(this,Cn,P(this,pi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,fi,U_(this.options)),this.state=e.state??P(this,fi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,Tt))==null?void 0:e.promise}setOptions(e){if(this.options={...P(this,Ll),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=U_(this.options);t.data!==void 0&&(this.setState(F_(t.data,t.dataUpdatedAt)),ne(this,fi,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Cn).remove(this)}setData(e,t){const r=yp(this.state.data,e,this.options);return De(this,Bn,Er).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){De(this,Bn,Er).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=P(this,Tt))==null?void 0:r.promise;return(i=P(this,Tt))==null||i.cancel(e),t?t.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,fi))}isActive(){return this.observers.some(e=>Tn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ns(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!SS(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=P(this,Tt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=P(this,Tt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,Cn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(P(this,Tt)&&(P(this,gi)?P(this,Tt).cancel({revert:!0}):P(this,Tt).cancelRetry()),this.scheduleGc()),P(this,Cn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,Bn,Er).call(this,{type:"invalidate"})}async fetch(e,t){var d,f,g,m,v,_,w,S,x,k,C,E;if(this.state.fetchStatus!=="idle"&&((d=P(this,Tt))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(P(this,Tt))return P(this,Tt).continueRetry(),P(this,Tt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(M=>M.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ne(this,gi,!0),r.signal)})},a=()=>{const N=bS(this.options,t),D=(()=>{const U={client:P(this,pi),queryKey:this.queryKey,meta:this.meta};return i(U),U})();return ne(this,gi,!1),this.options.persister?this.options.persister(N,D,this):N(D)},c=(()=>{const N={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:P(this,pi),state:this.state,fetchFn:a};return i(N),N})();(f=this.options.behavior)==null||f.onFetch(c,this),ne(this,Wo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&De(this,Bn,Er).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),ne(this,Tt,CS({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,onCancel:N=>{N instanceof _p&&N.revert&&this.setState({...P(this,Wo),fetchStatus:"idle"}),r.abort()},onFail:(N,M)=>{De(this,Bn,Er).call(this,{type:"failed",failureCount:N,error:M})},onPause:()=>{De(this,Bn,Er).call(this,{type:"pause"})},onContinue:()=>{De(this,Bn,Er).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const N=await P(this,Tt).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(_=(v=P(this,Cn).config).onSuccess)==null||_.call(v,N,this),(S=(w=P(this,Cn).config).onSettled)==null||S.call(w,N,this.state.error,this),N}catch(N){if(N instanceof _p){if(N.silent)return P(this,Tt).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw De(this,Bn,Er).call(this,{type:"error",error:N}),(k=(x=P(this,Cn).config).onError)==null||k.call(x,N,this),(E=(C=P(this,Cn).config).onSettled)==null||E.call(C,this.state.data,N,this),N}finally{this.scheduleGc()}}},fi=new WeakMap,Wo=new WeakMap,Cn=new WeakMap,pi=new WeakMap,Tt=new WeakMap,Ll=new WeakMap,gi=new WeakMap,Bn=new WeakSet,Er=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NS(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...F_(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Wo,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),St.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Cn).notify({query:this,type:"updated",action:e})})},dS);function NS(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ES(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function F_(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function U_(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var nn,Ue,Ml,qt,mi,Ko,Pr,_s,$l,Vo,Ho,yi,vi,ws,qo,He,ul,wp,Sp,xp,bp,kp,Ep,Cp,OS,hS,o1=(hS=class extends ta{constructor(e,t){super();ve(this,He);ve(this,nn);ve(this,Ue);ve(this,Ml);ve(this,qt);ve(this,mi);ve(this,Ko);ve(this,Pr);ve(this,_s);ve(this,$l);ve(this,Vo);ve(this,Ho);ve(this,yi);ve(this,vi);ve(this,ws);ve(this,qo,new Set);this.options=t,ne(this,nn,e),ne(this,_s,null),ne(this,Pr,vp()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Ue).addObserver(this),z_(P(this,Ue),this.options)?De(this,He,ul).call(this):this.updateResult(),De(this,He,bp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tp(P(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tp(P(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,He,kp).call(this),De(this,He,Ep).call(this),P(this,Ue).removeObserver(this)}setOptions(e){const t=this.options,r=P(this,Ue);if(this.options=P(this,nn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tn(this.options.enabled,P(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,He,Cp).call(this),P(this,Ue).setOptions(this.options),t._defaulted&&!Bc(this.options,t)&&P(this,nn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Ue),observer:this});const i=this.hasListeners();i&&B_(P(this,Ue),r,this.options,t)&&De(this,He,ul).call(this),this.updateResult(),i&&(P(this,Ue)!==r||Tn(this.options.enabled,P(this,Ue))!==Tn(t.enabled,P(this,Ue))||Ns(this.options.staleTime,P(this,Ue))!==Ns(t.staleTime,P(this,Ue)))&&De(this,He,wp).call(this);const a=De(this,He,Sp).call(this);i&&(P(this,Ue)!==r||Tn(this.options.enabled,P(this,Ue))!==Tn(t.enabled,P(this,Ue))||a!==P(this,ws))&&De(this,He,xp).call(this,a)}getOptimisticResult(e){const t=P(this,nn).getQueryCache().build(P(this,nn),e),r=this.createResult(t,e);return l1(this,r)&&(ne(this,qt,r),ne(this,Ko,this.options),ne(this,mi,P(this,Ue).state)),r}getCurrentResult(){return P(this,qt)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&P(this,Pr).status==="pending"&&P(this,Pr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){P(this,qo).add(e)}getCurrentQuery(){return P(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=P(this,nn).defaultQueryOptions(e),r=P(this,nn).getQueryCache().build(P(this,nn),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return De(this,He,ul).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,qt)))}createResult(e,t){var z;const r=P(this,Ue),i=this.options,a=P(this,qt),l=P(this,mi),c=P(this,Ko),f=e!==r?e.state:P(this,Ml),{state:g}=e;let m={...g},v=!1,_;if(t._optimisticResults){const K=this.hasListeners(),re=!K&&z_(e,t),we=K&&B_(e,r,t,i);(re||we)&&(m={...m,...NS(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:x}=m;_=m.data;let k=!1;if(t.placeholderData!==void 0&&_===void 0&&x==="pending"){let K;a!=null&&a.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData)?(K=a.data,k=!0):K=typeof t.placeholderData=="function"?t.placeholderData((z=P(this,Ho))==null?void 0:z.state.data,P(this,Ho)):t.placeholderData,K!==void 0&&(x="success",_=yp(a==null?void 0:a.data,K,t),v=!0)}if(t.select&&_!==void 0&&!k)if(a&&_===(l==null?void 0:l.data)&&t.select===P(this,$l))_=P(this,Vo);else try{ne(this,$l,t.select),_=t.select(_),_=yp(a==null?void 0:a.data,_,t),ne(this,Vo,_),ne(this,_s,null)}catch(K){ne(this,_s,K)}P(this,_s)&&(w=P(this,_s),_=P(this,Vo),S=Date.now(),x="error");const C=m.fetchStatus==="fetching",E=x==="pending",N=x==="error",M=E&&C,D=_!==void 0,j={status:x,fetchStatus:m.fetchStatus,isPending:E,isSuccess:x==="success",isError:N,isInitialLoading:M,isLoading:M,data:_,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:N&&!D,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:N&&D,isStale:Ng(e,t),refetch:this.refetch,promise:P(this,Pr),isEnabled:Tn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const K=fe=>{j.status==="error"?fe.reject(j.error):j.data!==void 0&&fe.resolve(j.data)},re=()=>{const fe=ne(this,Pr,j.promise=vp());K(fe)},we=P(this,Pr);switch(we.status){case"pending":e.queryHash===r.queryHash&&K(we);break;case"fulfilled":(j.status==="error"||j.data!==we.value)&&re();break;case"rejected":(j.status!=="error"||j.error!==we.reason)&&re();break}}return j}updateResult(){const e=P(this,qt),t=this.createResult(P(this,Ue),this.options);if(ne(this,mi,P(this,Ue).state),ne(this,Ko,this.options),P(this,mi).data!==void 0&&ne(this,Ho,P(this,Ue)),Bc(t,e))return;ne(this,qt,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!P(this,qo).size)return!0;const l=new Set(a??P(this,qo));return this.options.throwOnError&&l.add("error"),Object.keys(P(this,qt)).some(c=>{const d=c;return P(this,qt)[d]!==e[d]&&l.has(d)})};De(this,He,OS).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,He,bp).call(this)}},nn=new WeakMap,Ue=new WeakMap,Ml=new WeakMap,qt=new WeakMap,mi=new WeakMap,Ko=new WeakMap,Pr=new WeakMap,_s=new WeakMap,$l=new WeakMap,Vo=new WeakMap,Ho=new WeakMap,yi=new WeakMap,vi=new WeakMap,ws=new WeakMap,qo=new WeakMap,He=new WeakSet,ul=function(e){De(this,He,Cp).call(this);let t=P(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Gt)),t},wp=function(){De(this,He,kp).call(this);const e=Ns(this.options.staleTime,P(this,Ue));if(ki||P(this,qt).isStale||!gp(e))return;const r=SS(P(this,qt).dataUpdatedAt,e)+1;ne(this,yi,li.setTimeout(()=>{P(this,qt).isStale||this.updateResult()},r))},Sp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Ue)):this.options.refetchInterval)??!1},xp=function(e){De(this,He,Ep).call(this),ne(this,ws,e),!(ki||Tn(this.options.enabled,P(this,Ue))===!1||!gp(P(this,ws))||P(this,ws)===0)&&ne(this,vi,li.setInterval(()=>{(this.options.refetchIntervalInBackground||Tg.isFocused())&&De(this,He,ul).call(this)},P(this,ws)))},bp=function(){De(this,He,wp).call(this),De(this,He,xp).call(this,De(this,He,Sp).call(this))},kp=function(){P(this,yi)&&(li.clearTimeout(P(this,yi)),ne(this,yi,void 0))},Ep=function(){P(this,vi)&&(li.clearInterval(P(this,vi)),ne(this,vi,void 0))},Cp=function(){const e=P(this,nn).getQueryCache().build(P(this,nn),this.options);if(e===P(this,Ue))return;const t=P(this,Ue);ne(this,Ue,e),ne(this,Ml,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},OS=function(e){St.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(P(this,qt))}),P(this,nn).getQueryCache().notify({query:P(this,Ue),type:"observerResultsUpdated"})})},hS);function a1(n,e){return Tn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function z_(n,e){return a1(n,e)||n.state.data!==void 0&&Tp(n,e,e.refetchOnMount)}function Tp(n,e,t){if(Tn(e.enabled,n)!==!1&&Ns(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Ng(n,e)}return!1}function B_(n,e,t,r){return(n!==e||Tn(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Ng(n,t)}function Ng(n,e){return Tn(e.enabled,n)!==!1&&n.isStaleByTime(Ns(e.staleTime,n))}function l1(n,e){return!Bc(n.getCurrentResult(),e)}function W_(n){return{onFetch:(e,t)=>{var g,m,v,_,w;const r=e.options,i=(v=(m=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,a=((_=e.state.data)==null?void 0:_.pages)||[],l=((w=e.state.data)==null?void 0:w.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let S=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},k=bS(e.options,e.fetchOptions),C=async(E,N,M)=>{if(S)return Promise.reject();if(N==null&&E.pages.length)return Promise.resolve(E);const U=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:N,direction:M?"backward":"forward",meta:e.options.meta};return x(re),re})(),j=await k(U),{maxPages:z}=e.options,K=M?ZC:XC;return{pages:K(E.pages,j,z),pageParams:K(E.pageParams,N,z)}};if(i&&a.length){const E=i==="backward",N=E?u1:K_,M={pages:a,pageParams:l},D=N(r,M);c=await C(M,D,E)}else{const E=n??a.length;do{const N=d===0?l[0]??r.initialPageParam:K_(r,c);if(d>0&&N==null)break;c=await C(c,N),d++}while(d<E)}return c};e.options.persister?e.fetchFn=()=>{var S,x;return(x=(S=e.options).persister)==null?void 0:x.call(S,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function K_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function u1(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Fl,ir,Jt,_i,or,hs,fS,c1=(fS=class extends TS{constructor(e){super();ve(this,or);ve(this,Fl);ve(this,ir);ve(this,Jt);ve(this,_i);ne(this,Fl,e.client),this.mutationId=e.mutationId,ne(this,Jt,e.mutationCache),ne(this,ir,[]),this.state=e.state||PS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,ir).includes(e)||(P(this,ir).push(e),this.clearGcTimeout(),P(this,Jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,ir,P(this,ir).filter(t=>t!==e)),this.scheduleGc(),P(this,Jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,ir).length||(this.state.status==="pending"?this.scheduleGc():P(this,Jt).remove(this))}continue(){var e;return((e=P(this,_i))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,c,d,f,g,m,v,_,w,S,x,k,C,E,N,M,D,U,j,z;const t=()=>{De(this,or,hs).call(this,{type:"continue"})},r={client:P(this,Fl),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,_i,CS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(K,re)=>{De(this,or,hs).call(this,{type:"failed",failureCount:K,error:re})},onPause:()=>{De(this,or,hs).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Jt).canRun(this)}));const i=this.state.status==="pending",a=!P(this,_i).canStart();try{if(i)t();else{De(this,or,hs).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(l=P(this,Jt).config).onMutate)==null?void 0:c.call(l,e,this,r));const re=await((f=(d=this.options).onMutate)==null?void 0:f.call(d,e,r));re!==this.state.context&&De(this,or,hs).call(this,{type:"pending",context:re,variables:e,isPaused:a})}const K=await P(this,_i).start();return await((m=(g=P(this,Jt).config).onSuccess)==null?void 0:m.call(g,K,e,this.state.context,this,r)),await((_=(v=this.options).onSuccess)==null?void 0:_.call(v,K,e,this.state.context,r)),await((S=(w=P(this,Jt).config).onSettled)==null?void 0:S.call(w,K,null,this.state.variables,this.state.context,this,r)),await((k=(x=this.options).onSettled)==null?void 0:k.call(x,K,null,e,this.state.context,r)),De(this,or,hs).call(this,{type:"success",data:K}),K}catch(K){try{throw await((E=(C=P(this,Jt).config).onError)==null?void 0:E.call(C,K,e,this.state.context,this,r)),await((M=(N=this.options).onError)==null?void 0:M.call(N,K,e,this.state.context,r)),await((U=(D=P(this,Jt).config).onSettled)==null?void 0:U.call(D,void 0,K,this.state.variables,this.state.context,this,r)),await((z=(j=this.options).onSettled)==null?void 0:z.call(j,void 0,K,e,this.state.context,r)),K}finally{De(this,or,hs).call(this,{type:"error",error:K})}}finally{P(this,Jt).runNext(this)}}},Fl=new WeakMap,ir=new WeakMap,Jt=new WeakMap,_i=new WeakMap,or=new WeakSet,hs=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),St.batch(()=>{P(this,ir).forEach(r=>{r.onMutationUpdate(e)}),P(this,Jt).notify({mutation:this,type:"updated",action:e})})},fS);function PS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rr,Wn,Ul,pS,d1=(pS=class extends ta{constructor(e={}){super();ve(this,Rr);ve(this,Wn);ve(this,Ul);this.config=e,ne(this,Rr,new Set),ne(this,Wn,new Map),ne(this,Ul,0)}build(e,t,r){const i=new c1({client:e,mutationCache:this,mutationId:++cc(this,Ul)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){P(this,Rr).add(e);const t=hc(e);if(typeof t=="string"){const r=P(this,Wn).get(t);r?r.push(e):P(this,Wn).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,Rr).delete(e)){const t=hc(e);if(typeof t=="string"){const r=P(this,Wn).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&P(this,Wn).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=hc(e);if(typeof t=="string"){const r=P(this,Wn).get(t),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=hc(e);if(typeof t=="string"){const i=(r=P(this,Wn).get(t))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{P(this,Rr).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,Rr).clear(),P(this,Wn).clear()})}getAll(){return Array.from(P(this,Rr))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>L_(t,r))}findAll(e={}){return this.getAll().filter(t=>L_(e,t))}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return St.batch(()=>Promise.all(e.map(t=>t.continue().catch(Gt))))}},Rr=new WeakMap,Wn=new WeakMap,Ul=new WeakMap,pS);function hc(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Ar,Ss,rn,Ir,Mr,Rc,Np,gS,h1=(gS=class extends ta{constructor(t,r){super();ve(this,Mr);ve(this,Ar);ve(this,Ss);ve(this,rn);ve(this,Ir);ne(this,Ar,t),this.setOptions(r),this.bindMethods(),De(this,Mr,Rc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=P(this,Ar).defaultMutationOptions(t),Bc(this.options,r)||P(this,Ar).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,rn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ei(r.mutationKey)!==Ei(this.options.mutationKey)?this.reset():((i=P(this,rn))==null?void 0:i.state.status)==="pending"&&P(this,rn).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=P(this,rn))==null||t.removeObserver(this)}onMutationUpdate(t){De(this,Mr,Rc).call(this),De(this,Mr,Np).call(this,t)}getCurrentResult(){return P(this,Ss)}reset(){var t;(t=P(this,rn))==null||t.removeObserver(this),ne(this,rn,void 0),De(this,Mr,Rc).call(this),De(this,Mr,Np).call(this)}mutate(t,r){var i;return ne(this,Ir,r),(i=P(this,rn))==null||i.removeObserver(this),ne(this,rn,P(this,Ar).getMutationCache().build(P(this,Ar),this.options)),P(this,rn).addObserver(this),P(this,rn).execute(t)}},Ar=new WeakMap,Ss=new WeakMap,rn=new WeakMap,Ir=new WeakMap,Mr=new WeakSet,Rc=function(){var r;const t=((r=P(this,rn))==null?void 0:r.state)??PS();ne(this,Ss,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Np=function(t){St.batch(()=>{var r,i,a,l,c,d,f,g;if(P(this,Ir)&&this.hasListeners()){const m=P(this,Ss).variables,v=P(this,Ss).context,_={client:P(this,Ar),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(r=P(this,Ir)).onSuccess)==null||i.call(r,t.data,m,v,_),(l=(a=P(this,Ir)).onSettled)==null||l.call(a,t.data,null,m,v,_)):(t==null?void 0:t.type)==="error"&&((d=(c=P(this,Ir)).onError)==null||d.call(c,t.error,m,v,_),(g=(f=P(this,Ir)).onSettled)==null||g.call(f,void 0,t.error,m,v,_))}this.listeners.forEach(m=>{m(P(this,Ss))})})},gS),ar,mS,f1=(mS=class extends ta{constructor(e={}){super();ve(this,ar);this.config=e,ne(this,ar,new Map)}build(e,t,r){const i=t.queryKey,a=t.queryHash??Eg(i,t);let l=this.get(a);return l||(l=new i1({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){P(this,ar).has(e.queryHash)||(P(this,ar).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=P(this,ar).get(e.queryHash);t&&(e.destroy(),t===e&&P(this,ar).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,ar).get(e)}getAll(){return[...P(this,ar).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>j_(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>j_(e,r)):t}notify(e){St.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ar=new WeakMap,mS),at,xs,bs,Jo,Go,ks,Qo,Yo,yS,p1=(yS=class{constructor(n={}){ve(this,at);ve(this,xs);ve(this,bs);ve(this,Jo);ve(this,Go);ve(this,ks);ve(this,Qo);ve(this,Yo);ne(this,at,n.queryCache||new f1),ne(this,xs,n.mutationCache||new d1),ne(this,bs,n.defaultOptions||{}),ne(this,Jo,new Map),ne(this,Go,new Map),ne(this,ks,0)}mount(){cc(this,ks)._++,P(this,ks)===1&&(ne(this,Qo,Tg.subscribe(async n=>{n&&(await this.resumePausedMutations(),P(this,at).onFocus())})),ne(this,Yo,Wc.subscribe(async n=>{n&&(await this.resumePausedMutations(),P(this,at).onOnline())})))}unmount(){var n,e;cc(this,ks)._--,P(this,ks)===0&&((n=P(this,Qo))==null||n.call(this),ne(this,Qo,void 0),(e=P(this,Yo))==null||e.call(this),ne(this,Yo,void 0))}isFetching(n){return P(this,at).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return P(this,xs).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=P(this,at).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=P(this,at).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ns(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return P(this,at).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=P(this,at).get(r.queryHash),a=i==null?void 0:i.state.data,l=GC(e,a);if(l!==void 0)return P(this,at).build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return St.batch(()=>P(this,at).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=P(this,at).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=P(this,at);St.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=P(this,at);return St.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=St.batch(()=>P(this,at).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Gt).catch(Gt)}invalidateQueries(n,e={}){return St.batch(()=>(P(this,at).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=St.batch(()=>P(this,at).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(Gt)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Gt)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=P(this,at).build(this,e);return t.isStaleByTime(Ns(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Gt).catch(Gt)}fetchInfiniteQuery(n){return n.behavior=W_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Gt).catch(Gt)}ensureInfiniteQueryData(n){return n.behavior=W_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Wc.isOnline()?P(this,xs).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,at)}getMutationCache(){return P(this,xs)}getDefaultOptions(){return P(this,bs)}setDefaultOptions(n){ne(this,bs,n)}setQueryDefaults(n,e){P(this,Jo).set(Ei(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...P(this,Jo).values()],t={};return e.forEach(r=>{wl(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){P(this,Go).set(Ei(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...P(this,Go).values()],t={};return e.forEach(r=>{wl(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...P(this,bs).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Eg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cg&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...P(this,bs).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){P(this,at).clear(),P(this,xs).clear()}},at=new WeakMap,xs=new WeakMap,bs=new WeakMap,Jo=new WeakMap,Go=new WeakMap,ks=new WeakMap,Qo=new WeakMap,Yo=new WeakMap,yS),RS=O.createContext(void 0),zl=n=>{const e=O.useContext(RS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},g1=({client:n,children:e})=>(O.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),A.jsx(RS.Provider,{value:n,children:e})),AS=O.createContext(!1),m1=()=>O.useContext(AS);AS.Provider;function y1(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var v1=O.createContext(y1()),_1=()=>O.useContext(v1),w1=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},S1=n=>{O.useEffect(()=>{n.clearReset()},[n])},x1=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||kS(t,[n.error,r])),b1=n=>{if(n.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...i)=>t(r(...i)):t(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},k1=(n,e)=>n.isLoading&&n.isFetching&&!e,E1=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,V_=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function C1(n,e,t){var m,v,_,w,S;const r=m1(),i=_1(),a=zl(),l=a.defaultQueryOptions(n);(v=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||v.call(m,l),l._optimisticResults=r?"isRestoring":"optimistic",b1(l),w1(l,i),S1(i);const c=!a.getQueryCache().get(l.queryHash),[d]=O.useState(()=>new e(a,l)),f=d.getOptimisticResult(l),g=!r&&n.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(x=>{const k=g?d.subscribe(St.batchCalls(x)):Gt;return d.updateResult(),k},[d,g]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),O.useEffect(()=>{d.setOptions(l)},[l,d]),E1(l,f))throw V_(l,d,i);if(x1({result:f,errorResetBoundary:i,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;if((w=(_=a.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||w.call(_,l,f),l.experimental_prefetchInRender&&!ki&&k1(f,r)){const x=c?V_(l,d,i):(S=a.getQueryCache().get(l.queryHash))==null?void 0:S.promise;x==null||x.catch(Gt).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?f:d.trackResult(f)}function IS(n,e){return C1(n,o1)}function Og(n,e){const t=zl(),[r]=O.useState(()=>new h1(t,n));O.useEffect(()=>{r.setOptions(n)},[r,n]);const i=O.useSyncExternalStore(O.useCallback(l=>r.subscribe(St.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=O.useCallback((l,c)=>{r.mutate(l,c).catch(Gt)},[r]);if(i.error&&kS(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function gd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function T1(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{f(r.next(g))}catch(m){l(m)}}function d(g){try{f(r.throw(g))}catch(m){l(m)}}function f(g){g.done?a(g.value):i(g.value).then(c,d)}f((r=r.apply(n,e||[])).next())})}const N1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Pg extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class O1 extends Pg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class H_ extends Pg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class q_ extends Pg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Op;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Op||(Op={}));class P1{constructor(e,{headers:t={},customFetch:r,region:i=Op.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=N1(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return T1(this,arguments,void 0,function*(t,r={}){var i;let a,l;try{const{headers:c,method:d,body:f,signal:g,timeout:m}=r;let v={},{region:_}=r;_||(_=this.region);const w=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let S;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(v["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(v["Content-Type"]="application/json",S=JSON.stringify(f)):S=f;let x=g;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),g?(x=l.signal,g.addEventListener("abort",()=>l.abort())):x=l.signal);const k=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:S,signal:x}).catch(M=>{throw new O1(M)}),C=k.headers.get("x-relay-error");if(C&&C==="true")throw new H_(k);if(!k.ok)throw new q_(k);let E=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return E==="application/json"?N=yield k.json():E==="application/octet-stream"||E==="application/pdf"?N=yield k.blob():E==="text/event-stream"?N=k:E==="multipart/form-data"?N=yield k.formData():N=yield k.text(),{data:N,error:null,response:k}}catch(c){return{data:null,error:c,response:c instanceof q_||c instanceof H_?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var R1=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},A1=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,d=null,f=a.status,g=a.statusText;if(a.ok){var m,v;if(t.method!=="HEAD"){var _;const k=await a.text();k===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((_=t.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=k:c=JSON.parse(k))}const S=(m=t.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),x=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&x&&x.length>1&&(d=parseInt(x[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var w;const S=await a.text();try{l=JSON.parse(S),Array.isArray(l)&&a.status===404&&(c=[],l=null,f=200,g="OK")}catch{a.status===404&&S===""?(f=204,g="No Content"):l={message:S}}if(l&&t.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,f=200,g="OK"),l&&t.shouldThrowOnError)throw new R1(l)}return{error:l,data:c,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(a=>{var l;let c="";const d=a==null?void 0:a.cause;if(d){var f,g,m,v;const w=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",S=(g=d==null?void 0:d.code)!==null&&g!==void 0?g:"";c=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${w}`,S&&(c+=` (${S})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var _;c=(_=a==null?void 0:a.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}},I1=class extends A1{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(a,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var l;const c=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const J_=new RegExp("[,()]");var ko=class extends I1{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&J_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&J_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${i}fts${a}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},D1=class{constructor(n,{headers:e={},schema:t,fetch:r}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r}select(n,e){const{head:t=!1,count:r}=e??{},i=t?"HEAD":"GET";let a=!1;const l=(n??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new ko({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const a=n.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ko({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new ko({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(n,{count:e}={}){var t;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ko({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new ko({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},j1=class DS{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new D1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new DS(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:a}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;r||i?(c=r?"HEAD":"GET",Object.entries(t).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{d.searchParams.append(m,v)})):(c="POST",f=t);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new ko({method:c,url:d,headers:g,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class L1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const M1="2.89.0",$1=`realtime-js/${M1}`,jS="1.0.0",F1="2.0.0",G_=jS,Pp=1e4,U1=1e3,z1=100;var fs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(fs||(fs={}));var wt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(wt||(wt={}));var Kn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Kn||(Kn={}));var Rp;(function(n){n.websocket="websocket"})(Rp||(Rp={}));var ii;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ii||(ii={}));class B1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,r){var i,a;const l=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",d=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+f.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(_),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,d.length),w.setUint8(S++,c.length),w.setUint8(S++,l.length),w.setUint8(S++,f.length),w.setUint8(S++,m.length),w.setUint8(S++,t),Array.from(d,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(c,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(l,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(f,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(m,k=>w.setUint8(S++,k.charCodeAt(0)));var x=new Uint8Array(_.byteLength+r.byteLength);return x.set(new Uint8Array(_),0),x.set(new Uint8Array(r),_.byteLength),x.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,l,c,d]=r;return t({join_ref:i,ref:a,topic:l,event:c,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+i));d=d+i;const g=r.decode(e.slice(d,d+a));d=d+a;const m=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),_=c===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,w={type:this.BROADCAST_EVENT,event:g,payload:_};return l>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class LS{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Xe||(Xe={}));const Q_=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=W1(l,n,e,i),a),{}):{}},W1=(n,e,t,r)=>{const i=e.find(c=>c.name===n),a=i==null?void 0:i.type,l=t[n];return a&&!r.includes(a)?MS(a,l):Ap(l)},MS=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return q1(e,t)}switch(n){case Xe.bool:return K1(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return V1(e);case Xe.json:case Xe.jsonb:return H1(e);case Xe.timestamp:return J1(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Ap(e);default:return Ap(e)}},Ap=n=>n,K1=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},V1=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},H1=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},q1=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>MS(e,c))}return n},J1=n=>typeof n=="string"?n.replace(" ","T"):n,$S=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Df{constructor(e,t,r={},i=Pp){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Y_;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Y_||(Y_={}));class pl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pl.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=pl.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pl.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(f,g)=>{l[f]||(d[f]=g)}),this.map(l,(f,g)=>{const m=a[f];if(m){const v=g.map(x=>x.presence_ref),_=m.map(x=>x.presence_ref),w=g.filter(x=>_.indexOf(x.presence_ref)<0),S=m.filter(x=>v.indexOf(x.presence_ref)<0);w.length>0&&(c[f]=w),S.length>0&&(d[f]=S)}else c[f]=g}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(e,t,r,i){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const g=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),g.length>0){const m=e[c].map(_=>_.presence_ref),v=g.filter(_=>m.indexOf(_.presence_ref)<0);e[c].unshift(...v)}r(c,g,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const g=d.map(m=>m.presence_ref);f=f.filter(m=>g.indexOf(m.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(X_||(X_={}));var gl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(gl||(gl={}));var Tr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class Ro{constructor(e,t={config:{}},r){var i,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Df(this,Kn.join,this.params,this.timeout),this.rejoinTimer=new LS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kn.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new pl(this),this.broadcastEndpointURL=$S(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[gl.PRESENCE]&&this.bindings[gl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(Tr.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(Tr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,x=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,k=[];for(let C=0;C<x;C++){const E=S[C],{filter:{event:N,schema:M,table:D,filter:U}}=E,j=_&&_[C];if(j&&j.event===N&&Ro.isFilterValueEqual(j.schema,M)&&Ro.isFilterValueEqual(j.table,D)&&Ro.isFilterValueEqual(j.filter,U))k.push(Object.assign(Object.assign({},E),{id:j.id}));else{this.unsubscribe(),this.state=wt.errored,e==null||e(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Tr.SUBSCRIBED);return}}).receive("error",_=>{this.state=wt.errored,e==null||e(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===wt.joined&&e===gl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Df(this,Kn.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Df(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>z1){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:g}=Kn;if(r&&[c,d,f,g].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var w,S,x;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(S=_.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var w,S,x,k,C,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const N=_.id,M=(w=_.filter)===null||w===void 0?void 0:w.event;return N&&((S=t.ids)===null||S===void 0?void 0:S.includes(N))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(C=(k=_==null?void 0:_.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return N==="*"||N===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:x,commit_timestamp:k,type:C,errors:E}=w;v=Object.assign(Object.assign({},{schema:S,table:x,commit_timestamp:k,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(w))}_.callback(v,r)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ro.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Kn.close,{},e)}_onError(e){this._on(Kn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Q_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Q_(e.columns,e.old_record)),t}}const jf=()=>{},fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G1=[1e3,2e3,5e3,1e4],Q1=1e4,Y1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X1{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pp,this.transport=null,this.heartbeatIntervalMs=fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jf,this.ref=0,this.reconnectTimer=null,this.vsn=G_,this.logger=jf,this.conn=null,this.sendBuffer=[],this.serializer=new B1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Rp.websocket}`,this.httpEndpoint=$S(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return ii.Connecting;case fs.open:return ii.Open;case fs.closing:return ii.Closing;default:return ii.Closed}}isConnected(){return this.connectionState()===ii.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Ro(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(U1,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===fs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fs.open||this.conn.readyState===fs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Kn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Y1],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const a={access_token:t,version:$1};t&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Kn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new LS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,a,l,c,d,f,g,m,v,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Pp,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:fc.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:jf,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:G_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(w=>G1[w-1]||Q1),this.vsn){case jS:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((w,S)=>S(JSON.stringify(w))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((w,S)=>S(JSON.parse(w)));break;case F1:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Sl=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Z1(n,e,t){const r=new URL(e,n);if(t)for(const[i,a]of Object.entries(t))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function eT(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function tT(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:a,headers:l}){const c=Z1(n.baseUrl,r,i),d=await eT(n.auth),f=await e(c,{method:t,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),g=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&g?JSON.parse(g):g;if(!f.ok){const _=m?v:void 0,w=_==null?void 0:_.error;throw new Sl((w==null?void 0:w.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function pc(n){return n.join("")}var nT=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:pc(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pc(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pc(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pc(n.namespace)}`}),!0}catch(e){if(e instanceof Sl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Sl&&t.status===409)return;throw t}}};function fo(n){return n.join("")}var rT=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fo(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fo(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Sl&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Sl&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},sT=class{constructor(n){var r;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=tT({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new nT(this.client,e),this.tableOps=new rT(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},md=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function it(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var iT=class extends md{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ip=class extends md{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const Rg=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),oT=()=>Response,Dp=n=>{if(Array.isArray(n))return n.map(t=>Dp(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Dp(r)}),e},aT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},lT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function xl(n){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(n)}function uT(n,e){if(xl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cT(n){var e=uT(n,"string");return xl(e)=="symbol"?e:e+""}function dT(n,e,t){return(e=cT(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Z_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(t),!0).forEach(function(r){dT(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Lf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},hT=async(n,e,t)=>{n instanceof await oT()&&!(t!=null&&t.noResolveJson)?n.json().then(r=>{const i=n.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new iT(Lf(r),i,a))}).catch(r=>{e(new Ip(Lf(r),r))}):e(new Ip(Lf(n),n))},fT=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?i:(aT(r)?(i.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),ke(ke({},i),t))};async function Bl(n,e,t,r,i,a){return new Promise((l,c)=>{n(t,fT(e,r,i,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>hT(d,c,r))})}async function bl(n,e,t,r){return Bl(n,"GET",e,t,r)}async function zn(n,e,t,r,i){return Bl(n,"POST",e,r,i,t)}async function jp(n,e,t,r,i){return Bl(n,"PUT",e,r,i,t)}async function pT(n,e,t,r){return Bl(n,"HEAD",e,ke(ke({},t),{},{noResolveJson:!0}),r)}async function Ag(n,e,t,r,i){return Bl(n,"DELETE",e,r,i,t)}var gT=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};let FS;FS=Symbol.toStringTag;var mT=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[FS]="BlobDownloadBuilder",this.promise=null}asStream(){return new gT(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};const yT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ew={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vT=class{constructor(n,e={},t,r){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=Rg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,r){var i=this;try{let a;const l=ke(ke({},ew),r);let c=ke(ke({},i.headers),n==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&t instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",t)):typeof FormData<"u"&&t instanceof FormData?(a=t,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=t,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(c=ke(ke({},c),r.headers));const f=i._removeEmptyFolders(e),g=i._getFinalPath(f),m=await(n=="PUT"?jp:zn)(i.fetch,`${i.url}/object/${g}`,a,ke({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var i=this;const a=i._removeEmptyFolders(n),l=i._getFinalPath(a),c=new URL(i.url+`/object/upload/sign/${l}`);c.searchParams.set("token",e);try{let d;const f=ke({upsert:ew.upsert},r),g=ke(ke({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&t instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",t)):typeof FormData<"u"&&t instanceof FormData?(d=t,d.append("cacheControl",f.cacheControl)):(d=t,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{data:{path:a,fullPath:(await jp(i.fetch,c.toString(),d,{headers:g})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(it(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(n,e){var t=this;try{let r=t._getFinalPath(n);const i=ke({},t.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await zn(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(t.url+a.url),c=l.searchParams.get("token");if(!c)throw new md("No token returned by API");return{data:{signedUrl:l.toString(),path:n,token:c},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;try{return{data:await zn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async copy(n,e,t){var r=this;try{return{data:{path:(await zn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async createSignedUrl(n,e,t){var r=this;try{let i=r._getFinalPath(n),a=await zn(r.fetch,`${r.url}/object/sign/${i}`,ke({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:r.headers});const l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async createSignedUrls(n,e,t){var r=this;try{const i=await zn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:i.map(l=>ke(ke({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}download(n,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(n),l=()=>bl(this.fetch,`${this.url}/${t}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new mT(l,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:Dp(await bl(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await pT(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(it(r)&&r instanceof Ip){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${t}${c}`)}}}async remove(n){var e=this;try{return{data:await Ag(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async list(n,e,t){var r=this;try{const i=ke(ke(ke({},yT),e),{},{prefix:n||""});return{data:await zn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}}async listV2(n,e){var t=this;try{const r=ke({},n);return{data:await zn(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const US="2.89.0",zS={"X-Client-Info":`storage-js/${US}`};var _T=class{constructor(n,e={},t,r){this.shouldThrowOnError=!1;const i=new URL(n);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ke(ke({},zS),e),this.fetch=Rg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await bl(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await bl(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await zn(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async updateBucket(n,e){var t=this;try{return{data:await jp(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async emptyBucket(n){var e=this;try{return{data:await zn(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Ag(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},wT=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},zS),e),this.fetch=Rg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await zn(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const r=t.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await bl(e.fetch,i,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Ag(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!lT(n))throw new md("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new sT({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(i,c),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}};const Ig={"X-Client-Info":`storage-js/${US}`,"Content-Type":"application/json"};var BS=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Mf=class extends BS{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ST=class extends BS{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const Dg=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),xT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},tw=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),bT=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const r=n.status||500,i=n;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new Mf(tw(a),r,l))}).catch(()=>{const a=r+"";e(new Mf(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new Mf(i.statusText||`HTTP ${r} error`,r,a))}}else e(new ST(tw(n),n))},kT=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(xT(r)?(i.headers=ke({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,ke(ke({},i),t)):i};async function ET(n,e,t,r,i,a){return new Promise((l,c)=>{n(t,kT(e,r,i,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>bT(d,c,r))})}async function gn(n,e,t,r,i){return ET(n,"POST",e,r,i,t)}var CT=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},Ig),e),this.fetch=Dg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await gn(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listIndexes(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await gn(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},TT=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},Ig),e),this.fetch=Dg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await gn(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await gn(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await gn(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}},NT=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=ke(ke({},Ig),e),this.fetch=Dg(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await gn(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await gn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pn(t))return{data:null,error:t};throw t}}},OT=class extends NT{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new PT(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},PT=class extends CT{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new RT(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},RT=class extends TT{constructor(n,e,t,r,i){super(n,e,i),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,ke(ke({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},AT=class extends _T{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new vT(this.url,this.headers,n,this.fetch)}get vectors(){return new OT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wT(this.url+"/iceberg",this.headers,this.fetch)}};const WS="2.89.0",Eo=30*1e3,Lp=3,$f=Lp*Eo,IT="http://localhost:9999",DT="supabase.auth.token",jT={"X-Client-Info":`gotrue-js/${WS}`},Mp="X-Supabase-Api-Version",KS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MT=600*1e3;class kl extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function me(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class $T extends kl{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function FT(n){return me(n)&&n.name==="AuthApiError"}class oi extends kl{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Br extends kl{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class hn extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UT(n){return me(n)&&n.name==="AuthSessionMissingError"}class po extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gc extends Br{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mc extends Br{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zT(n){return me(n)&&n.name==="AuthImplicitGrantRedirectError"}class nw extends Br{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BT extends Br{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $p extends Br{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ff(n){return me(n)&&n.name==="AuthRetryableFetchError"}class rw extends Br{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Fp extends Br{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sw=` 	
\r=`.split(""),WT=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<sw.length;e+=1)n[sw[e].charCodeAt(0)]=-2;for(let e=0;e<Kc.length;e+=1)n[Kc[e].charCodeAt(0)]=e;return n})();function iw(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Kc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Kc[r]),e.queuedBits-=6}}function VS(n,e,t){const r=WT[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function ow(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{HT(l,r,t)};for(let l=0;l<n.length;l+=1)VS(n.charCodeAt(l),i,a);return e.join("")}function KT(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function VT(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}KT(r,e)}}function HT(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Io(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)VS(n.charCodeAt(i),t,r);return new Uint8Array(e)}function qT(n){const e=[];return VT(n,t=>e.push(t)),new Uint8Array(e)}function ui(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>iw(i,t,r)),iw(null,t,r),e.join("")}function JT(n){return Math.round(Date.now()/1e3)+n}function GT(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},HS=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function QT(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const qS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),YT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Co=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ei=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Dt=async(n,e)=>{await n.removeItem(e)};class yd{constructor(){this.promise=new yd.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}yd.promiseConstructor=Promise;function Uf(n){const e=n.split(".");if(e.length!==3)throw new Fp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!LT.test(e[r]))throw new Fp("JWT not in base64url format");return{header:JSON.parse(ow(e[0])),payload:JSON.parse(ow(e[1])),signature:Io(e[2]),raw:{header:e[0],payload:e[1]}}}async function XT(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function ZT(n,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function eN(n){return("0"+n.toString(16)).substr(-2)}function tN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,eN).join("")}async function nN(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function rN(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await nN(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(n,e,t=!1){const r=tN();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Co(n,`${e}-code-verifier`,i);const a=await rN(r);return[a,r===a?"plain":"s256"]}const sN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iN(n){const e=n.headers.get(Mp);if(!e||!e.match(sN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oN(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function aN(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mo(n){if(!lN.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zf(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uN(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function aw(n){return JSON.parse(JSON.stringify(n))}const ri=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cN=[502,503,504];async function lw(n){var e;if(!YT(n))throw new $p(ri(n),0);if(cN.includes(n.status))throw new $p(ri(n),n.status);let t;try{t=await n.json()}catch(a){throw new oi(ri(a),a)}let r;const i=iN(n);if(i&&i.getTime()>=KS["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new rw(ri(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new rw(ri(t),n.status,t.weak_password.reasons);throw new $T(ri(t),n.status||500,r)}const dN=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function be(n,e,t,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Mp]||(a[Mp]=KS["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await hN(n,e,t+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function hN(n,e,t,r,i,a){const l=dN(e,r,i,a);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new $p(ri(d),0)}if(c.ok||await lw(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await lw(d)}}function Un(n){var e;let t=null;gN(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=JT(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function uw(n){const e=Un(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ps(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function fN(n){return{data:n,error:null}}function pN(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a}=n,l=gd(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function cw(n){return n}function gN(n){return n.access_token&&n.refresh_token&&n.expires_in}const Bf=["global","local","others"];class mN{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=qS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Bf[0]){if(Bf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bf.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ps})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=gd(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pN,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:cw});if(g.error)throw g.error;const m=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);f[`${x}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(me(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){mo(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){mo(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ps})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){mo(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ps})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){mo(e.userId);try{const{data:t,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){mo(e.userId),mo(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},g=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:cw});if(g.error)throw g.error;const m=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);f[`${x}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(me(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}}function dw(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const yo={debug:!!(globalThis&&HS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yN extends JS{}async function vN(n,e,t){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new yN(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(yo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function _N(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function GS(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function wN(n){return parseInt(n,16)}function SN(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function xN(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:g,uri:m,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=GS(n.address),w=g?`${g}://${r}`:r,S=n.statement?`${n.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${_}

${S}`;let k=`URI: ${m}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),c&&(k+=`
Not Before: ${c.toISOString()}`),d&&(k+=`
Request ID: ${d}`),f){let C=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);C+=`
- ${E}`}k+=C}return`${x}
${k}`}class gt extends Error{constructor({message:e,code:t,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Vc extends gt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function bN({error:n,options:e}){var t,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new gt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(QS(l)){if(a.rp.id!==l)return new gt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function kN({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new gt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(QS(r)){if(t.rpId!==r)return new gt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class EN{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const CN=new EN;function TN(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=gd(n,["challenge","user","excludeCredentials"]),a=Io(e).buffer,l=Object.assign(Object.assign({},t),{id:Io(t.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Io(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function NN(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=gd(n,["challenge","allowCredentials"]),i=Io(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Io(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function ON(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:ui(new Uint8Array(n.response.attestationObject)),clientDataJSON:ui(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function PN(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ui(new Uint8Array(i.authenticatorData)),clientDataJSON:ui(new Uint8Array(i.clientDataJSON)),signature:ui(new Uint8Array(i.signature)),userHandle:i.userHandle?ui(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QS(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function hw(){var n,e;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RN(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vc("Browser returned unexpected credential type",e)}:{data:null,error:new Vc("Empty credential response",e)}}catch(e){return{data:null,error:bN({error:e,options:n})}}}async function AN(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vc("Browser returned unexpected credential type",e)}:{data:null,error:new Vc("Empty credential response",e)}}catch(e){return{data:null,error:kN({error:e,options:n})}}}const IN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hc(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const c=r[a];e(c)?r[a]=Hc(c,l):r[a]=Hc(l)}else r[a]=l}return r}function jN(n,e){return Hc(IN,n,e||{})}function LN(n,e){return Hc(DN,n,e||{})}class MN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=i??CN.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=jN(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:m}=await RN({publicKey:f,signal:d});return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}case"request":{const f=LN(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:m}=await AN(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return g?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new kl("rpId is required for WebAuthn authentication")};try{if(!hw())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new kl("rpId is required for WebAuthn registration")};try{if(!hw())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var m;return(m=g.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new oi("Unexpected error in register",l)}}}}_N();const $N={url:IT,storageKey:DT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function fw(n,e,t){return await t()}const vo={};class El{get jwks(){var e,t;return(t=(e=vo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=vo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},$N),e);if(this.storageKey=a.storageKey,this.instanceID=(t=El.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,El.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&jt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new mN({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qS(a.fetch),this.lock=a.lock||fw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&jt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vN:this.lock=fw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:HS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=dw(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${WS}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(jt()&&(t=QT(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),jt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zT(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return me(t)?this._returnResult({error:t}):this._returnResult({error:new oi("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Un}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,i;try{let a;if("email"in e){const{email:g,password:m,options:v}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await go(this.storage,this.storageKey)),a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:m,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:Un})}else if("phone"in e){const{phone:g,password:m,options:v}=e;a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Un})}else throw new gc("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await Dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:uw})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:uw})}else throw new gc("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new po;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,a,l,c,d,f,g,m,v;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:S,wallet:x,statement:k,options:C}=e;let E;if(jt())if(typeof x=="object")E=x;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")E=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const N=new URL((t=C==null?void 0:C.url)!==null&&t!==void 0?t:window.location.href),M=await E.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=GS(M[0]);let U=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const z=await E.request({method:"eth_chainId"});U=wN(z)}const j={domain:N.host,address:D,statement:k,uri:N.href,version:"1",chainId:U,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=C==null?void 0:C.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=xN(j),w=await E.request({method:"personal_sign",params:[SN(_),D]})}try{const{data:S,error:x}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Un});if(x)throw x;if(!S||!S.session||!S.user){const k=new po;return this._returnResult({data:{user:null,session:null},error:k})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:x})}catch(S){if(me(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,r,i,a,l,c,d,f,g,m,v,_;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:x,wallet:k,statement:C,options:E}=e;let N;if(jt())if(typeof k=="object")N=k;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))N=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const M=new URL((t=E==null?void 0:E.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in N&&N.signIn){const D=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),C?{statement:C}:null));let U;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")U=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)U=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)w=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),S=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(g=E==null?void 0:E.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const D=await N.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=D}}try{const{data:x,error:k}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ui(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Un});if(k)throw k;if(!x||!x.session||!x.user){const C=new po;return this._returnResult({data:{user:null,session:null},error:C})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:k})}catch(x){if(me(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const t=await ei(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new BT;const{data:a,error:l}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Un});if(await Dt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new po;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:a,nonce:l}=e,c=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Un}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const g=new po;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,a,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await go(this.storage,this.storageKey));const{error:m}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:g}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new gc("You must provide either an email or phone number.")}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,r;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Un});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await go(this.storage,this.storageKey));const f=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:fN});return!((a=f.data)===null||a===void 0)&&a.url&&jt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new hn;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await be(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:c}=await be(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new gc("You must provide either an email or phone number and a type")}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<$f:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await ei(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=zf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=uN(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession(async t=>{var r,i,a;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ps})})}catch(t){if(me(t))return UT(t)&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new hn;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await go(this.storage,this.storageKey));const{data:f,error:g}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:ps});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hn;const t=Date.now()/1e3;let r=t,i=!0,a=null;const{payload:l}=Uf(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(me(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!jt())throw new mc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new nw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new nw("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!l||!f)throw new mc("No session defined in URL");const g=Math.round(Date.now()/1e3),m=parseInt(c);let v=g+m;d&&(v=parseInt(d));const _=v-g;_*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const w=v-m;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,g);const{data:S,error:x}=await this._getUser(a);if(x)throw x;const k={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ei(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(FT(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=GT(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await go(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async a=>{var l,c,d,f,g;const{data:m,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return jt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:a}}=t;if(i)throw i;const{options:l,provider:c,token:d,access_token:f,nonce:g}=e,m=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Un}),{data:v,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new po}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(i){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)throw l;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await ZT(async i=>(i>0&&await XT(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Un})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Ff(a)&&Date.now()+l-r<Eo})}catch(r){if(this._debug(t,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),jt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ei(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ei(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Co(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:zf()}else if(i&&!i.user&&!i.user){const l=await ei(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Dt(this.storage,this.storageKey+"-user"),await Co(this.storage,this.storageKey,i)):i.user=zf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<$f;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${$f}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Ff(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yd;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new hn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),me(a)){const l={data:null,error:a};return Ff(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Dt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Co(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=aw(i);await Co(this.storage,this.storageKey,a)}else{const i=aw(t);await Co(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dt(this.storage,this.storageKey),await Dt(this.storage,this.storageKey+"-code-verifier"),await Dt(this.storage,this.storageKey+"-user"),this.userStorage&&await Dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Eo}ms, refresh threshold is ${Lp} ticks`),i<=Lp&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof JS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await go(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?this._returnResult({data:null,error:a}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ON(e.webauthn.credential_response):PN(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:TN(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:NN(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Uf(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new hn})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new hn});const l=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&jt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new hn});const l=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&jt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new hn})})}catch(e){if(me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hn})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+MT>i)return r;const{data:a,error:l}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});r=_.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:d}}=Uf(r);t!=null&&t.allowExpired||oN(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:l},error:null}}const g=aN(i.alg),m=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,m,l,qT(`${c}.${d}`)))throw new Fp("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}}El.nextInstanceID={};const FN=El,UN="2.89.0";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const zN={"X-Client-Info":`supabase-js-${cl}/${UN}`},BN={headers:zN},WN={schema:"public"},KN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VN={};function Cl(n){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(n)}function HN(n,e){if(Cl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qN(n){var e=HN(n,"string");return Cl(e)=="symbol"?e:e+""}function JN(n,e,t){return(e=qN(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(t),!0).forEach(function(r){JN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const GN=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),QN=()=>Headers,YN=(n,e,t)=>{const r=GN(t),i=QN();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:n;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,lt(lt({},l),{},{headers:f}))}};function XN(n){return n.endsWith("/")?n:n+"/"}function ZN(n,e){var t,r;const{db:i,auth:a,realtime:l,global:c}=n,{db:d,auth:f,realtime:g,global:m}=e,v={db:lt(lt({},d),i),auth:lt(lt({},f),a),realtime:lt(lt({},g),l),storage:{},global:lt(lt(lt({},m),c),{},{headers:lt(lt({},(t=m==null?void 0:m.headers)!==null&&t!==void 0?t:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function eO(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tO=class extends FN{constructor(n){super(n)}},nO=class{constructor(n,e,t){var r,i;this.supabaseUrl=n,this.supabaseKey=e;const a=eO(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:WN,realtime:VN,auth:lt(lt({},KN),{},{storageKey:l}),global:BN},d=ZN(t??{},c);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=YN(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(lt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new j1(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new AT(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new P1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:a,flowType:l,lock:c,debug:d,throwOnError:f},g,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tO({url:this.authUrl.href,headers:lt(lt({},v),g),storageKey:a,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new X1(this.realtimeUrl.href,lt(lt({},n),{},{params:lt(lt({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const rO=(n,e,t)=>new nO(n,e,t);function sO(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}sO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YS=void 0,iO=void 0,oO=!!YS,To=oO?rO(YS,iO):new Proxy({},{get(n,e){return e==="auth"?{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithOtp:()=>Promise.resolve({error:new Error("Supabase not configured")}),verifyOtp:()=>Promise.resolve({data:null,error:new Error("Supabase not configured")}),signOut:()=>Promise.resolve({error:null})}:()=>{throw new Error("Supabase is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.")}}});function aO(){const[n,e]=O.useState(null),[t,r]=O.useState(null),[i,a]=O.useState(!0);return O.useEffect(()=>{To.auth.getSession().then(({data:{session:g}})=>{r(g),e((g==null?void 0:g.user)??null),a(!1)});const{data:{subscription:f}}=To.auth.onAuthStateChange((g,m)=>{r(m),e((m==null?void 0:m.user)??null)});return()=>f.unsubscribe()},[]),{user:n,session:t,loading:i,signInWithOtp:async f=>{const{error:g}=await To.auth.signInWithOtp({email:f});return{error:g}},verifyOtp:async(f,g)=>{const{data:m,error:v}=await To.auth.verifyOtp({email:f,token:g,type:"email"});return{data:m,error:v}},signOut:async()=>{const{error:f}=await To.auth.signOut();return{error:f}}}}const XS=O.createContext(null);function lO({children:n}){const e=aO();return A.jsx(XS.Provider,{value:e,children:n})}function ZS(){const n=O.useContext(XS);if(!n)throw new Error("useAuthContext must be used within AuthProvider");return n}/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gw="popstate";function uO(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Up("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Tl(i)}return dO(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function On(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cO(){return Math.random().toString(36).substring(2,10)}function mw(n,e){return{usr:n.state,key:n.key,idx:e}}function Up(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:t,key:e&&e.key||r||cO()}}function Tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function dO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function m(){c="POP";let x=g(),k=x==null?null:x-f;f=x,d&&d({action:c,location:S.location,delta:k})}function v(x,k){c="PUSH";let C=Up(S.location,x,k);f=g()+1;let E=mw(C,f),N=S.createHref(C);try{l.pushState(E,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}a&&d&&d({action:c,location:S.location,delta:1})}function _(x,k){c="REPLACE";let C=Up(S.location,x,k);f=g();let E=mw(C,f),N=S.createHref(C);l.replaceState(E,"",N),a&&d&&d({action:c,location:S.location,delta:0})}function w(x){return hO(x)}let S={get action(){return c},get location(){return n(i,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(gw,m),d=x,()=>{i.removeEventListener(gw,m),d=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let k=w(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:_,go(x){return l.go(x)}};return S}function hO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Tl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ex(n,e,t="/"){return fO(n,e,t,!1)}function fO(n,e,t,r){let i=typeof e=="string"?na(e):e,a=$r(i.pathname||"/",t);if(a==null)return null;let l=tx(n);pO(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=EO(a);c=bO(l[d],f,r)}return c}function tx(n,e=[],t=[],r="",i=!1){let a=(l,c,d=i,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;nt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let m=jr([r,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),tx(l.children,e,v,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:SO(m,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let f of nx(l.path))a(l,c,!0,f)}),e}function nx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=nx(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function pO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gO=/^:[\w-]+$/,mO=3,yO=2,vO=1,_O=10,wO=-2,yw=n=>n==="*";function SO(n,e){let t=n.split("/"),r=t.length;return t.some(yw)&&(r+=wO),e&&(r+=yO),t.filter(i=>!yw(i)).reduce((i,a)=>i+(gO.test(a)?mO:a===""?vO:_O),r)}function xO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function bO(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",m=qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!m&&f&&t&&!r[r.length-1].route.index&&(m=qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:jr([a,m.pathname]),pathnameBase:OO(jr([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=jr([a,m.pathnameBase]))}return l}function qc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=kO(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:m},v)=>{if(g==="*"){let w=c[v]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const _=c[v];return m&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function kO(n,e=!1,t=!0){On(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $r(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CO=n=>rx.test(n);function TO(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?na(n):n,a;if(t)if(CO(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=vw(t.substring(1),"/"):a=vw(t,e)}else a=e;return{pathname:a,search:PO(r),hash:RO(i)}}function vw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Wf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jg(n){let e=NO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Lg(n,e,t,r=!1){let i;typeof n=="string"?i=na(n):(i={...n},nt(!i.pathname||!i.pathname.includes("?"),Wf("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),Wf("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),Wf("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=TO(i,c),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var jr=n=>n.join("/").replace(/\/\/+/g,"/"),OO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,AO=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function IO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function DO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ix(n,e){let t=n;if(typeof t!="string"||!rx.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(sx)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),c=$r(l.pathname,e);l.origin===a.origin&&c!=null?t=c+l.search+l.hash:i=!0}catch{On(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ox=["POST","PUT","PATCH","DELETE"];new Set(ox);var jO=["GET",...ox];new Set(jO);var ra=O.createContext(null);ra.displayName="DataRouter";var vd=O.createContext(null);vd.displayName="DataRouterState";var LO=O.createContext(!1),ax=O.createContext({isTransitioning:!1});ax.displayName="ViewTransition";var MO=O.createContext(new Map);MO.displayName="Fetchers";var $O=O.createContext(null);$O.displayName="Await";var vn=O.createContext(null);vn.displayName="Navigation";var Wl=O.createContext(null);Wl.displayName="Location";var Rn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Rn.displayName="Route";var Mg=O.createContext(null);Mg.displayName="RouteError";var lx="REACT_ROUTER_ERROR",FO="REDIRECT",UO="ROUTE_ERROR_RESPONSE";function zO(n){if(n.startsWith(`${lx}:${FO}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BO(n){if(n.startsWith(`${lx}:${UO}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new AO(e.status,e.statusText,e.data)}catch{}}function WO(n,{relative:e}={}){nt(sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(vn),{hash:i,pathname:a,search:l}=Kl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:jr([t,a])),r.createHref({pathname:c,search:l,hash:i})}function sa(){return O.useContext(Wl)!=null}function js(){return nt(sa(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Wl).location}var ux="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cx(n){O.useContext(vn).static||O.useLayoutEffect(n)}function Wr(){let{isDataRoute:n}=O.useContext(Rn);return n?sP():KO()}function KO(){nt(sa(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(ra),{basename:e,navigator:t}=O.useContext(vn),{matches:r}=O.useContext(Rn),{pathname:i}=js(),a=JSON.stringify(jg(r)),l=O.useRef(!1);return cx(()=>{l.current=!0}),O.useCallback((d,f={})=>{if(On(l.current,ux),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=Lg(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:jr([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,a,i,n])}var VO=O.createContext(null);function HO(n){let e=O.useContext(Rn).outlet;return O.useMemo(()=>e&&O.createElement(VO.Provider,{value:n},e),[e,n])}function _d(){let{matches:n}=O.useContext(Rn),e=n[n.length-1];return e?e.params:{}}function Kl(n,{relative:e}={}){let{matches:t}=O.useContext(Rn),{pathname:r}=js(),i=JSON.stringify(jg(t));return O.useMemo(()=>Lg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function qO(n,e){return dx(n,e)}function dx(n,e,t,r,i){var C;nt(sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(vn),{matches:l}=O.useContext(Rn),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",m=c&&c.route;{let E=m&&m.path||"";fx(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=js(),_;if(e){let E=typeof e=="string"?na(e):e;nt(g==="/"||((C=E.pathname)==null?void 0:C.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),_=E}else _=v;let w=_.pathname||"/",S=w;if(g!=="/"){let E=g.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=ex(n,{pathname:S});On(m||x!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),On(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=XO(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:jr([g,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:jr([g,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,t,r,i);return e&&k?O.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function JO(){let n=rP(),e=IO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:i},t):null,l)}var GO=O.createElement(JO,null),hx=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=BO(n.digest);t&&(n=t)}let e=n!==void 0?O.createElement(Rn.Provider,{value:this.props.routeContext},O.createElement(Mg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?O.createElement(QO,{error:n},e):e}};hx.contextType=LO;var Kf=new WeakMap;function QO({children:n,error:e}){let{basename:t}=O.useContext(vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=zO(e.digest);if(r){let i=Kf.get(e);if(i)throw i;let a=ix(r.location,t);if(sx&&!Kf.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Kf.set(e,l),l}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function YO({routeContext:n,match:e,children:t}){let r=O.useContext(ra);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Rn.Provider,{value:n},t)}function XO(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let g=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,d=-1;if(t)for(let g=0;g<a.length;g++){let m=a[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=g),m.route.id){let{loaderData:v,errors:_}=t,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=t&&r?(g,m)=>{var v,_;r(g,{location:t.location,params:((_=(v=t.matches)==null?void 0:v[0])==null?void 0:_.params)??{},unstable_pattern:DO(t.matches),errorInfo:m})}:void 0;return a.reduceRight((g,m,v)=>{let _,w=!1,S=null,x=null;t&&(_=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||GO,c&&(d<0&&v===0?(fx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):d===v&&(w=!0,x=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,v+1)),C=()=>{let E;return _?E=S:w?E=x:m.route.Component?E=O.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=g,O.createElement(YO,{match:m,routeContext:{outlet:g,matches:k,isDataRoute:t!=null},children:E})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?O.createElement(hx,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):C()},null)}function $g(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZO(n){let e=O.useContext(ra);return nt(e,$g(n)),e}function eP(n){let e=O.useContext(vd);return nt(e,$g(n)),e}function tP(n){let e=O.useContext(Rn);return nt(e,$g(n)),e}function Fg(n){let e=tP(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nP(){return Fg("useRouteId")}function rP(){var r;let n=O.useContext(Mg),e=eP("useRouteError"),t=Fg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function sP(){let{router:n}=ZO("useNavigate"),e=Fg("useNavigate"),t=O.useRef(!1);return cx(()=>{t.current=!0}),O.useCallback(async(i,a={})=>{On(t.current,ux),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var _w={};function fx(n,e,t){!e&&!_w[n]&&(_w[n]=!0,On(!1,t))}O.memo(iP);function iP({routes:n,future:e,state:t,onError:r}){return dx(n,void 0,t,r,e)}function px({to:n,replace:e,state:t,relative:r}){nt(sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(vn);On(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Rn),{pathname:l}=js(),c=Wr(),d=Lg(n,jg(a),l,r==="path"),f=JSON.stringify(d);return O.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function Jc(n){return HO(n.context)}function En(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){nt(!sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[c,i,a,l]);typeof t=="string"&&(t=na(t));let{pathname:f="/",search:g="",hash:m="",state:v=null,key:_="default"}=t,w=O.useMemo(()=>{let S=$r(f,c);return S==null?null:{location:{pathname:S,search:g,hash:m,state:v,key:_},navigationType:r}},[c,f,g,m,v,_,r]);return On(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(vn.Provider,{value:d},O.createElement(Wl.Provider,{children:e,value:w}))}function aP({children:n,location:e}){return qO(zp(n),e)}function zp(n,e=[]){let t=[];return O.Children.forEach(n,(r,i)=>{if(!O.isValidElement(r))return;let a=[...e,i];if(r.type===O.Fragment){t.push.apply(t,zp(r.props.children,a));return}nt(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=zp(r.props.children,a)),t.push(l)}),t}var Ac="get",Ic="application/x-www-form-urlencoded";function wd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function lP(n){return wd(n)&&n.tagName.toLowerCase()==="button"}function uP(n){return wd(n)&&n.tagName.toLowerCase()==="form"}function cP(n){return wd(n)&&n.tagName.toLowerCase()==="input"}function dP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hP(n,e){return n.button===0&&(!e||e==="_self")&&!dP(n)}var yc=null;function fP(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var pP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vf(n){return n!=null&&!pP.has(n)?(On(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):n}function gP(n,e){let t,r,i,a,l;if(uP(n)){let c=n.getAttribute("action");r=c?$r(c,e):null,t=n.getAttribute("method")||Ac,i=Vf(n.getAttribute("enctype"))||Ic,a=new FormData(n)}else if(lP(n)||cP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?$r(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Ac,i=Vf(n.getAttribute("formenctype"))||Vf(c.getAttribute("enctype"))||Ic,a=new FormData(c,n),!fP()){let{name:f,type:g,value:m}=n;if(g==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(wd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ac,r=null,i=Ic,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ug(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mP(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&$r(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function yP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _P(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await yP(a,t);return l.links?l.links():[]}return[]}));return bP(r.flat(1).filter(vP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ww(n,e,t,r,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{var m;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function wP(n,e,{includeHydrateFallback:t}={}){return SP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function SP(n){return[...new Set(n)]}function xP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bP(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(xP(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function gx(){let n=O.useContext(ra);return Ug(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kP(){let n=O.useContext(vd);return Ug(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zg=O.createContext(void 0);zg.displayName="FrameworkContext";function mx(){let n=O.useContext(zg);return Ug(n,"You must render this element inside a <HydratedRouter> element"),n}function EP(n,e){let t=O.useContext(zg),[r,i]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:m}=e,v=O.useRef(null);O.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=k=>{k.forEach(C=>{l(C.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),O.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,v,{}]:[a,v,{onFocus:nl(c,_),onBlur:nl(d,w),onMouseEnter:nl(f,_),onMouseLeave:nl(g,w),onTouchStart:nl(m,_)}]:[!1,v,{}]}function nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function CP({page:n,...e}){let{router:t}=gx(),r=O.useMemo(()=>ex(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(NP,{page:n,matches:r,...e}):null}function TP(n){let{manifest:e,routeModules:t}=mx(),[r,i]=O.useState([]);return O.useEffect(()=>{let a=!1;return _P(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function NP({page:n,matches:e,...t}){let r=js(),{manifest:i,routeModules:a}=mx(),{basename:l}=gx(),{loaderData:c,matches:d}=kP(),f=O.useMemo(()=>ww(n,e,d,i,r,"data"),[n,e,d,i,r]),g=O.useMemo(()=>ww(n,e,d,i,r,"assets"),[n,e,d,i,r]),m=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(k=>{var E;let C=i.routes[k.route.id];!C||!C.hasLoader||(!f.some(N=>N.route.id===k.route.id)&&k.route.id in c&&((E=a[k.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?S=!0:w.add(k.route.id))}),w.size===0)return[];let x=mP(n,l,"data");return S&&w.size>0&&x.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[x.pathname+x.search]},[l,c,r,i,f,e,n,a]),v=O.useMemo(()=>wP(g,i),[g,i]),_=TP(g);return O.createElement(O.Fragment,null,m.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:S})=>O.createElement("link",{key:w,nonce:t.nonce,...S})))}function OP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var PP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PP&&(window.__reactRouterVersion="7.11.0")}catch{}function RP({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=O.useRef();i.current==null&&(i.current=uO({window:r,v5Compat:!0}));let a=i.current,[l,c]=O.useState({action:a.action,location:a.location}),d=O.useCallback(f=>{t===!1?c(f):O.startTransition(()=>c(f))},[t]);return O.useLayoutEffect(()=>a.listen(d),[a,d]),O.createElement(oP,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nl=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:v,..._},w){let{basename:S,unstable_useTransitions:x}=O.useContext(vn),k=typeof f=="string"&&yx.test(f),C=ix(f,S);f=C.to;let E=WO(f,{relative:i}),[N,M,D]=EP(r,_),U=DP(f,{replace:l,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x});function j(K){e&&e(K),K.defaultPrevented||U(K)}let z=O.createElement("a",{..._,...D,href:C.absoluteURL||E,onClick:C.isExternal||a?e:j,ref:OP(w,M),target:d,"data-discover":!k&&t==="render"?"true":void 0});return N&&!k?O.createElement(O.Fragment,null,z,O.createElement(CP,{page:E})):z});Nl.displayName="Link";var Dc=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},g){let m=Kl(l,{relative:f.relative}),v=js(),_=O.useContext(vd),{navigator:w,basename:S}=O.useContext(vn),x=_!=null&&FP(m)&&c===!0,k=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,C=v.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(C=C.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&S&&(E=$r(E,S)||E);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let M=C===k||!i&&C.startsWith(k)&&C.charAt(N)==="/",D=E!=null&&(E===k||!i&&E.startsWith(k)&&E.charAt(k.length)==="/"),U={isActive:M,isPending:D,isTransitioning:x},j=M?e:void 0,z;typeof r=="function"?z=r(U):z=[r,M?"active":null,D?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(U):a;return O.createElement(Nl,{...f,"aria-current":j,className:z,ref:g,style:K,to:l,viewTransition:c},typeof d=="function"?d(U):d)});Dc.displayName="NavLink";var AP=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Ac,action:c,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:v,..._},w)=>{let{unstable_useTransitions:S}=O.useContext(vn),x=MP(),k=$P(c,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&yx.test(c),N=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,U=(D==null?void 0:D.getAttribute("formmethod"))||l,j=()=>x(D||M.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:a,relative:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:v});S&&t!==!1?O.startTransition(()=>j()):j()};return O.createElement("form",{ref:w,method:C,action:k,onSubmit:r?d:N,..._,"data-discover":!E&&n==="render"?"true":void 0})});AP.displayName="Form";function IP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vx(n){let e=O.useContext(ra);return nt(e,IP(n)),e}function DP(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=Wr(),g=js(),m=Kl(n,{relative:a});return O.useCallback(v=>{if(hP(v,e)){v.preventDefault();let _=t!==void 0?t:Tl(g)===Tl(m),w=()=>f(n,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});d?O.startTransition(()=>w()):w()}},[g,f,m,t,r,e,n,i,a,l,c,d])}var jP=0,LP=()=>`__${String(++jP)}__`;function MP(){let{router:n}=vx("useSubmit"),{basename:e}=O.useContext(vn),t=nP(),r=n.fetch,i=n.navigate;return O.useCallback(async(a,l={})=>{let{action:c,method:d,encType:f,formData:g,body:m}=gP(a,e);if(l.navigate===!1){let v=l.fetcherKey||LP();await r(v,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function $P(n,{relative:e}={}){let{basename:t}=O.useContext(vn),r=O.useContext(Rn);nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Kl(n||".",{relative:e})},l=js();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:jr([t,a.pathname])),Tl(a)}function FP(n,{relative:e}={}){let t=O.useContext(ax);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vx("useViewTransitionState"),i=Kl(n,{relative:e});if(!t.isTransitioning)return!1;let a=$r(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=$r(t.nextLocation.pathname,r)||t.nextLocation.pathname;return qc(i.pathname,l)!=null||qc(i.pathname,a)!=null}var Sw=wS();/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),xw=n=>{const e=zP(n);return e.charAt(0).toUpperCase()+e.slice(1)},_x=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),BP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>O.createElement("svg",{ref:d,...WP,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:_x("lucide",i),...!a&&!BP(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,g])=>O.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=(n,e)=>{const t=O.forwardRef(({className:r,...i},a)=>O.createElement(KP,{ref:a,iconNode:e,className:_x(`lucide-${UP(xw(n))}`,`lucide-${n}`,r),...i}));return t.displayName=xw(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wx=Qn("chevron-left",VP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sx=Qn("file-text",HP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],JP=Qn("log-in",qP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],QP=Qn("pin",GP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bp=Qn("plus",YP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZP=Qn("search",XP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tR=Qn("settings",eR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rR=Qn("shield",nR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],iR=Qn("smartphone",sR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xx=Qn("trash-2",oR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lR=Qn("zap",aR);function bw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function uR(...n){return e=>{let t=!1;const r=n.map(i=>{const a=bw(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():bw(n[i],null)}}}}var cR=Symbol.for("react.lazy"),Gc=FC[" use ".trim().toString()];function dR(n){return typeof n=="object"&&n!==null&&"then"in n}function bx(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===cR&&"_payload"in n&&dR(n._payload)}function hR(n){const e=pR(n),t=O.forwardRef((r,i)=>{let{children:a,...l}=r;bx(a)&&typeof Gc=="function"&&(a=Gc(a._payload));const c=O.Children.toArray(a),d=c.find(mR);if(d){const f=d.props.children,g=c.map(m=>m===d?O.Children.count(f)>1?O.Children.only(null):O.isValidElement(f)?f.props.children:null:m);return A.jsx(e,{...l,ref:i,children:O.isValidElement(f)?O.cloneElement(f,void 0,g):null})}return A.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var fR=hR("Slot");function pR(n){const e=O.forwardRef((t,r)=>{let{children:i,...a}=t;if(bx(i)&&typeof Gc=="function"&&(i=Gc(i._payload)),O.isValidElement(i)){const l=vR(i),c=yR(a,i.props);return i.type!==O.Fragment&&(c.ref=r?uR(r,l):l),O.cloneElement(i,c)}return O.Children.count(i)>1?O.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var gR=Symbol("radix.slottable");function mR(n){return O.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===gR}function yR(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function vR(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function kx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=kx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ex(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=kx(n))&&(r&&(r+=" "),r+=e);return r}const kw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Ew=Ex,_R=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Ew(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(f=>{const g=t==null?void 0:t[f],m=a==null?void 0:a[f];if(g===null)return null;const v=kw(g)||kw(m);return i[f][v]}),c=t&&Object.entries(t).reduce((f,g)=>{let[m,v]=g;return v===void 0||(f[m]=v),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:m,className:v,..._}=g;return Object.entries(_).every(w=>{let[S,x]=w;return Array.isArray(x)?x.includes({...a,...c}[S]):{...a,...c}[S]===x})?[...f,m,v]:f},[]);return Ew(n,l,d,t==null?void 0:t.class,t==null?void 0:t.className)},wR=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},SR=(n,e)=>({classGroupId:n,validator:e}),Cx=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Qc="-",Cw=[],xR="arbitrary..",bR=n=>{const e=ER(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return kR(l);const c=l.split(Qc),d=c[0]===""&&c.length>1?1:0;return Tx(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=t[l];return d?f?wR(f,d):d:f||Cw}return t[l]||Cw}}},Tx=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const i=n[e],a=t.nextPart.get(i);if(a){const f=Tx(n,e+1,a);if(f)return f}const l=t.validators;if(l===null)return;const c=e===0?n.join(Qc):n.slice(e).join(Qc),d=l.length;for(let f=0;f<d;f++){const g=l[f];if(g.validator(c))return g.classGroupId}},kR=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?xR+r:void 0})(),ER=n=>{const{theme:e,classGroups:t}=n;return CR(t,e)},CR=(n,e)=>{const t=Cx();for(const r in n){const i=n[r];Bg(i,t,r,e)}return t},Bg=(n,e,t,r)=>{const i=n.length;for(let a=0;a<i;a++){const l=n[a];TR(l,e,t,r)}},TR=(n,e,t,r)=>{if(typeof n=="string"){NR(n,e,t);return}if(typeof n=="function"){OR(n,e,t,r);return}PR(n,e,t,r)},NR=(n,e,t)=>{const r=n===""?e:Nx(e,n);r.classGroupId=t},OR=(n,e,t,r)=>{if(RR(n)){Bg(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(SR(t,n))},PR=(n,e,t,r)=>{const i=Object.entries(n),a=i.length;for(let l=0;l<a;l++){const[c,d]=i[l];Bg(d,Nx(e,c),t,r)}},Nx=(n,e)=>{let t=n;const r=e.split(Qc),i=r.length;for(let a=0;a<i;a++){const l=r[a];let c=t.nextPart.get(l);c||(c=Cx(),t.nextPart.set(l,c)),t=c}return t},RR=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,AR=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const i=(a,l)=>{t[a]=l,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let l=t[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return i(a,l),l},set(a,l){a in t?t[a]=l:i(a,l)}}},Wp="!",Tw=":",IR=[],Nw=(n,e,t,r,i)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:i}),DR=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let l=0,c=0,d=0,f;const g=i.length;for(let S=0;S<g;S++){const x=i[S];if(l===0&&c===0){if(x===Tw){a.push(i.slice(d,S)),d=S+1;continue}if(x==="/"){f=S;continue}}x==="["?l++:x==="]"?l--:x==="("?c++:x===")"&&c--}const m=a.length===0?i:i.slice(d);let v=m,_=!1;m.endsWith(Wp)?(v=m.slice(0,-1),_=!0):m.startsWith(Wp)&&(v=m.slice(1),_=!0);const w=f&&f>d?f-d:void 0;return Nw(a,_,v,w)};if(e){const i=e+Tw,a=r;r=l=>l.startsWith(i)?a(l.slice(i.length)):Nw(IR,!1,l,void 0,!0)}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},jR=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let i=[];for(let a=0;a<t.length;a++){const l=t[a],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},LR=n=>({cache:AR(n.cacheSize),parseClassName:DR(n),sortModifiers:jR(n),...bR(n)}),MR=/\s+/,$R=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],c=n.trim().split(MR);let d="";for(let f=c.length-1;f>=0;f-=1){const g=c[f],{isExternal:m,modifiers:v,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:S}=t(g);if(m){d=g+(d.length>0?" "+d:d);continue}let x=!!S,k=r(x?w.substring(0,S):w);if(!k){if(!x){d=g+(d.length>0?" "+d:d);continue}if(k=r(w),!k){d=g+(d.length>0?" "+d:d);continue}x=!1}const C=v.length===0?"":v.length===1?v[0]:a(v).join(":"),E=_?C+Wp:C,N=E+k;if(l.indexOf(N)>-1)continue;l.push(N);const M=i(k,x);for(let D=0;D<M.length;++D){const U=M[D];l.push(E+U)}d=g+(d.length>0?" "+d:d)}return d},FR=(...n)=>{let e=0,t,r,i="";for(;e<n.length;)(t=n[e++])&&(r=Ox(t))&&(i&&(i+=" "),i+=r);return i},Ox=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Ox(n[r]))&&(t&&(t+=" "),t+=e);return t},UR=(n,...e)=>{let t,r,i,a;const l=d=>{const f=e.reduce((g,m)=>m(g),n());return t=LR(f),r=t.cache.get,i=t.cache.set,a=c,c(d)},c=d=>{const f=r(d);if(f)return f;const g=$R(d,t);return i(d,g),g};return a=l,(...d)=>a(FR(...d))},zR=[],_t=n=>{const e=t=>t[n]||zR;return e.isThemeGetter=!0,e},Px=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Rx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BR=/^\d+\/\d+$/,WR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,HR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_o=n=>BR.test(n),je=n=>!!n&&!Number.isNaN(Number(n)),ds=n=>!!n&&Number.isInteger(Number(n)),Hf=n=>n.endsWith("%")&&je(n.slice(0,-1)),xr=n=>WR.test(n),JR=()=>!0,GR=n=>KR.test(n)&&!VR.test(n),Ax=()=>!1,QR=n=>HR.test(n),YR=n=>qR.test(n),XR=n=>!ue(n)&&!ce(n),ZR=n=>ia(n,jx,Ax),ue=n=>Px.test(n),ti=n=>ia(n,Lx,GR),qf=n=>ia(n,sA,je),Ow=n=>ia(n,Ix,Ax),eA=n=>ia(n,Dx,YR),vc=n=>ia(n,Mx,QR),ce=n=>Rx.test(n),rl=n=>oa(n,Lx),tA=n=>oa(n,iA),Pw=n=>oa(n,Ix),nA=n=>oa(n,jx),rA=n=>oa(n,Dx),_c=n=>oa(n,Mx,!0),ia=(n,e,t)=>{const r=Px.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},oa=(n,e,t=!1)=>{const r=Rx.exec(n);return r?r[1]?e(r[1]):t:!1},Ix=n=>n==="position"||n==="percentage",Dx=n=>n==="image"||n==="url",jx=n=>n==="length"||n==="size"||n==="bg-size",Lx=n=>n==="length",sA=n=>n==="number",iA=n=>n==="family-name",Mx=n=>n==="shadow",oA=()=>{const n=_t("color"),e=_t("font"),t=_t("text"),r=_t("font-weight"),i=_t("tracking"),a=_t("leading"),l=_t("breakpoint"),c=_t("container"),d=_t("spacing"),f=_t("radius"),g=_t("shadow"),m=_t("inset-shadow"),v=_t("text-shadow"),_=_t("drop-shadow"),w=_t("blur"),S=_t("perspective"),x=_t("aspect"),k=_t("ease"),C=_t("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...N(),ce,ue],D=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],j=()=>[ce,ue,d],z=()=>[_o,"full","auto",...j()],K=()=>[ds,"none","subgrid",ce,ue],re=()=>["auto",{span:["full",ds,ce,ue]},ds,ce,ue],we=()=>[ds,"auto",ce,ue],fe=()=>["auto","min","max","fr",ce,ue],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ie=()=>["start","end","center","stretch","center-safe","end-safe"],Re=()=>["auto",...j()],Ne=()=>[_o,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],W=()=>[n,ce,ue],de=()=>[...N(),Pw,Ow,{position:[ce,ue]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",nA,ZR,{size:[ce,ue]}],q=()=>[Hf,rl,ti],ge=()=>["","none","full",f,ce,ue],ye=()=>["",je,rl,ti],Pe=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[je,Hf,Pw,Ow],Me=()=>["","none",w,ce,ue],ze=()=>["none",je,ce,ue],ut=()=>["none",je,ce,ue],Vr=()=>[je,ce,ue],Fs=()=>[_o,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xr],breakpoint:[xr],color:[JR],container:[xr],"drop-shadow":[xr],ease:["in","out","in-out"],font:[XR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xr],shadow:[xr],spacing:["px",je],text:[xr],"text-shadow":[xr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_o,ue,ce,x]}],container:["container"],columns:[{columns:[je,ue,ce,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[ds,"auto",ce,ue]}],basis:[{basis:[_o,"full","auto",c,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,_o,"auto","initial","none",ue]}],grow:[{grow:["",je,ce,ue]}],shrink:[{shrink:["",je,ce,ue]}],order:[{order:[ds,"first","last","none",ce,ue]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...Ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ie()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...Ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...Ie(),"baseline"]}],"place-self":[{"place-self":["auto",...Ie()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:Re()}],mx:[{mx:Re()}],my:[{my:Re()}],ms:[{ms:Re()}],me:[{me:Re()}],mt:[{mt:Re()}],mr:[{mr:Re()}],mb:[{mb:Re()}],ml:[{ml:Re()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ne()}],w:[{w:[c,"screen",...Ne()]}],"min-w":[{"min-w":[c,"screen","none",...Ne()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Ne()]}],h:[{h:["screen","lh",...Ne()]}],"min-h":[{"min-h":["screen","lh","none",...Ne()]}],"max-h":[{"max-h":["screen","lh",...Ne()]}],"font-size":[{text:["base",t,rl,ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,qf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hf,ue]}],"font-family":[{font:[tA,ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ce,ue]}],"line-clamp":[{"line-clamp":[je,"none",ce,qf]}],leading:[{leading:[a,...j()]}],"list-image":[{"list-image":["none",ce,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",ce,ti]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[je,"auto",ce,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ds,ce,ue],radial:["",ce,ue],conic:[ds,ce,ue]},rA,eA]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,ce,ue]}],"outline-w":[{outline:["",je,rl,ti]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,_c,vc]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,_c,vc]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[je,ti]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,_c,vc]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[je,ce,ue]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[ce,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,ue]}],filter:[{filter:["","none",ce,ue]}],blur:[{blur:Me()}],brightness:[{brightness:[je,ce,ue]}],contrast:[{contrast:[je,ce,ue]}],"drop-shadow":[{"drop-shadow":["","none",_,_c,vc]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",je,ce,ue]}],"hue-rotate":[{"hue-rotate":[je,ce,ue]}],invert:[{invert:["",je,ce,ue]}],saturate:[{saturate:[je,ce,ue]}],sepia:[{sepia:["",je,ce,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,ue]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[je,ce,ue]}],"backdrop-contrast":[{"backdrop-contrast":[je,ce,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,ce,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,ce,ue]}],"backdrop-invert":[{"backdrop-invert":["",je,ce,ue]}],"backdrop-opacity":[{"backdrop-opacity":[je,ce,ue]}],"backdrop-saturate":[{"backdrop-saturate":[je,ce,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",je,ce,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",ce,ue]}],ease:[{ease:["linear","initial",k,ce,ue]}],delay:[{delay:[je,ce,ue]}],animate:[{animate:["none",C,ce,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,ce,ue]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:ut()}],"scale-x":[{"scale-x":ut()}],"scale-y":[{"scale-y":ut()}],"scale-z":[{"scale-z":ut()}],"scale-3d":["scale-3d"],skew:[{skew:Vr()}],"skew-x":[{"skew-x":Vr()}],"skew-y":[{"skew-y":Vr()}],transform:[{transform:[ce,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fs()}],"translate-x":[{"translate-x":Fs()}],"translate-y":[{"translate-y":Fs()}],"translate-z":[{"translate-z":Fs()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,ue]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[je,rl,ti,qf]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aA=UR(oA);function ur(...n){return aA(Ex(n))}const lA=_R("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 touch-target",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mn=O.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?fR:"button";return A.jsx(l,{className:ur(lA({variant:e,size:t,className:n})),ref:a,...i})});mn.displayName="Button";function uA(){return A.jsxs("div",{className:"min-h-screen bg-background",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("div",{className:"h-16 w-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4",children:A.jsx(Sx,{className:"h-8 w-8 text-primary-foreground"})}),A.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl",children:"Notes"}),A.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-md mx-auto",children:"Capture ideas in 3 seconds. Simple notes with smart todo formatting."})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[A.jsx(mn,{asChild:!0,size:"lg",className:"min-w-[140px]",children:A.jsx(Nl,{to:"/login",children:"Get Started"})}),A.jsx(mn,{asChild:!0,variant:"outline",size:"lg",className:"min-w-[140px]",children:A.jsx(Nl,{to:"/demo",children:"Try Demo"})})]})]}),A.jsx("div",{className:"border-t bg-muted/30 py-16 px-4",children:A.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.jsx("h2",{className:"text-2xl font-semibold text-center mb-12",children:"Built for speed"}),A.jsxs("div",{className:"grid sm:grid-cols-3 gap-8",children:[A.jsx(Jf,{icon:A.jsx(lR,{className:"h-6 w-6"}),title:"Instant capture",description:"New note in one tap. No friction, no organization required."}),A.jsx(Jf,{icon:A.jsx(rR,{className:"h-6 w-6"}),title:"Secure by default",description:"Your notes are private. Passkey authentication coming soon."}),A.jsx(Jf,{icon:A.jsx(iR,{className:"h-6 w-6"}),title:"Mobile-first",description:"Designed for touch. Works great on any device."})]})]})}),A.jsx("footer",{className:"border-t py-8 px-4 text-center text-sm text-muted-foreground",children:A.jsx("p",{children:"Open source productivity app"})})]})}function Jf({icon:n,title:e,description:t}){return A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-xl flex items-center justify-center mx-auto mb-4 text-primary",children:n}),A.jsx("h3",{className:"font-medium mb-2",children:e}),A.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})}const Vl=O.forwardRef(({className:n,type:e,...t},r)=>A.jsx("input",{type:e,className:ur("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Vl.displayName="Input";function cA({length:n=6,onComplete:e,disabled:t}){const[r,i]=O.useState(Array(n).fill("")),a=O.useRef([]),l=(f,g)=>{var _;if(!/^\d*$/.test(g))return;const m=[...r];m[f]=g.slice(-1),i(m),g&&f<n-1&&((_=a.current[f+1])==null||_.focus());const v=m.join("");v.length===n&&e(v)},c=(f,g)=>{var m;g.key==="Backspace"&&!r[f]&&f>0&&((m=a.current[f-1])==null||m.focus())},d=f=>{f.preventDefault();const g=f.clipboardData.getData("text").slice(0,n);if(!/^\d+$/.test(g))return;const m=[...r];g.split("").forEach((v,_)=>{m[_]=v}),i(m),g.length===n&&e(g)};return A.jsx("div",{className:"flex gap-2 justify-center",children:r.map((f,g)=>A.jsx(Vl,{ref:m=>a.current[g]=m,type:"text",inputMode:"numeric",maxLength:1,value:f,onChange:m=>l(g,m.target.value),onKeyDown:m=>c(g,m),onPaste:d,disabled:t,className:ur("w-12 h-14 text-center text-2xl font-mono","focus:ring-2 focus:ring-primary")},g))})}function dA(){const[n,e]=O.useState("email"),[t,r]=O.useState(""),[i,a]=O.useState(!1),[l,c]=O.useState(null),{signInWithOtp:d,verifyOtp:f}=ZS(),g=Wr(),m=async _=>{_.preventDefault(),a(!0),c(null);const{error:w}=await d(t);if(w){c(w.message),a(!1);return}e("otp"),a(!1)},v=async _=>{a(!0),c(null);const{error:w}=await f(t,_);if(w){c(w.message),a(!1);return}g("/app")};return A.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:A.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("h1",{className:"text-2xl font-bold",children:"Notes"}),A.jsx("p",{className:"text-muted-foreground mt-2",children:n==="email"?"Enter your email to sign in":"Enter the code sent to your email"})]}),l&&A.jsx("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:l}),n==="email"?A.jsxs("form",{onSubmit:m,className:"space-y-4",children:[A.jsx(Vl,{type:"email",placeholder:"you@example.com",value:t,onChange:_=>r(_.target.value),required:!0,disabled:i,autoFocus:!0}),A.jsx(mn,{type:"submit",className:"w-full",disabled:i,children:i?"Sending...":"Continue"})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsx(cA,{onComplete:v,disabled:i}),A.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Didn't receive a code?"," ",A.jsx("button",{type:"button",onClick:()=>e("email"),className:"text-primary underline",children:"Try again"})]})]})]})})}function Rw(){if(typeof window>"u")return{isIOS:!1,isAndroid:!1,isMobile:!1,isHighDPI:!1,hasTouchScreen:!1,hasCoarsePointer:!1,hasFinePointer:!0,isPortrait:!0,isLandscape:!1};const n=navigator.userAgent;return{isIOS:/iPad|iPhone|iPod/.test(n),isAndroid:/Android/.test(n),isMobile:/Mobi|Android|iPhone|iPad|iPod/.test(n),isHighDPI:window.devicePixelRatio>=2,hasTouchScreen:"ontouchstart"in window||navigator.maxTouchPoints>0,hasCoarsePointer:window.matchMedia("(pointer: coarse)").matches,hasFinePointer:window.matchMedia("(pointer: fine)").matches,isPortrait:window.matchMedia("(orientation: portrait)").matches,isLandscape:window.matchMedia("(orientation: landscape)").matches}}function Sd(){const[n,e]=O.useState(Rw);return O.useEffect(()=>{const t=()=>e(Rw());window.addEventListener("resize",t),window.addEventListener("orientationchange",t);const r=window.matchMedia("(orientation: portrait)"),i=window.matchMedia("(pointer: coarse)");return r.addEventListener("change",t),i.addEventListener("change",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t),r.removeEventListener("change",t),i.removeEventListener("change",t)}},[]),n}async function hA(){const{data:{session:n}}=await To.auth.getSession();return{Authorization:`Bearer ${n==null?void 0:n.access_token}`,"Content-Type":"application/json"}}async function sl(n,e){const t=await hA(),r=await fetch(`/api${n}`,{...e,headers:{...t,...e==null?void 0:e.headers}});if(!r.ok){const i=await r.json();throw new Error(i.error||"Request failed")}return r.json()}const Hl={notes:{list:()=>sl("/notes"),get:n=>sl(`/notes/${n}`),create:n=>sl("/notes",{method:"POST",body:JSON.stringify(n)}),update:(n,e)=>sl(`/notes/${n}`,{method:"PATCH",body:JSON.stringify(e)}),delete:n=>sl(`/notes/${n}`,{method:"DELETE"})}};function fA(){return IS({queryKey:["notes"],queryFn:Hl.notes.list})}function pA(){const n=zl();return Og({mutationFn:Hl.notes.create,onSuccess:()=>{n.invalidateQueries({queryKey:["notes"]})}})}function gA(){const n=zl();return Og({mutationFn:Hl.notes.delete,onMutate:async e=>{await n.cancelQueries({queryKey:["notes"]});const t=n.getQueryData(["notes"]);return n.setQueryData(["notes"],r=>r==null?void 0:r.filter(i=>i.id!==e)),{previous:t}},onError:(e,t,r)=>{n.setQueryData(["notes"],r==null?void 0:r.previous)},onSettled:()=>{n.invalidateQueries({queryKey:["notes"]})}})}const wc=43200,Aw=1440,Iw=Symbol.for("constructDateFrom");function Wg(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Iw in n?n[Iw](e):n instanceof Date?new n.constructor(e):new Date(e)}function As(n,e){return Wg(n,n)}let mA={};function yA(){return mA}function Dw(n){const e=As(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Kg(n,...e){const t=Wg.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function jc(n,e){const t=+As(n)-+As(e);return t<0?-1:t>0?1:t}function vA(n){return Wg(n,Date.now())}function _A(n,e,t){const[r,i]=Kg(t==null?void 0:t.in,n,e),a=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return a*12+l}function wA(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function SA(n,e){return+As(n)-+As(e)}function xA(n,e){const t=As(n);return t.setHours(23,59,59,999),t}function bA(n,e){const t=As(n),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function kA(n,e){const t=As(n);return+xA(t)==+bA(t)}function EA(n,e,t){const[r,i,a]=Kg(t==null?void 0:t.in,n,n,e),l=jc(i,a),c=Math.abs(_A(i,a));if(c<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*c);let d=jc(i,a)===-l;kA(r)&&c===1&&jc(r,a)===1&&(d=!1);const f=l*(c-+d);return f===0?0:f}function CA(n,e,t){const r=SA(n,e)/1e3;return wA(t==null?void 0:t.roundingMethod)(r)}const TA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NA=(n,e,t)=>{let r;const i=TA[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Gf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const OA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AA={date:Gf({formats:OA,defaultWidth:"full"}),time:Gf({formats:PA,defaultWidth:"full"}),dateTime:Gf({formats:RA,defaultWidth:"full"})},IA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DA=(n,e,t,r)=>IA[n];function il(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const jA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$A={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zA=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},BA={ordinalNumber:zA,era:il({values:jA,defaultWidth:"wide"}),quarter:il({values:LA,defaultWidth:"wide",argumentCallback:n=>n-1}),month:il({values:MA,defaultWidth:"wide"}),day:il({values:$A,defaultWidth:"wide"}),dayPeriod:il({values:FA,defaultWidth:"wide",formattingValues:UA,defaultFormattingWidth:"wide"})};function ol(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(c)?KA(c,m=>m.test(l)):WA(c,m=>m.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const g=e.slice(l.length);return{value:f,rest:g}}}function WA(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function KA(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function VA(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const HA=/^(\d+)(th|st|nd|rd)?/i,qA=/\d+/i,JA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GA={any:[/^b/i,/^(a|c)/i]},QA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YA={any:[/1/i,/2/i,/3/i,/4/i]},XA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sI={ordinalNumber:VA({matchPattern:HA,parsePattern:qA,valueCallback:n=>parseInt(n,10)}),era:ol({matchPatterns:JA,defaultMatchWidth:"wide",parsePatterns:GA,defaultParseWidth:"any"}),quarter:ol({matchPatterns:QA,defaultMatchWidth:"wide",parsePatterns:YA,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ol({matchPatterns:XA,defaultMatchWidth:"wide",parsePatterns:ZA,defaultParseWidth:"any"}),day:ol({matchPatterns:eI,defaultMatchWidth:"wide",parsePatterns:tI,defaultParseWidth:"any"}),dayPeriod:ol({matchPatterns:nI,defaultMatchWidth:"any",parsePatterns:rI,defaultParseWidth:"any"})},iI={code:"en-US",formatDistance:NA,formatLong:AA,formatRelative:DA,localize:BA,match:sI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oI(n,e,t){const r=yA(),i=(t==null?void 0:t.locale)??r.locale??iI,a=2520,l=jc(n,e);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:l}),[d,f]=Kg(t==null?void 0:t.in,...l>0?[e,n]:[n,e]),g=CA(f,d),m=(Dw(f)-Dw(d))/1e3,v=Math.round((g-m)/60);let _;if(v<2)return t!=null&&t.includeSeconds?g<5?i.formatDistance("lessThanXSeconds",5,c):g<10?i.formatDistance("lessThanXSeconds",10,c):g<20?i.formatDistance("lessThanXSeconds",20,c):g<40?i.formatDistance("halfAMinute",0,c):g<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):v===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",v,c);if(v<45)return i.formatDistance("xMinutes",v,c);if(v<90)return i.formatDistance("aboutXHours",1,c);if(v<Aw){const w=Math.round(v/60);return i.formatDistance("aboutXHours",w,c)}else{if(v<a)return i.formatDistance("xDays",1,c);if(v<wc){const w=Math.round(v/Aw);return i.formatDistance("xDays",w,c)}else if(v<wc*2)return _=Math.round(v/wc),i.formatDistance("aboutXMonths",_,c)}if(_=EA(f,d),_<12){const w=Math.round(v/wc);return i.formatDistance("xMonths",w,c)}else{const w=_%12,S=Math.trunc(_/12);return w<3?i.formatDistance("aboutXYears",S,c):w<9?i.formatDistance("overXYears",S,c):i.formatDistance("almostXYears",S+1,c)}}function $x(n,e){return oI(n,vA(n),e)}function aI({note:n,onClick:e,isActive:t}){return A.jsxs("button",{onClick:e,className:ur("w-full text-left p-4 border-b border-border","hover:bg-accent/50 transition-colors","touch-target",t&&"bg-accent"),children:[A.jsx("h3",{className:"font-medium truncate",children:n.title||"Untitled"}),A.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:$x(new Date(n.updated_at),{addSuffix:!0})})]})}function Fx(){const{data:n,isLoading:e,error:t}=fA(),r=Wr(),{id:i}=_d();return e?A.jsx("div",{className:"flex items-center justify-center h-full",children:A.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):t?A.jsx("div",{className:"p-4 text-center text-destructive",children:"Failed to load notes"}):n!=null&&n.length?A.jsx("div",{className:"divide-y divide-border",children:n.map(a=>A.jsx(aI,{note:a,onClick:()=>r(`/app/note/${a.id}`),isActive:a.id===i},a.id))}):A.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notes yet. Create your first note!"})}function lI(){return A.jsxs("nav",{className:"fixed bottom-0 inset-x-0 h-16 border-t bg-background flex items-center justify-around pb-[env(safe-area-inset-bottom)]",children:[A.jsxs(Dc,{to:"/app",end:!0,className:({isActive:n})=>ur("flex flex-col items-center gap-1 p-2 touch-target",n?"text-primary":"text-muted-foreground"),children:[A.jsx(Sx,{className:"h-5 w-5"}),A.jsx("span",{className:"text-xs",children:"Notes"})]}),A.jsxs(Dc,{to:"/app/search",className:({isActive:n})=>ur("flex flex-col items-center gap-1 p-2 touch-target",n?"text-primary":"text-muted-foreground"),children:[A.jsx(ZP,{className:"h-5 w-5"}),A.jsx("span",{className:"text-xs",children:"Search"})]}),A.jsxs(Dc,{to:"/app/settings",className:({isActive:n})=>ur("flex flex-col items-center gap-1 p-2 touch-target",n?"text-primary":"text-muted-foreground"),children:[A.jsx(tR,{className:"h-5 w-5"}),A.jsx("span",{className:"text-xs",children:"Settings"})]})]})}function jw({onClick:n,className:e}){return A.jsx(mn,{onClick:n,size:"icon",className:ur("fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg","pb-[env(safe-area-inset-bottom)]",e),children:A.jsx(Bp,{className:"h-6 w-6"})})}function uI(){const{hasTouchScreen:n,isPortrait:e}=Sd(),t=pA(),r=Wr(),i=async()=>{const l=await t.mutateAsync({title:"Untitled"});r(`/app/note/${l.id}`)};return n&&e?A.jsxs("div",{className:"h-screen-safe flex flex-col bg-background",children:[A.jsx("header",{className:"h-14 flex items-center justify-between px-4 border-b",children:A.jsx("h1",{className:"text-lg font-semibold",children:"Notes"})}),A.jsx("main",{className:"flex-1 overflow-auto pb-20",children:A.jsx(Jc,{})}),A.jsx(lI,{}),A.jsx(jw,{onClick:i,className:"bottom-20"})]}):A.jsxs("div",{className:"h-screen-safe flex bg-background",children:[A.jsxs("aside",{className:"w-72 border-r flex flex-col",children:[A.jsx("header",{className:"h-14 flex items-center justify-between px-4 border-b",children:A.jsx("h1",{className:"text-lg font-semibold",children:"Notes"})}),A.jsx("div",{className:"flex-1 overflow-auto",children:A.jsx(Fx,{})})]}),A.jsx("main",{className:"flex-1 overflow-auto",children:A.jsx(Jc,{})}),A.jsx(jw,{onClick:i})]})}function cI(n){return IS({queryKey:["note",n],queryFn:()=>Hl.notes.get(n),enabled:!!n})}function dI(){const n=zl();return Og({mutationFn:({id:e,...t})=>Hl.notes.update(e,t),onMutate:async({id:e,...t})=>{await n.cancelQueries({queryKey:["note",e]});const r=n.getQueryData(["note",e]);return n.setQueryData(["note",e],i=>({...i,...t})),{previous:r}},onError:(e,{id:t},r)=>{n.setQueryData(["note",t],r==null?void 0:r.previous)},onSettled:(e,t,{id:r})=>{n.invalidateQueries({queryKey:["note",r]}),n.invalidateQueries({queryKey:["notes"]})}})}const Ux=O.createContext(null);function hI(n,e){return{getTheme:function(){return e??null}}}function Ls(){const n=O.useContext(Ux);return n==null&&(function(e,...t){const r=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",e);for(const a of t)i.append("v",a);throw r.search=i.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(8),n}function Q(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function zx(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);t.search=r.toString(),console.warn(`Minified Lexical warning #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Yn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,fI=Yn&&"documentMode"in document?document.documentMode:null,Vn=Yn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ci=Yn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Yc=!(!Yn||!("InputEvent"in window)||fI)&&"getTargetRanges"in new window.InputEvent("input"),ql=Yn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),aa=Yn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pI=Yn&&/Android/.test(navigator.userAgent),Bx=Yn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Lw=Yn&&pI&&Bx,Jl=Yn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&Vn&&!Bx;function Wx(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}const gI=0,mI=1,yI=2,Kx=128,vI=1,_I=2,wI=3,SI=4,xI=5,bI=6,xd=ql||aa||Jl?"":"",Is=`

`,kI=Ci?"":xd,Ti={bold:1,capitalize:1024,code:16,highlight:Kx,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},EI={directionless:1,unmergeable:2},Mw={center:2,end:6,justify:4,left:1,right:3,start:5},CI={[_I]:"center",[bI]:"end",[SI]:"justify",[vI]:"left",[wI]:"right",[xI]:"start"},TI={normal:0,segmented:2,token:1},NI={[gI]:"normal",[yI]:"segmented",[mI]:"token"},$w="$config";function Vx(n,e,t,r,i,a){let l=n.getFirstChild();for(;l!==null;){const c=l.__key;l.__parent===e&&(V(l)&&Vx(l,c,t,r,i,a),t.has(c)||a.delete(c),i.push(c)),l=l.getNextSibling()}}let Kp=!1,Vg=0;function OI(n){Vg=n.timeStamp}function Qf(n,e,t){const r=n.nodeName==="BR",i=e.__lexicalLineBreak;return i&&(n===i||r&&n.previousSibling===i)||r&&Nd(n,t)!==void 0}function PI(n,e,t){const r=Xn(An(t));let i=null,a=null;r!==null&&r.anchorNode===n&&(i=r.anchorOffset,a=r.focusOffset);const l=n.nodeValue;l!==null&&gm(e,l,i,a,!1)}function RI(n,e,t){if(X(n)){const r=n.anchor.getNode();if(r.is(t)&&n.format!==r.getFormat())return!1}return Kr(e)&&t.isAttached()}function AI(n,e,t,r){for(let i=n;i&&!$D(i);i=Zl(i)){const a=Nd(i,e);if(a!==void 0){const l=bt(a,t);if(l)return Ke(l)||!ft(i)?void 0:[i,l]}else if(i===r)return[r,Hb(t)]}}function Hx(n,e,t){Kp=!0;const r=performance.now()-Vg>100;try{cr(n,()=>{const i=oe()||(function(v){return v.getEditorState().read(()=>{const _=oe();return _!==null?_.clone():null})})(n),a=new Map,l=n.getRootElement(),c=n._editorState,d=n._blockCursorElement;let f=!1,g="";for(let v=0;v<e.length;v++){const _=e[v],w=_.type,S=_.target,x=AI(S,n,c,l);if(!x)continue;const[k,C]=x;if(w==="characterData")r&&ee(C)&&Kr(S)&&RI(i,S,C)&&PI(S,C,n);else if(w==="childList"){f=!0;const E=_.addedNodes;for(let D=0;D<E.length;D++){const U=E[D],j=Kb(U),z=U.parentNode;if(z!=null&&U!==d&&j===null&&!Qf(U,z,n)){if(Ci){const K=(ft(U)?U.innerText:null)||U.nodeValue;K&&(g+=K)}z.removeChild(U)}}const N=_.removedNodes,M=N.length;if(M>0){let D=0;for(let U=0;U<M;U++){const j=N[U];(Qf(j,S,n)||d===j)&&(S.appendChild(j),D++)}M!==D&&a.set(k,C)}}}if(a.size>0)for(const[v,_]of a)_.reconcileObservedMutation(v,n);const m=t.takeRecords();if(m.length>0){for(let v=0;v<m.length;v++){const _=m[v],w=_.addedNodes,S=_.target;for(let x=0;x<w.length;x++){const k=w[x],C=k.parentNode;C==null||k.nodeName!=="BR"||Qf(k,S,n)||C.removeChild(k)}}t.takeRecords()}i!==null&&(f&&an(i),Ci&&Qb(n)&&i.insertRawText(g))})}finally{Kp=!1}}function qx(n){const e=n._observer;e!==null&&Hx(n,e.takeRecords(),e)}function Jx(n){(function(e){Vg===0&&An(e).addEventListener("textInput",OI,!0)})(n),n._observer=new MutationObserver((e,t)=>{Hx(n,e,t)})}function II(n){const e=new Map,t=new Set;for(let r=typeof n=="function"?n:n.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:i}=Pd(r);if(i&&i.stateConfigs)for(const a of i.stateConfigs){let l;"stateConfig"in a?(l=a.stateConfig,a.flat&&t.add(l.key)):l=a,e.set(l.key,l)}}return{flatKeys:t,sharedConfigMap:e}}let DI=class Gx{constructor(e,t,r=void 0,i=new Map,a=void 0){H(this,"node");H(this,"knownState");H(this,"unknownState");H(this,"sharedNodeState");H(this,"size");this.node=e,this.sharedNodeState=t,this.unknownState=r,this.knownState=i;const{sharedConfigMap:l}=this.sharedNodeState,c=a!==void 0?a:(function(d,f,g){let m=g.size;if(f)for(const v in f){const _=d.get(v);_&&g.has(_)||m++}return m})(l,r,i);this.size=c}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const i=this.unknownState[e.key];i!==void 0&&(r=e.parse(i)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[r,i]of this.knownState)r.isEqual(i,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(i);for(const r of this.sharedNodeState.flatKeys)r in e&&(t[r]=e[r],delete e[r]);return Fw(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:r}=this,i=new Map(this.knownState);return new Gx(e,t,(function(a,l,c){let d;if(c)for(const[f,g]of Object.entries(c)){const m=a.get(f);m?l.has(m)||l.set(m,m.parse(g)):(d=d||{},d[f]=g)}return d})(t.sharedConfigMap,i,r),i,this.size)}updateFromKnown(e,t){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:i,unknownState:a}=this;i.has(e)||a&&r in a||(a&&(delete a[r],this.unknownState=Fw(a)),this.size++),i.set(e,t)}updateFromUnknown(e,t){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[r,i]of Object.entries(e))this.updateFromUnknown(r,i)}};function jI(n){const e=n.getWritable(),t=e.__state?e.__state.getWritable(e):new DI(e,Qx(e));return e.__state=t,t}function Qx(n){return n.__state?n.__state.sharedNodeState:Ub(vm(),n.getType()).sharedNodeState}function Fw(n){if(n)for(const e in n)return n}function Uw(n,e,t){for(const[r,i]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const a=t?t.getValue(r):r.defaultValue;if(a!==i&&!r.isEqual(a,i))return!0}return!1}function zw(n,e,t){const{unknownState:r}=e,i=t?t.unknownState:void 0;if(r){for(const[a,l]of Object.entries(r))if(!n.has(a)&&(n.add(a),l!==(i?i[a]:void 0)))return!0}return!1}function Bw(n,e){const t=n.__state;return t&&t.node===n?t.getWritable(e):t}function Ww(n,e){const t=n.__mode,r=n.__format,i=n.__style,a=e.__mode,l=e.__format,c=e.__style,d=n.__state,f=e.__state;return(t===null||t===a)&&(r===null||r===l)&&(i===null||i===c)&&(n.__state===null||d===f||(function(g,m){if(g===m)return!0;if(g&&m&&g.size!==m.size)return!1;const v=new Set;return!(g&&Uw(v,g,m)||m&&Uw(v,m,g)||g&&zw(v,g,m)||m&&zw(v,m,g))})(d,f))}function Kw(n,e){const t=n.mergeWithSibling(e),r=Ge()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function Vw(n){let e,t,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&ee(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Ww(e,r)){r=Kw(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&ee(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Ww(r,t)){r=Kw(r,t);break}break}t.remove()}}else r.remove()}function Xc(n){return Hw(n.anchor),Hw(n.focus),n}function Hw(n){for(;n.type==="element";){const e=n.getNode(),t=n.offset;let r,i;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),i=!0):(r=e.getChildAtIndex(t),i=!1),ee(r)){n.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!V(r))break;n.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}let Ni,Bt,Ol,bd,Vp,Hp,Oi,qn,qp,Pl,xt="",sr=null,si=null,Or="",No=!1,Zc=!1;function ed(n,e){const t=Oi.get(n);if(e!==null){const r=Yp(n);r.parentNode===e&&e.removeChild(r)}if(qn.has(n)||Bt._keyToDOMMap.delete(n),V(t)){const r=nd(t,Oi);Jp(r,0,r.length-1,null)}t!==void 0&&mm(Pl,Ol,bd,t,"destroyed")}function Jp(n,e,t,r){let i=e;for(;i<=t;++i){const a=n[i];a!==void 0&&ed(a,r)}}function ni(n,e){n.setProperty("text-align",e)}const LI="40px";function Yx(n,e){const t=Ni.theme.indent;if(typeof t=="string"){const i=n.classList.contains(t);e>0&&!i?n.classList.add(t):e<1&&i&&n.classList.remove(t)}const r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||LI;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function Xx(n,e){const t=n.style;e===0?ni(t,""):e===1?ni(t,"left"):e===2?ni(t,"center"):e===3?ni(t,"right"):e===4?ni(t,"justify"):e===5?ni(t,"start"):e===6&&ni(t,"end")}function Gp(n,e){const t=(function(r){const i=r.__dir;if(i!==null)return i;if(mt(r))return null;const a=r.getParentOrThrow();return mt(a)&&a.__dir===null?"auto":null})(e);t!==null?n.dir=t:n.removeAttribute("dir")}function td(n,e){const t=qn.get(n);t===void 0&&Q(60);const r=t.createDOM(Ni,Bt);if((function(i,a,l){const c=l._keyToDOMMap;(function(d,f,g){const m=`__lexicalKey_${f._key}`;d[m]=g})(a,l,i),c.set(i,a)})(n,r,Bt),ee(t)?r.setAttribute("data-lexical-text","true"):Ke(t)&&r.setAttribute("data-lexical-decorator","true"),V(t)){const i=t.__indent,a=t.__size;if(Gp(r,t),i!==0&&Yx(r,i),a!==0){const c=a-1;Qp(nd(t,qn),t,0,c,t.getDOMSlot(r))}const l=t.__format;l!==0&&Xx(r,l),t.isInline()||Zx(null,t,r),Od(t)&&(xt+=Is,Or+=Is)}else{const i=t.getTextContent();if(Ke(t)){const a=t.decorate(Bt,Ni);a!==null&&eb(n,a),r.contentEditable="false"}xt+=i,Or+=i}return e!==null&&e.insertChild(r),mm(Pl,Ol,bd,t,"created"),r}function Qp(n,e,t,r,i){const a=xt;xt="";let l=t;for(;l<=r;++l){td(n[l],i);const c=qn.get(n[l]);c!==null&&ee(c)&&sr===null&&(sr=c.getFormat(),si=c.getStyle())}Od(e)&&(xt+=Is),i.element.__lexicalTextContent=xt,xt=a+xt}function qw(n,e){if(n){const t=n.__last;if(t){const r=e.get(t);if(r)return Mo(r)?"line-break":Ke(r)&&r.isInline()?"decorator":null}return"empty"}return null}function Zx(n,e,t){const r=qw(n,Oi),i=qw(e,qn);r!==i&&e.getDOMSlot(t).setManagedLineBreak(i)}function MI(n,e,t){var r;sr=null,si=null,(function(i,a,l){const c=xt,d=i.__size,f=a.__size;xt="";const g=l.element;if(d===1&&f===1){const m=i.__first,v=a.__first;if(m===v)dl(m,g);else{const w=Yp(m),S=td(v,null);try{g.replaceChild(S,w)}catch(x){if(typeof x=="object"&&x!=null){const k=`${x.toString()} Parent: ${g.tagName}, new child: {tag: ${S.tagName} key: ${v}}, old child: {tag: ${w.tagName}, key: ${m}}.`;throw new Error(k)}throw x}ed(m,null)}const _=qn.get(v);ee(_)&&sr===null&&(sr=_.getFormat(),si=_.getStyle())}else{const m=nd(i,Oi),v=nd(a,qn);if(m.length!==d&&Q(227),v.length!==f&&Q(228),d===0)f!==0&&Qp(v,a,0,f-1,l);else if(f===0){if(d!==0){const _=l.after==null&&l.before==null&&l.element.__lexicalLineBreak==null;Jp(m,0,d-1,_?null:g),_&&(g.textContent="")}}else(function(_,w,S,x,k,C){const E=x-1,N=k-1;let M,D,U=C.getFirstChild(),j=0,z=0;for(;j<=E&&z<=N;){const we=w[j],fe=S[z];if(we===fe)U=Yf(dl(fe,C.element)),j++,z++;else{M===void 0&&(M=new Set(w)),D===void 0&&(D=new Set(S));const Ie=D.has(we),Re=M.has(fe);if(Ie)if(Re){const Ne=Ai(Bt,fe);Ne===U?U=Yf(dl(fe,C.element)):(C.withBefore(U).insertChild(Ne),dl(fe,C.element)),j++,z++}else td(fe,C.withBefore(U)),z++;else U=Yf(Yp(we)),ed(we,C.element),j++}const Te=qn.get(fe);Te!==null&&ee(Te)&&sr===null&&(sr=Te.getFormat(),si=Te.getStyle())}const K=j>E,re=z>N;if(K&&!re){const we=S[N+1],fe=we===void 0?null:Bt.getElementByKey(we);Qp(S,_,z,N,C.withBefore(fe))}else re&&!K&&Jp(w,j,E,C.element)})(a,m,v,d,f,l)}Od(a)&&(xt+=Is),g.__lexicalTextContent=xt,xt=c+xt})(n,e,e.getDOMSlot(t)),r=e,sr==null||sr===r.__textFormat||Zc||r.setTextFormat(sr),(function(i){si==null||si===i.__textStyle||Zc||i.setTextStyle(si)})(e)}function nd(n,e){const t=[];let r=n.__first;for(;r!==null;){const i=e.get(r);i===void 0&&Q(101),t.push(r),r=i.__next}return t}function dl(n,e){const t=Oi.get(n);let r=qn.get(n);t!==void 0&&r!==void 0||Q(61);const i=No||Hp.has(n)||Vp.has(n),a=Ai(Bt,n);if(t===r&&!i){if(V(t)){const l=a.__lexicalTextContent;l!==void 0&&(xt+=l,Or+=l)}else{const l=t.getTextContent();Or+=l,xt+=l}return a}if(t!==r&&i&&mm(Pl,Ol,bd,r,"updated"),r.updateDOM(t,a,Ni)){const l=td(n,null);return e===null&&Q(62),e.replaceChild(l,a),ed(n,null),l}if(V(t)&&V(r)){const l=r.__indent;(No||l!==t.__indent)&&Yx(a,l);const c=r.__format;if((No||c!==t.__format)&&Xx(a,c),i&&(MI(t,r,a),mt(r)||r.isInline()||Zx(t,r,a)),Od(r)&&(xt+=Is,Or+=Is),(No||r.__dir!==t.__dir)&&(Gp(a,r),mt(r)&&!No))for(const d of r.getChildren())V(d)&&Gp(Ai(Bt,d.getKey()),d)}else{const l=r.getTextContent();if(Ke(r)){const c=r.decorate(Bt,Ni);c!==null&&eb(n,c)}xt+=l,Or+=l}if(!Zc&&mt(r)&&r.__cachedText!==Or){const l=r.getWritable();l.__cachedText=Or,r=l}return a}function eb(n,e){let t=Bt._pendingDecorators;const r=Bt._decorators;if(t===null){if(r[n]===e)return;t=Vb(Bt)}t[n]=e}function Yf(n){let e=n.nextSibling;return e!==null&&e===Bt._blockCursorElement&&(e=e.nextSibling),e}function $I(n,e,t,r,i,a){xt="",Or="",No=r===2,Bt=t,Ni=t._config,Ol=t._nodes,bd=Bt._listeners.mutation,Vp=i,Hp=a,Oi=n._nodeMap,qn=e._nodeMap,Zc=e._readOnly,qp=new Map(t._keyToDOMMap);const l=new Map;return Pl=l,dl("root",null),Bt=void 0,Ol=void 0,Vp=void 0,Hp=void 0,Oi=void 0,qn=void 0,Ni=void 0,qp=void 0,Pl=void 0,l}function Yp(n){const e=qp.get(n);return e===void 0&&Q(75,n),e}function _e(n){return{type:n}}const tb=_e("SELECTION_CHANGE_COMMAND"),FI=_e("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),nb=_e("CLICK_COMMAND"),rb=_e("BEFORE_INPUT_COMMAND"),sb=_e("INPUT_COMMAND"),ib=_e("COMPOSITION_START_COMMAND"),ob=_e("COMPOSITION_END_COMMAND"),wi=_e("DELETE_CHARACTER_COMMAND"),Do=_e("INSERT_LINE_BREAK_COMMAND"),Rl=_e("INSERT_PARAGRAPH_COMMAND"),jo=_e("CONTROLLED_TEXT_INSERTION_COMMAND"),Hg=_e("PASTE_COMMAND"),Xp=_e("REMOVE_TEXT_COMMAND"),Al=_e("DELETE_WORD_COMMAND"),Il=_e("DELETE_LINE_COMMAND"),Es=_e("FORMAT_TEXT_COMMAND"),qg=_e("UNDO_COMMAND"),Jg=_e("REDO_COMMAND"),ab=_e("KEYDOWN_COMMAND"),lb=_e("KEY_ARROW_RIGHT_COMMAND"),UI=_e("MOVE_TO_END"),Gg=_e("KEY_ARROW_LEFT_COMMAND"),zI=_e("MOVE_TO_START"),Qg=_e("KEY_ARROW_UP_COMMAND"),Yg=_e("KEY_ARROW_DOWN_COMMAND"),rd=_e("KEY_ENTER_COMMAND"),Xg=_e("KEY_SPACE_COMMAND"),ub=_e("KEY_BACKSPACE_COMMAND"),Zg=_e("KEY_ESCAPE_COMMAND"),cb=_e("KEY_DELETE_COMMAND"),db=_e("KEY_TAB_COMMAND"),BI=_e("INSERT_TAB_COMMAND"),WI=_e("INDENT_CONTENT_COMMAND"),Jw=_e("OUTDENT_CONTENT_COMMAND"),hb=_e("DROP_COMMAND"),KI=_e("FORMAT_ELEMENT_COMMAND"),fb=_e("DRAGSTART_COMMAND"),pb=_e("DRAGOVER_COMMAND"),VI=_e("DRAGEND_COMMAND"),kd=_e("COPY_COMMAND"),em=_e("CUT_COMMAND"),Zp=_e("SELECT_ALL_COMMAND"),HI=_e("CLEAR_EDITOR_COMMAND"),qI=_e("CLEAR_HISTORY_COMMAND"),Sc=_e("CAN_REDO_COMMAND"),xc=_e("CAN_UNDO_COMMAND"),JI=_e("FOCUS_COMMAND"),GI=_e("BLUR_COMMAND"),QI=_e("KEY_MODIFIER_COMMAND"),br=Object.freeze({}),eg=[["keydown",function(n,e){Dl=n.timeStamp,gb=n.key,!e.isComposing()&&se(e,ab,n)}],["pointerdown",function(n,e){const t=n.target,r=n.pointerType;fa(t)&&r!=="touch"&&r!=="pen"&&n.button===0&&cr(e,()=>{zb(t)||(rg=!0)})}],["compositionstart",function(n,e){se(e,ib,n)}],["compositionend",function(n,e){Ci?hl=!0:aa||!ql&&!Jl?se(e,ob,n):(sg=!0,ig=n.data)}],["input",function(n,e){n.stopPropagation(),cr(e,()=>{e.dispatchCommand(sb,n)},{event:n}),Oo=null}],["click",function(n,e){cr(e,()=>{const t=oe(),r=Xn(An(e)),i=ca();if(r){if(X(t)){const a=t.anchor,l=a.getNode();if(a.type==="element"&&a.offset===0&&t.isCollapsed()&&!mt(l)&&ht().getChildrenSize()===1&&l.getTopLevelElementOrThrow().isEmpty()&&i!==null&&t.is(i))r.removeAllRanges(),t.dirty=!0;else if(n.detail===3&&!t.isCollapsed()&&l!==t.focus.getNode()){const c=Lr(l,d=>V(d)&&!d.isInline());V(c)&&c.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){const a=r.anchorNode;(ft(a)||Kr(a))&&an(nm(i,r,e,n))}}se(e,nb,n)})}],["cut",br],["copy",br],["dragstart",br],["dragover",br],["dragend",br],["paste",br],["focus",br],["blur",br],["drop",br]];Yc&&eg.push(["beforeinput",(n,e)=>(function(t,r){const i=t.inputType;i==="deleteCompositionText"||Ci&&Qb(r)||i!=="insertCompositionText"&&se(r,rb,t)})(n,e)]);let Dl=0,gb=null,mb=0,Oo=null;const tg=new WeakMap,sd=new WeakMap;let ng=!1,rg=!1,ml=!1,hl=!1,sg=!1,ig="",ai=null,yb=[0,"",0,"root",0];function vb(n,e,t,r,i){const a=n.anchor,l=n.focus,c=a.getNode(),d=Ge(),f=Xn(An(d)),g=f!==null?f.anchorNode:null,m=a.key,v=d.getElementByKey(m),_=t.length;return m!==l.key||!ee(c)||(!i&&(!Yc||mb<r+50)||c.isDirty()&&_<2||qb(t))&&a.offset!==l.offset&&!c.isComposing()||Nr(c)||c.isDirty()&&_>1||(i||!Yc)&&v!==null&&!c.isComposing()&&g!==Xo(v)||f!==null&&e!==null&&(!e.collapsed||e.startContainer!==f.anchorNode||e.startOffset!==f.anchorOffset)||c.getFormat()!==n.format||c.getStyle()!==n.style||(function(w,S){if(S.isSegmented())return!0;if(!w.isCollapsed())return!1;const x=w.anchor.offset,k=S.getParentOrThrow(),C=xi(S);return x===0?!S.canInsertTextBefore()||!k.canInsertTextBefore()&&!S.isComposing()||C||(function(E){const N=E.getPreviousSibling();return(ee(N)||V(N)&&N.isInline())&&!N.canInsertTextAfter()})(S):x===S.getTextContentSize()&&(!S.canInsertTextAfter()||!k.canInsertTextAfter()&&!S.isComposing()||C)})(n,c)}function Gw(n,e){return Kr(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function Qw(n,e,t){const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:l}=n;ng&&(ng=!1,Gw(r,i)&&Gw(a,l)&&!ai)||cr(e,()=>{if(!t)return void an(null);if(!Xl(e,r,a))return;let c=oe();if(ai&&X(c)&&c.isCollapsed()){const d=c.anchor,f=ai.anchor;(d.key===f.key&&d.offset===f.offset+1||d.offset===1&&f.getNode().is(d.getNode().getPreviousSibling()))&&(c=ai.clone(),an(c))}if(ai=null,X(c)){const d=c.anchor,f=d.getNode();if(c.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(c.dirty=!0);const g=An(e).event,m=g?g.timeStamp:performance.now(),[v,_,w,S,x]=yb,k=ht(),C=e.isComposing()===!1&&k.getTextContent()==="";if(m<x+200&&d.offset===w&&d.key===S)Lc(c,v,_);else if(d.type==="text")ee(f)||Q(141),_b(c,f);else if(d.type==="element"&&!C){V(f)||Q(259);const E=d.getNode();E.isEmpty()?(function(N,M){const D=M.getTextFormat(),U=M.getTextStyle();Lc(N,D,U)})(c,E):Lc(c,0,"")}}else{const g=d.key,m=c.focus.key,v=c.getNodes(),_=v.length,w=c.isBackward(),S=w?l:i,x=w?i:l,k=w?m:g,C=w?g:m;let E=2047,N=!1;for(let M=0;M<_;M++){const D=v[M],U=D.getTextContentSize();if(ee(D)&&U!==0&&!(M===0&&D.__key===k&&S===U||M===_-1&&D.__key===C&&x===0)&&(N=!0,E&=D.getFormat(),E===0))break}c.format=N?E:0}}se(e,tb,void 0)})}function Lc(n,e,t){n.format===e&&n.style===t||(n.format=e,n.style=t,n.dirty=!0)}function _b(n,e){Lc(n,e.getFormat(),e.getStyle())}function wb(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function YI(n){const e=n.inputType,t=wb(n),r=Ge(),i=oe();if(e==="deleteContentBackward"){if(i===null){const m=ca();if(!X(m))return!0;an(m.clone())}if(X(i)){const m=i.anchor.key===i.focus.key;if(a=n.timeStamp,gb==="MediaLast"&&a<Dl+30&&r.isComposing()&&m){if(Lt(null),Dl=0,setTimeout(()=>{cr(r,()=>{Lt(null)})},30),X(i)){const v=i.anchor.getNode();v.markDirty(),ee(v)||Q(142),_b(i,v)}}else{Lt(null),n.preventDefault();const v=i.anchor.getNode(),_=v.getTextContent(),w=v.canInsertTextAfter(),S=i.anchor.offset===0&&i.focus.offset===_.length;let x=Lw&&m&&!S&&w;if(x&&i.isCollapsed()&&(x=!Ke(dg(i.anchor,!0))),!x){se(r,wi,!0);const k=oe();Lw&&X(k)&&k.isCollapsed()&&(ai=k,setTimeout(()=>ai=null))}}return!0}}var a;if(!X(i))return!0;const l=n.data;Oo!==null&&pm(!1,r,Oo),i.dirty&&Oo===null||!i.isCollapsed()||mt(i.anchor.getNode())||t===null||i.applyDOMRange(t),Oo=null;const c=i.anchor,d=i.focus,f=c.getNode(),g=d.getNode();if(e==="insertText"||e==="insertTranspose"){if(l===`
`)n.preventDefault(),se(r,Do,!1);else if(l===Is)n.preventDefault(),se(r,Rl,void 0);else if(l==null&&n.dataTransfer){const m=n.dataTransfer.getData("text/plain");n.preventDefault(),i.insertRawText(m)}else l!=null&&vb(i,t,l,n.timeStamp,!0)?(n.preventDefault(),se(r,jo,l)):Oo=l;return mb=n.timeStamp,!0}switch(n.preventDefault(),e){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":se(r,jo,n);break;case"insertFromComposition":Lt(null),se(r,jo,n);break;case"insertLineBreak":Lt(null),se(r,Do,!1);break;case"insertParagraph":Lt(null),ml&&!aa?(ml=!1,se(r,Do,!1)):se(r,Rl,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":se(r,Hg,n);break;case"deleteByComposition":(function(m,v){return m!==v||V(m)||V(v)||!xi(m)||!xi(v)})(f,g)&&se(r,Xp,n);break;case"deleteByDrag":case"deleteByCut":se(r,Xp,n);break;case"deleteContent":se(r,wi,!1);break;case"deleteWordBackward":se(r,Al,!0);break;case"deleteWordForward":se(r,Al,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":se(r,Il,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":se(r,Il,!1);break;case"formatStrikeThrough":se(r,Es,"strikethrough");break;case"formatBold":se(r,Es,"bold");break;case"formatItalic":se(r,Es,"italic");break;case"formatUnderline":se(r,Es,"underline");break;case"historyUndo":se(r,qg,void 0);break;case"historyRedo":se(r,Jg,void 0)}return!0}function XI(n){if(ft(n.target)&&zb(n.target))return!0;const e=Ge(),t=oe(),r=n.data,i=wb(n);if(r!=null&&X(t)&&vb(t,i,r,n.timeStamp,!1)){hl&&(id(e,r),hl=!1);const a=t.anchor.getNode(),l=Xn(An(e));if(l===null)return!0;const c=t.isBackward(),d=c?t.anchor.offset:t.focus.offset,f=c?t.focus.offset:t.anchor.offset;Yc&&!t.isCollapsed()&&ee(a)&&l.anchorNode!==null&&a.getTextContent().slice(0,d)+r+a.getTextContent().slice(d+f)===Gb(l.anchorNode)||se(e,jo,r);const g=r.length;Ci&&g>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=g),ql||aa||Jl||!e.isComposing()||(Dl=0,Lt(null))}else pm(!1,e,r!==null?r:void 0),hl&&(id(e,r||void 0),hl=!1);return(function(){zt();const a=Ge();qx(a)})(),!0}function ZI(n){const e=Ge(),t=oe();if(X(t)&&!e.isComposing()){const r=t.anchor,i=t.anchor.getNode();Lt(r.key),(n.timeStamp<Dl+30||r.type==="element"||!t.isCollapsed()||i.getFormat()!==t.format||ee(i)&&i.getStyle()!==t.style)&&se(e,jo,kI)}return!0}function eD(n){return id(Ge(),n.data),!0}function id(n,e){const t=n._compositionKey;if(Lt(null),t!==null&&e!=null){if(e===""){const r=bt(t),i=Xo(n.getElementByKey(t));return void(i!==null&&i.nodeValue!==null&&ee(r)&&gm(r,i.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=oe();if(X(r)){const i=r.focus;return r.anchor.set(i.key,i.offset,i.type),void se(n,rd,null)}}}pm(!0,n,e)}function tD(n){const e=Ge();if(n.key==null)return!0;if(sg&&S0(n))return cr(e,()=>{id(e,ig)}),sg=!1,ig="",!0;if((function(t){return Je(t,"ArrowRight",{shiftKey:"any"})})(n))se(e,lb,n);else if((function(t){return Je(t,"ArrowRight",Cr)})(n))se(e,UI,n);else if((function(t){return Je(t,"ArrowLeft",{shiftKey:"any"})})(n))se(e,Gg,n);else if((function(t){return Je(t,"ArrowLeft",Cr)})(n))se(e,zI,n);else if((function(t){return Je(t,"ArrowUp",{altKey:"any",shiftKey:"any"})})(n))se(e,Qg,n);else if((function(t){return Je(t,"ArrowDown",{altKey:"any",shiftKey:"any"})})(n))se(e,Yg,n);else if((function(t){return Je(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(n))ml=!0,se(e,rd,n);else if((function(t){return t.key===" "})(n))se(e,Xg,n);else if((function(t){return Vn&&Je(t,"o",{ctrlKey:!0})})(n))n.preventDefault(),ml=!0,se(e,Do,!0);else if((function(t){return Je(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(n))ml=!1,se(e,rd,n);else if((function(t){return Je(t,"Backspace",{shiftKey:"any"})||Vn&&Je(t,"h",{ctrlKey:!0})})(n))S0(n)?se(e,ub,n):(n.preventDefault(),se(e,wi,!0));else if((function(t){return t.key==="Escape"})(n))se(e,Zg,n);else if((function(t){return Je(t,"Delete",{})||Vn&&Je(t,"d",{ctrlKey:!0})})(n))(function(t){return t.key==="Delete"})(n)?se(e,cb,n):(n.preventDefault(),se(e,wi,!1));else if((function(t){return Je(t,"Backspace",w0)})(n))n.preventDefault(),se(e,Al,!0);else if((function(t){return Je(t,"Delete",w0)})(n))n.preventDefault(),se(e,Al,!1);else if((function(t){return Vn&&Je(t,"Backspace",{metaKey:!0})})(n))n.preventDefault(),se(e,Il,!0);else if((function(t){return Vn&&(Je(t,"Delete",{metaKey:!0})||Je(t,"k",{ctrlKey:!0}))})(n))n.preventDefault(),se(e,Il,!1);else if((function(t){return Je(t,"b",Cr)})(n))n.preventDefault(),se(e,Es,"bold");else if((function(t){return Je(t,"u",Cr)})(n))n.preventDefault(),se(e,Es,"underline");else if((function(t){return Je(t,"i",Cr)})(n))n.preventDefault(),se(e,Es,"italic");else if((function(t){return Je(t,"Tab",{shiftKey:"any"})})(n))se(e,db,n);else if((function(t){return Je(t,"z",Cr)})(n))n.preventDefault(),se(e,qg,void 0);else if((function(t){return Vn?Je(t,"z",{metaKey:!0,shiftKey:!0}):Je(t,"y",{ctrlKey:!0})||Je(t,"z",{ctrlKey:!0,shiftKey:!0})})(n))n.preventDefault(),se(e,Jg,void 0);else{const t=e._editorState._selection;t===null||X(t)?x0(n)&&(n.preventDefault(),se(e,Zp,n)):(function(r){return Je(r,"c",Cr)})(n)?(n.preventDefault(),se(e,kd,n)):(function(r){return Je(r,"x",Cr)})(n)?(n.preventDefault(),se(e,em,n)):x0(n)&&(n.preventDefault(),se(e,Zp,n))}return(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(n)&&e.dispatchCommand(QI,n),!0}function Sb(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const Lo=new Map;function xb(n){const e=jD(n.target);if(e===null)return;const t=hm(e.anchorNode);if(t===null)return;rg&&(rg=!1,cr(t,()=>{const d=ca(),f=e.anchorNode;(ft(f)||Kr(f))&&an(nm(d,e,t,n))}));const r=fm(t),i=r[r.length-1],a=i._key,l=Lo.get(a),c=l||i;c!==t&&Qw(e,c,!1),Qw(e,t,!0),t!==i?Lo.set(a,t):l&&Lo.delete(a)}function Yw(n){n._lexicalHandled=!0}function Xw(n){return n._lexicalHandled===!0}function nD(n){const e=tg.get(n);if(e===void 0)return;const t=sd.get(e);if(t===void 0)return;const r=t-1;r>=0||Q(164),tg.delete(n),sd.set(e,r),r===0&&e.removeEventListener("selectionchange",xb);const i=Td(n);dm(i)?((function(l){if(l._parentEditor!==null){const c=fm(l),d=c[c.length-1]._key;Lo.get(d)===l&&Lo.delete(d)}else Lo.delete(l._key)})(i),n.__lexicalEditor=null):i&&Q(198);const a=Sb(n);for(let l=0;l<a.length;l++)a[l]();n.__lexicalEventHandles=[]}function og(n,e,t){zt();const r=n.__key,i=n.getParent();if(i===null)return;const a=(function(c){const d=oe();if(!X(d)||!V(c))return d;const{anchor:f,focus:g}=d,m=f.getNode(),v=g.getNode();return hg(m,c)&&f.set(c.__key,0,"element"),hg(v,c)&&g.set(c.__key,0,"element"),d})(n);let l=!1;if(X(a)&&e){const c=a.anchor,d=a.focus;c.key===r&&(ld(c,n,i,n.getPreviousSibling(),n.getNextSibling()),l=!0),d.key===r&&(ld(d,n,i,n.getPreviousSibling(),n.getNextSibling()),l=!0)}else fn(a)&&e&&n.isSelected()&&n.selectPrevious();if(X(a)&&e&&!l){const c=n.getIndexWithinParent();bi(n),ad(a,i,c,-1)}else bi(n);t||on(i)||i.canBeEmpty()||!i.isEmpty()||og(i,e),e&&a&&mt(i)&&i.isEmpty()&&i.selectEnd()}const bb=Symbol.for("ephemeral");function od(n){return n[bb]||!1}class Jn{constructor(e){H(this,"__type");H(this,"__key");H(this,"__parent");H(this,"__prev");H(this,"__next");H(this,"__state");this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),ND(this,e)}static getType(){const{ownNodeType:e}=Pd(this);return e===void 0&&Q(64,this.name),e}static clone(e){Q(65,this.name)}$config(){return{}}config(e,t){const r=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:r,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}getType(){return this.__type}isInline(){Q(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=bt(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||oe();if(t==null)return!1;const r=t.getNodes().some(i=>i.__key===this.__key);if(ee(this))return r;if(X(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const i=this.getParent();if(Ke(this)&&this.isInline()&&i){const a=t.isBackward()?t.focus:t.anchor;if(i.is(a.getNode())&&a.offset===i.getChildrenSize()&&this.is(i.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:bt(e)}getParentOrThrow(){const e=this.getParent();return e===null&&Q(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(on(t))return V(e)||e===this&&Ke(e)||Q(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&Q(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:bt(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:bt(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=V(this)?this:this.getParent(),r=V(e)?e:e.getParent(),i=t&&r?$c(t,r):null;return i?i.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=$c(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?nk(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&Q(279),!1)))}isParentOf(e){const t=$c(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),r=[],i=new Set;let a=this;for(;a!==null;){const l=a.__key;if(i.has(l)||(i.add(l),r.push(a)),a===e)break;const c=V(a)?t?a.getFirstChild():a.getLastChild():null;if(c!==null){a=c;continue}const d=t?a.getNextSibling():a.getPreviousSibling();if(d!==null){a=d;continue}const f=a.getParentOrThrow();if(i.has(f.__key)||r.push(f),f===e)break;let g=null,m=f;do{if(m===null&&Q(68),g=t?m.getNextSibling():m.getPreviousSibling(),m=m.getParent(),m===null)break;g!==null||i.has(m.__key)||r.push(m)}while(g===null);a=g}return t||r.reverse(),r}isDirty(){const e=Ge()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){if(od(this))return this;const e=bt(this.__key);return e===null&&Q(113),e}getWritable(){if(od(this))return this;zt();const e=$s(),t=Ge(),r=e._nodeMap,i=this.__key,a=this.getLatest(),l=t._cloneNotNeeded,c=oe();if(c!==null&&c.setCachedNodes(null),l.has(i))return cd(a),a;const d=Xb(a);return l.add(i),cd(d),r.set(i,d),d}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){Q(70)}updateDOM(e,t,r){Q(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){Q(18,this.name)}updateFromJSON(e){return(function(t,r){const i=t.getWritable(),a=r.$;let l=a;for(const c of Qx(i).flatKeys)c in r&&(l!==void 0&&l!==a||(l={...a}),l[c]=r[c]);return(i.__state||l)&&jI(t).updateFromJSON(l),i})(this,e)}static transform(){return null}remove(e){og(this,!0,e)}replace(e,t){zt();let r=oe();r!==null&&(r=r.clone()),rp(this,e);const i=this.getLatest(),a=this.__key,l=e.__key,c=e.getWritable(),d=this.getParentOrThrow().getWritable(),f=d.__size;bi(c);const g=i.getPreviousSibling(),m=i.getNextSibling(),v=i.__prev,_=i.__next,w=i.__parent;if(og(i,!1,!0),g===null?d.__first=l:g.getWritable().__next=l,c.__prev=v,m===null?d.__last=l:m.getWritable().__prev=l,c.__next=_,c.__parent=w,d.__size=f,t&&(V(this)&&V(c)||Q(139),this.getChildren().forEach(S=>{c.append(S)})),X(r)){an(r);const S=r.anchor,x=r.focus;S.key===a&&n0(S,c),x.key===a&&n0(x,c)}return Cs()===a&&Lt(l),c}insertAfter(e,t=!0){zt(),rp(this,e);const r=this.getWritable(),i=e.getWritable(),a=i.getParent(),l=oe();let c=!1,d=!1;if(a!==null){const _=e.getIndexWithinParent();if(bi(i),X(l)){const w=a.__key,S=l.anchor,x=l.focus;c=S.type==="element"&&S.key===w&&S.offset===_+1,d=x.type==="element"&&x.key===w&&x.offset===_+1}}const f=this.getNextSibling(),g=this.getParentOrThrow().getWritable(),m=i.__key,v=r.__next;if(f===null?g.__last=m:f.getWritable().__prev=m,g.__size++,r.__next=m,i.__next=v,i.__prev=r.__key,i.__parent=r.__parent,t&&X(l)){const _=this.getIndexWithinParent();ad(l,g,_+1);const w=g.__key;c&&l.anchor.set(w,_+2,"element"),d&&l.focus.set(w,_+2,"element")}return e}insertBefore(e,t=!0){zt(),rp(this,e);const r=this.getWritable(),i=e.getWritable(),a=i.__key;bi(i);const l=this.getPreviousSibling(),c=this.getParentOrThrow().getWritable(),d=r.__prev,f=this.getIndexWithinParent();l===null?c.__first=a:l.getWritable().__next=a,c.__size++,r.__prev=a,i.__prev=d,i.__next=r.__key,i.__parent=r.__parent;const g=oe();return t&&X(g)&&ad(g,this.getParentOrThrow(),f),e}isParentRequired(){return!1}createParentElementNode(){return Rt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){zt();const r=this.getPreviousSibling(),i=this.getParentOrThrow();if(r===null)return i.select(0,0);if(V(r))return r.select();if(!ee(r)){const a=r.getIndexWithinParent()+1;return i.select(a,a)}return r.select(e,t)}selectNext(e,t){zt();const r=this.getNextSibling(),i=this.getParentOrThrow();if(r===null)return i.select();if(V(r))return r.select(0,0);if(!ee(r)){const a=r.getIndexWithinParent();return i.select(a,a)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}H(Jn,"importDOM");const ag="historic",rD="history-push",Si="history-merge",sD="paste",iD="collaboration",oD="skip-scroll-into-view",aD="skip-dom-selection",lD="skip-selection-focus";class la extends Jn{static getType(){return"linebreak"}static clone(e){return new la(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(t){const r=t.parentElement;if(r!==null&&dd(r)){const i=r.firstChild;if(i===t||i.nextSibling===t&&bc(i)){const a=r.lastChild;if(a===t||a.previousSibling===t&&bc(a))return!0}}return!1})(e)||(function(t){const r=t.parentElement;if(r!==null&&dd(r)){const i=r.firstChild;if(i===t||i.nextSibling===t&&bc(i))return!1;const a=r.lastChild;if(a===t||a.previousSibling===t&&bc(a))return!0}return!1})(e)?null:{conversion:uD,priority:0}}}static importJSON(e){return Pi().updateFromJSON(e)}}function uD(n){return{node:Pi()}}function Pi(){return Fi(new la)}function Mo(n){return n instanceof la}function bc(n){return Kr(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Xf(n,e){return 16&e?"code":e&Kx?"mark":32&e?"sub":64&e?"sup":null}function Zf(n,e){return 1&e?"strong":2&e?"em":"span"}function kb(n,e,t,r,i){const a=r.classList;let l=$o(i,"base");l!==void 0&&a.add(...l),l=$o(i,"underlineStrikethrough");let c=!1;const d=8&e&&4&e;l!==void 0&&(8&t&&4&t?(c=!0,d||a.add(...l)):d&&a.remove(...l));for(const f in Ti){const g=Ti[f];if(l=$o(i,f),l!==void 0)if(t&g){if(c&&(f==="underline"||f==="strikethrough")){e&g&&a.remove(...l);continue}((e&g)===0||d&&f==="underline"||f==="strikethrough")&&a.add(...l)}else e&g&&a.remove(...l)}}function Eb(n,e,t){const r=e.firstChild,i=t.isComposing(),a=n+(i?xd:"");if(r==null)e.textContent=a;else{const l=r.nodeValue;if(l!==a)if(i||Ci){const[c,d,f]=(function(g,m){const v=g.length,_=m.length;let w=0,S=0;for(;w<v&&w<_&&g[w]===m[w];)w++;for(;S+w<v&&S+w<_&&g[v-S-1]===m[_-S-1];)S++;return[w,v-w-S,m.slice(w,_-S)]})(l,a);d!==0&&r.deleteData(c,d),r.insertData(c,f)}else r.nodeValue=a}}function Zw(n,e,t,r,i,a){Eb(i,n,e);const l=a.theme.text;l!==void 0&&kb(0,0,r,n,l)}function kc(n,e){const t=document.createElement(e);return t.appendChild(n),t}class Ms extends Jn{constructor(t="",r){super(r);H(this,"__text");H(this,"__format");H(this,"__style");H(this,"__mode");H(this,"__detail");this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}static getType(){return"text"}static clone(t){return new Ms(t.__text,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return NI[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Cs()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const r=Ti[t];return(this.getFormat()&r)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,r){return ud(this.getLatest().__format,t,r)}canHaveFormat(){return!0}isInline(){return!0}createDOM(t,r){const i=this.__format,a=Xf(0,i),l=Zf(0,i),c=a===null?l:a,d=document.createElement(c);let f=d;this.hasFormat("code")&&d.setAttribute("spellcheck","false"),a!==null&&(f=document.createElement(l),d.appendChild(f)),Zw(f,this,0,i,this.__text,t);const g=this.__style;return g!==""&&(d.style.cssText=g),d}updateDOM(t,r,i){const a=this.__text,l=t.__format,c=this.__format,d=Xf(0,l),f=Xf(0,c),g=Zf(0,l),m=Zf(0,c);if((d===null?g:d)!==(f===null?m:f))return!0;if(d===f&&g!==m){const x=r.firstChild;x==null&&Q(48);const k=document.createElement(m);return Zw(k,this,0,c,a,i),r.replaceChild(k,x),!1}let v=r;f!==null&&d!==null&&(v=r.firstChild,v==null&&Q(49)),Eb(a,v,this);const _=i.theme.text;_!==void 0&&l!==c&&kb(0,l,c,v,_);const w=t.__style,S=this.__style;return w!==S&&(r.style.cssText=S),!1}static importDOM(){return{"#text":()=>({conversion:fD,priority:0}),b:()=>({conversion:dD,priority:0}),code:()=>({conversion:kr,priority:0}),em:()=>({conversion:kr,priority:0}),i:()=>({conversion:kr,priority:0}),mark:()=>({conversion:kr,priority:0}),s:()=>({conversion:kr,priority:0}),span:()=>({conversion:cD,priority:0}),strong:()=>({conversion:kr,priority:0}),sub:()=>({conversion:kr,priority:0}),sup:()=>({conversion:kr,priority:0}),u:()=>({conversion:kr,priority:0})}}static importJSON(t){return Nt().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style)}exportDOM(t){let{element:r}=super.exportDOM(t);return ft(r)||Q(132),r.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?r.style.textTransform="lowercase":this.hasFormat("uppercase")?r.style.textTransform="uppercase":this.hasFormat("capitalize")&&(r.style.textTransform="capitalize"),this.hasFormat("bold")&&(r=kc(r,"b")),this.hasFormat("italic")&&(r=kc(r,"i")),this.hasFormat("strikethrough")&&(r=kc(r,"s")),this.hasFormat("underline")&&(r=kc(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(t,r){}setFormat(t){const r=this.getWritable();return r.__format=typeof t=="string"?Ti[t]:t,r}setDetail(t){const r=this.getWritable();return r.__detail=typeof t=="string"?EI[t]:t,r}setStyle(t){const r=this.getWritable();return r.__style=t,r}toggleFormat(t){const r=ud(this.getFormat(),t,null);return this.setFormat(r)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const r=TI[t];if(this.__mode===r)return this;const i=this.getWritable();return i.__mode=r,i}setTextContent(t){if(this.__text===t)return this;const r=this.getWritable();return r.__text=t,r}select(t,r){zt();let i=t,a=r;const l=oe(),c=this.getTextContent(),d=this.__key;if(typeof c=="string"){const f=c.length;i===void 0&&(i=f),a===void 0&&(a=f)}else i=0,a=0;if(!X(l))return Ob(d,i,d,a,"text","text");{const f=Cs();f!==l.anchor.key&&f!==l.focus.key||Lt(d),l.setTextNodeRange(this,i,this,a)}return l}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,r,i,a){const l=this.getWritable(),c=l.__text,d=i.length;let f=t;f<0&&(f=d+f,f<0&&(f=0));const g=oe();if(a&&X(g)){const v=t+d;g.setTextNodeRange(l,v,l,v)}const m=c.slice(0,f)+i+c.slice(f+r);return l.__text=m,l}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){zt();const r=this.getLatest(),i=r.getTextContent();if(i==="")return[];const a=r.__key,l=Cs(),c=i.length;t.sort((z,K)=>z-K),t.push(c);const d=[],f=t.length;for(let z=0,K=0;z<c&&K<=f;K++){const re=t[K];re>z&&(d.push(i.slice(z,re)),z=re)}const g=d.length;if(g===1)return[r];const m=d[0],v=r.getParent();let _;const w=r.getFormat(),S=r.getStyle(),x=r.__detail;let k=!1,C=null,E=null;const N=oe();if(X(N)){const[z,K]=N.isBackward()?[N.focus,N.anchor]:[N.anchor,N.focus];z.type==="text"&&z.key===a&&(C=z),K.type==="text"&&K.key===a&&(E=K)}r.isSegmented()?(_=Nt(m),_.__format=w,_.__style=S,_.__detail=x,_.__state=Bw(r,_),k=!0):_=r.setTextContent(m);const M=[_];for(let z=1;z<g;z++){const K=Nt(d[z]);K.__format=w,K.__style=S,K.__detail=x,K.__state=Bw(r,K);const re=K.__key;l===a&&Lt(re),M.push(K)}const D=C?C.offset:null,U=E?E.offset:null;let j=0;for(const z of M){if(!C&&!E)break;const K=j+z.getTextContentSize();if(C!==null&&D!==null&&D<=K&&D>=j&&(C.set(z.getKey(),D-j,"text"),D<K&&(C=null)),E!==null&&U!==null&&U<=K&&U>=j){E.set(z.getKey(),U-j,"text");break}j=K}if(v!==null){(function(re){const we=re.getPreviousSibling(),fe=re.getNextSibling();we!==null&&cd(we),fe!==null&&cd(fe)})(this);const z=v.getWritable(),K=this.getIndexWithinParent();k?(z.splice(K,0,M),this.remove()):z.splice(K,1,M),X(N)&&ad(N,v,K,g-1)}return M}mergeWithSibling(t){const r=t===this.getPreviousSibling();r||t===this.getNextSibling()||Q(50);const i=this.__key,a=t.__key,l=this.__text,c=l.length;Cs()===a&&Lt(i);const d=oe();if(X(d)){const v=d.anchor,_=d.focus;v!==null&&v.key===a&&u0(v,r,i,t,c),_!==null&&_.key===a&&u0(_,r,i,t,c)}const f=t.__text,g=r?f+l:l+f;this.setTextContent(g);const m=this.getWritable();return t.remove(),m}isTextEntity(){return!1}}function cD(n){return{forChild:tm(n.style),node:null}}function dD(n){const e=n,t=e.style.fontWeight==="normal";return{forChild:tm(e.style,t?void 0:"bold"),node:null}}const e0=new WeakMap;function hD(n){if(!ft(n))return!1;if(n.nodeName==="PRE")return!0;const e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function fD(n){const e=n;n.parentElement===null&&Q(129);let t=e.textContent||"";if((function(r){let i,a=r.parentNode;const l=[r];for(;a!==null&&(i=e0.get(a))===void 0&&!hD(a);)l.push(a),a=a.parentNode;const c=i===void 0?a:i;for(let d=0;d<l.length;d++)e0.set(l[d],c);return c})(e)!==null){const r=t.split(/(\r?\n|\t)/),i=[],a=r.length;for(let l=0;l<a;l++){const c=r[l];c===`
`||c===`\r
`?i.push(Pi()):c==="	"?i.push(Gl()):c!==""&&i.push(Nt(c))}return{node:i}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,i=!0;for(;r!==null&&(r=t0(r,!1))!==null;){const a=r.textContent||"";if(a.length>0){/[ \t\n]$/.test(a)&&(t=t.slice(1)),i=!1;break}}i&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,i=!0;for(;r!==null&&(r=t0(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:Nt(t)}}function t0(n,e){let t=n;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){const a=t.parentElement;if(a===null)return null;t=a}if(t=r,ft(t)){const a=t.style.display;if(a===""&&!gg(t)||a!==""&&!a.startsWith("inline"))return null}let i=t;for(;(i=e?t.firstChild:t.lastChild)!==null;)t=i;if(Kr(t))return t;if(t.nodeName==="BR")return null}}const pD={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function kr(n){const e=pD[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:tm(n.style,e),node:null}}function Nt(n=""){return Fi(new Ms(n))}function ee(n){return n instanceof Ms}function tm(n,e){const t=n.fontWeight,r=n.textDecoration.split(" "),i=t==="700"||t==="bold",a=r.includes("line-through"),l=n.fontStyle==="italic",c=r.includes("underline"),d=n.verticalAlign;return f=>(ee(f)&&(i&&!f.hasFormat("bold")&&f.toggleFormat("bold"),a&&!f.hasFormat("strikethrough")&&f.toggleFormat("strikethrough"),l&&!f.hasFormat("italic")&&f.toggleFormat("italic"),c&&!f.hasFormat("underline")&&f.toggleFormat("underline"),d!=="sub"||f.hasFormat("subscript")||f.toggleFormat("subscript"),d!=="super"||f.hasFormat("superscript")||f.toggleFormat("superscript"),e&&!f.hasFormat(e)&&f.toggleFormat(e)),f)}class ua extends Ms{static getType(){return"tab"}static clone(e){return new ua(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),r=$o(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return Gl().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&zx(126),super.setTextContent("	")}spliceText(e,t,r,i){return r===""&&t===0||r==="	"&&t===1||Q(286),this}setDetail(e){return e!==2&&Q(127),this}setMode(e){return e!=="normal"&&Q(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Gl(){return Fi(new ua)}function Cb(n){return n instanceof ua}class gD{constructor(e,t,r){H(this,"key");H(this,"offset");H(this,"type");H(this,"_selection");this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:tk(Nn(Ur(this,"next")),Nn(Ur(e,"next")))<0}getNode(){const e=bt(this.key);return e===null&&Q(20),e}set(e,t,r,i){const a=this._selection,l=this.key;i&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,Ql()||(Cs()===l&&Lt(e),a!==null&&(a.setCachedNodes(null),a.dirty=!0)))}}function hr(n,e,t){return new gD(n,e,t)}function ep(n,e){let t=e.__key,r=n.offset,i="element";if(ee(e)){i="text";const a=e.getTextContentSize();r>a&&(r=a)}else if(!V(e)){const a=e.getNextSibling();if(ee(a))t=a.__key,r=0,i="text";else{const l=e.getParent();l&&(t=l.__key,r=e.getIndexWithinParent()+1)}}n.set(t,r,i)}function n0(n,e){if(V(e)){const t=e.getLastDescendant();V(t)||ee(t)?ep(n,t):ep(n,e)}else ep(n,e)}class Ed{constructor(e){H(this,"_nodes");H(this,"_cachedNodes");H(this,"dirty");this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!fn(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(i=>r.has(i))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Ed(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),r=t.length,i=t[r-1];let a;if(ee(i))a=i.select();else{const l=i.getIndexWithinParent()+1;a=i.getParentOrThrow().select(l,l)}a.insertNodes(e);for(let l=0;l<r;l++)t[l].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,r=[];for(const i of t){const a=bt(i);a!==null&&r.push(a)}return Ql()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((oe()||ca())===this&&e[0]){const t=Wt(e[0],"next");qD(Ds(t,t))}for(const t of e)t.remove()}}function X(n){return n instanceof $i}class $i{constructor(e,t,r,i){H(this,"format");H(this,"style");H(this,"anchor");H(this,"focus");H(this,"_cachedNodes");H(this,"dirty");this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!X(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=(function(r){const i=[],[a,l]=r.getTextSlices();a&&i.push(a.caret.origin);const c=new Set,d=new Set;for(const f of r)if(dr(f)){const{origin:g}=f;i.length===0?c.add(g):(d.add(g),i.push(g))}else{const{origin:g}=f;V(g)&&d.has(g)||i.push(g)}if(l&&i.push(l.caret.origin),Zo(r.focus)&&V(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let f=Gn(r.focus.origin,"previous");dr(f)&&c.has(f.origin)&&!f.origin.isEmpty()&&f.origin.is(i[i.length-1]);f=Sm(f))c.delete(f.origin),i.pop();for(;i.length>1;){const f=i[i.length-1];if(!V(f)||d.has(f)||f.isEmpty()||c.has(f))break;i.pop()}if(i.length===0&&r.isCollapsed()){const f=Nn(r.anchor),g=Nn(r.anchor.getFlipped()),m=_=>Os(_)?_.origin:_.getNodeAtCaret(),v=m(f)||m(g)||(r.anchor.getNodeAtCaret()?f.origin:g.origin);i.push(v)}return i})(sk(N0(this),"next"));return Ql()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,i){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,i,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1],i=this.anchor,a=this.focus,l=i.isBefore(a),[c,d]=lg(this);let f="",g=!0;for(let m=0;m<e.length;m++){const v=e[m];if(V(v)&&!v.isInline())g||(f+=`
`),g=!v.isEmpty();else if(g=!1,ee(v)){let _=v.getTextContent();v===t?v===r?i.type==="element"&&a.type==="element"&&a.offset!==i.offset||(_=c<d?_.slice(c,d):_.slice(d,c)):_=l?_.slice(c):_.slice(d):v===r&&(_=l?_.slice(0,d):_.slice(0,c)),f+=_}else!Ke(v)&&!Mo(v)||v===r&&this.isCollapsed()||(f+=v.getTextContent())}return f}applyDOMRange(e){const t=Ge(),r=t.getEditorState()._selection,i=Nb(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(i===null)return;const[a,l]=i;this.anchor.set(a.key,a.offset,a.type,!0),this.focus.set(l.key,l.offset,l.type,!0),Xc(this)}clone(){const e=this.anchor,t=this.focus;return new $i(hr(e.key,e.offset,e.type),hr(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=ud(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=Ti[e];return(this.format&t)!==0}insertRawText(e){const t=e.split(/(\r?\n|\t)/),r=[],i=t.length;for(let a=0;a<i;a++){const l=t[a];l===`
`||l===`\r
`?r.push(Pi()):l==="	"?r.push(Gl()):r.push(Nt(l))}this.insertNodes(r)}insertText(e){const t=this.anchor,r=this.focus,i=this.format,a=this.style;let l=t,c=r;!this.isCollapsed()&&r.isBefore(t)&&(l=r,c=t),l.type==="element"&&(function(x,k,C,E){const N=x.getNode(),M=N.getChildAtIndex(x.offset),D=Nt();if(D.setFormat(C),D.setStyle(E),am(M))M.splice(0,0,[D]);else{const U=mt(N)?Rt().append(D):D;M===null?N.append(U):M.insertBefore(U)}x.is(k)&&k.set(D.__key,0,"text"),x.set(D.__key,0,"text")})(l,c,i,a),c.type==="element"&&Li(c,Nn(Ur(c,"next")));const d=l.offset;let f=c.offset;const g=this.getNodes(),m=g.length;let v=g[0];ee(v)||Q(26);const _=v.getTextContent().length,w=v.getParentOrThrow();let S=g[m-1];if(m===1&&c.type==="element"&&(f=_,c.set(l.key,f,"text")),this.isCollapsed()&&d===_&&(Nr(v)||!v.canInsertTextAfter()||!w.canInsertTextAfter()&&v.getNextSibling()===null)){let x=v.getNextSibling();if(ee(x)&&x.canInsertTextBefore()&&!Nr(x)||(x=Nt(),x.setFormat(i),x.setStyle(a),w.canInsertTextAfter()?v.insertAfter(x):w.insertAfter(x)),x.select(0,0),v=x,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&d===0&&(Nr(v)||!v.canInsertTextBefore()||!w.canInsertTextBefore()&&v.getPreviousSibling()===null)){let x=v.getPreviousSibling();if(ee(x)&&!Nr(x)||(x=Nt(),x.setFormat(i),w.canInsertTextBefore()?v.insertBefore(x):w.insertBefore(x)),x.select(),v=x,e!=="")return void this.insertText(e)}else if(v.isSegmented()&&d!==_){const x=Nt(v.getTextContent());x.setFormat(i),v.replace(x),v=x}else if(!this.isCollapsed()&&e!==""){const x=S.getParent();if(!w.canInsertTextBefore()||!w.canInsertTextAfter()||V(x)&&(!x.canInsertTextBefore()||!x.canInsertTextAfter()))return this.insertText(""),Tb(this.anchor,this.focus,null),void this.insertText(e)}if(m===1){if(xi(v)){const E=Nt(e);return E.select(),void v.replace(E)}const x=v.getFormat(),k=v.getStyle();if(d!==f||x===i&&k===a){if(Cb(v)){const E=Nt(e);return E.setFormat(i),E.setStyle(a),E.select(),void v.replace(E)}}else{if(v.getTextContent()!==""){const E=Nt(e);if(E.setFormat(i),E.setStyle(a),E.select(),d===0)v.insertBefore(E,!1);else{const[N]=v.splitText(d);N.insertAfter(E,!1)}return void(E.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}v.setFormat(i),v.setStyle(a)}const C=f-d;v=v.spliceText(d,C,e,!0),v.getTextContent()===""?v.remove():this.anchor.type==="text"&&(v.isComposing()?this.anchor.offset-=e.length:(this.format=x,this.style=k))}else{const x=new Set([...v.getParentKeys(),...S.getParentKeys()]),k=V(v)?v:v.getParentOrThrow();let C=V(S)?S:S.getParentOrThrow(),E=S;if(!k.is(C)&&C.isInline())do E=C,C=C.getParentOrThrow();while(C.isInline());if(c.type==="text"&&(f!==0||S.getTextContent()==="")||c.type==="element"&&S.getIndexWithinParent()<f)if(ee(S)&&!xi(S)&&f!==S.getTextContentSize()){if(S.isSegmented()){const j=Nt(S.getTextContent());S.replace(j),S=j}mt(c.getNode())||c.type!=="text"||(S=S.spliceText(0,f,"")),x.add(S.__key)}else{const j=S.getParentOrThrow();j.canBeEmpty()||j.getChildrenSize()!==1?S.remove():j.remove()}else x.add(S.__key);const N=C.getChildren(),M=new Set(g),D=k.is(C),U=k.isInline()&&v.getNextSibling()===null?k:v;for(let j=N.length-1;j>=0;j--){const z=N[j];if(z.is(v)||V(z)&&z.isParentOf(v))break;z.isAttached()&&(!M.has(z)||z.is(E)?D||U.insertAfter(z,!1):z.remove())}if(!D){let j=C,z=null;for(;j!==null;){const K=j.getChildren(),re=K.length;(re===0||K[re-1].is(z))&&(x.delete(j.__key),z=j),j=j.getParent()}}if(xi(v))if(d===_)v.select();else{const j=Nt(e);j.select(),v.replace(j)}else v=v.spliceText(d,_-d,e,!0),v.getTextContent()===""?v.remove():v.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let j=1;j<m;j++){const z=g[j],K=z.__key;x.has(K)||z.remove()}}}removeText(){const e=oe()===this;Fc(this,JD(N0(this))),e&&oe()!==this&&an(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void Lt(null);const r=this.getNodes(),i=[];for(const N of r)ee(N)&&i.push(N);const a=N=>{r.forEach(M=>{if(V(M)){const D=M.getFormatFlags(e,N);M.setTextFormat(D)}})},l=i.length;if(l===0)return this.toggleFormat(e),Lt(null),void a(t);const c=this.anchor,d=this.focus,f=this.isBackward(),g=f?d:c,m=f?c:d;let v=0,_=i[0],w=g.type==="element"?0:g.offset;if(g.type==="text"&&w===_.getTextContentSize()&&(v=1,_=i[1],w=0),_==null)return;const S=_.getFormatFlags(e,t);a(S);const x=l-1;let k=i[x];const C=m.type==="text"?m.offset:k.getTextContentSize();if(_.is(k)){if(w===C)return;if(Nr(_)||w===0&&C===_.getTextContentSize())_.setFormat(S);else{const N=_.splitText(w,C),M=w===0?N[0]:N[1];M.setFormat(S),g.type==="text"&&g.set(M.__key,0,"text"),m.type==="text"&&m.set(M.__key,C-w,"text")}return void(this.format=S)}w===0||Nr(_)||([,_]=_.splitText(w),w=0),_.setFormat(S);const E=k.getFormatFlags(e,S);C>0&&(C===k.getTextContentSize()||Nr(k)||([k]=k.splitText(C)),k.setFormat(E));for(let N=v+1;N<x;N++){const M=i[N],D=M.getFormatFlags(e,E);M.setFormat(D)}g.type==="text"&&g.set(_.__key,w,"text"),m.type==="text"&&m.set(k.__key,C,"text"),this.format=S|E}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const w=oe();return X(w)||Q(134),w.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),r=Lr(t,gs),i=e[e.length-1];if(V(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const w=tp(this);r.splice(w,0,e),i.selectEnd()}return}if(!e.some(w=>(V(w)||Ke(w))&&!w.isInline())){V(r)||Q(211,t.constructor.name,t.getType());const w=tp(this);return r.splice(w,0,e),void i.selectEnd()}const a=(function(w){const S=Rt();let x=null;for(let k=0;k<w.length;k++){const C=w[k],E=Mo(C);if(E||Ke(C)&&C.isInline()||V(C)&&C.isInline()||ee(C)||C.isParentRequired()){if(x===null&&(x=C.createParentElementNode(),S.append(x),E))continue;x!==null&&x.append(C)}else S.append(C),x=null}return S})(e),l=a.getLastDescendant(),c=a.getChildren(),d=!V(r)||!r.isEmpty()?this.insertParagraph():null,f=c[c.length-1];let g=c[0];var m;V(m=g)&&gs(m)&&!m.isEmpty()&&V(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(V(r)||Q(211,t.constructor.name,t.getType()),r.append(...g.getChildren()),g=c[1]),g&&(r===null&&Q(212,t.constructor.name,t.getType()),(function(w,S){const x=S.getParentOrThrow().getLastChild();let k=S;const C=[S];for(;k!==x;)k.getNextSibling()||Q(140),k=k.getNextSibling(),C.push(k);let E=w;for(const N of C)E=E.insertAfter(N)})(r,g));const v=Lr(l,gs);d&&V(v)&&(d.canMergeWhenEmpty()||gs(f))&&(v.append(...d.getChildren()),d.remove()),V(r)&&r.isEmpty()&&r.remove(),l.selectEnd();const _=V(r)?r.getLastChild():null;Mo(_)&&v!==r&&_.remove()}insertParagraph(){if(this.anchor.key==="root"){const l=Rt();return ht().splice(this.anchor.offset,0,[l]),l.select(),l}const e=tp(this),t=Lr(this.anchor.getNode(),gs);V(t)||Q(213);const r=t.getChildAtIndex(e),i=r?[r,...r.getNextSiblings()]:[],a=t.insertNewAfter(this,!1);return a?(a.append(...i),a.selectStart(),a):null}insertLineBreak(e){const t=Pi();if(this.insertNodes([t]),e){const r=t.getParentOrThrow(),i=t.getIndexWithinParent();r.select(i,i)}}extract(){const e=[...this.getNodes()],t=e.length;let r=e[0],i=e[t-1];const[a,l]=lg(this),c=this.isBackward(),[d,f]=c?[this.focus,this.anchor]:[this.anchor,this.focus],[g,m]=c?[l,a]:[a,l];if(t===0)return[];if(t===1){if(ee(r)&&!this.isCollapsed()){const v=r.splitText(g,m),_=g===0?v[0]:v[1];return _?(d.set(_.getKey(),0,"text"),f.set(_.getKey(),_.getTextContentSize(),"text"),[_]):[]}return[r]}if(ee(r)&&(g===r.getTextContentSize()?e.shift():g!==0&&([,r]=r.splitText(g),e[0]=r,d.set(r.getKey(),0,"text"))),ee(i)){const v=i.getTextContent().length;m===0?e.pop():m!==v&&([i]=i.splitText(m),e[e.length-1]=i,f.set(i.getKey(),i.getTextContentSize(),"text"))}return e}modify(e,t,r){if(c0(this,e,t,r))return;const i=e==="move",a=Ge(),l=Xn(An(a));if(!l)return;const c=a._blockCursorElement,d=a._rootElement,f=this.focus.getNode();if(d===null||c===null||!V(f)||f.isInline()||f.canBeEmpty()||fg(c,a,d),this.dirty){let g=Ai(a,this.anchor.key),m=Ai(a,this.focus.key);this.anchor.type==="text"&&(g=Xo(g)),this.focus.type==="text"&&(m=Xo(m)),g&&m&&Ab(l,g,this.anchor.offset,m,this.focus.offset)}if((function(g,m,v,_){g.modify(m,v,_)})(l,e,t?"backward":"forward",r),l.rangeCount>0){const g=l.getRangeAt(0),m=this.anchor.getNode(),v=mt(m)?m:ID(m);if(this.applyDOMRange(g),this.dirty=!0,!i){const _=this.getNodes(),w=[];let S=!1;for(let x=0;x<_.length;x++){const k=_[x];hg(k,v)?w.push(k):S=!0}if(S&&w.length>0)if(t){const x=w[0];V(x)?x.selectStart():x.getParentOrThrow().selectStart()}else{const x=w[w.length-1];V(x)?x.selectEnd():x.getParentOrThrow().selectEnd()}l.anchorNode===g.startContainer&&l.anchorOffset===g.startOffset||(function(x){const k=x.focus,C=x.anchor,E=C.key,N=C.offset,M=C.type;C.set(k.key,k.offset,k.type,!0),k.set(E,N,M,!0)})(this)}}r==="lineboundary"&&c0(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&V(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const i=t.getParent(),a=t.getNextSibling()||(i===null?null:i.getNextSibling());if(V(a)&&a.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let i=r.getNode();if(this.forwardDeletion(r,i,e))return;const a=bm(Ur(r,e?"previous":"next"));if(a.getTextSlices().every(c=>c===null||c.distance===0)){let c={type:"initial"};for(const d of a.iterNodeCarets("shadowRoot"))if(dr(d)){if(!d.origin.isInline()){if(d.origin.isShadowRoot()){if(c.type==="merge-block")break;if(V(a.anchor.origin)&&a.anchor.origin.isEmpty()){const f=Nn(d);Fc(this,Ds(f,f)),a.anchor.origin.remove()}return}c.type!=="merge-next-block"&&c.type!=="merge-block"||(c={block:c.block,caret:d,type:"merge-block"})}}else{if(c.type==="merge-block")break;if(Zo(d)){if(V(d.origin)){if(d.origin.isInline()){if(!d.origin.isParentOf(a.anchor.origin))break}else c={block:d.origin,type:"merge-next-block"};continue}if(Ke(d.origin)){if(!d.origin.isIsolated())if(c.type==="merge-next-block"&&(d.origin.isKeyboardSelectable()||!d.origin.isInline())&&V(a.anchor.origin)&&a.anchor.origin.isEmpty()){a.anchor.origin.remove();const f=Rb();f.add(d.origin.getKey()),an(f)}else d.origin.remove();return}break}}if(c.type==="merge-block"){const{caret:d,block:f}=c;return Fc(this,Ds(!d.origin.isEmpty()&&f.isEmpty()?km(Wt(f,d.direction)):a.anchor,d)),this.removeText()}}const l=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&s0(this,r.getNode()))return}else{const c=l.type==="text"?l.getNode():null;if(i=r.type==="text"?r.getNode():null,c!==null&&c.isSegmented()){const d=l.offset,f=c.getTextContentSize();if(c.is(i)||e&&d!==f||!e&&d!==0)return void i0(c,e,d)}else if(i!==null&&i.isSegmented()){const d=r.offset,f=i.getTextContentSize();if(i.is(c)||e&&d!==0||!e&&d!==f)return void i0(i,e,d)}(function(d,f){const g=d.anchor,m=d.focus,v=g.getNode(),_=m.getNode();if(v===_&&g.type==="text"&&m.type==="text"){const w=g.offset,S=m.offset,x=w<S,k=x?w:S,C=x?S:w,E=C-1;k!==E&&(function(N){return!(qb(N)||mD(N))})(v.getTextContent().slice(k,C))&&(f?m.set(m.key,E,m.type):g.set(g.key,E,g.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&mt(r.getParent())&&r.getPreviousSibling()===null&&s0(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function fn(n){return n instanceof Ed}function r0(n){const e=n.offset;if(n.type==="text")return e;const t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function lg(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[r0(t),r0(r)]}function s0(n,e){for(let t=e;t;t=t.getParent()){if(V(t)){if(t.collapseAtStart(n))return!0;if(on(t))break}if(t.getPreviousSibling())break}return!1}const mD=(()=>{try{const n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function i0(n,e,t){const r=n,i=r.getTextContent().split(/(?=\s)/g),a=i.length;let l=0,c=0;for(let f=0;f<a;f++){const g=f===a-1;if(c=l,l+=i[f].length,e&&l===t||l>t||g){i.splice(f,1),g&&(c=void 0);break}}const d=i.join("").trim();d===""?r.remove():(r.setTextContent(d),r.select(c,c))}function o0(n,e,t,r){let i,a=e;if(ft(n)){let l=!1;const c=n.childNodes,d=c.length,f=r._blockCursorElement;a===d&&(l=!0,a=d-1);let g=c[a],m=!1;if(g===f)g=c[a+1],m=!0;else if(f!==null){const v=f.parentNode;n===v&&e>Array.prototype.indexOf.call(v.children,f)&&a--}if(i=Ao(g),ee(i))a=Ps(i,l?"next":"previous");else{let v=Ao(n);if(v===null)return null;if(V(v)){const _=r.getElementByKey(v.getKey());_===null&&Q(214),[v,a]=v.getDOMSlot(_).resolveChildIndex(v,_,n,e),V(v)||Q(215),l&&a>=v.getChildrenSize()&&(a=Math.max(0,v.getChildrenSize()-1));let S=v.getChildAtIndex(a);if(V(S)&&(function(x,k,C){const E=x.getParent();return C===null||E===null||!E.canBeEmpty()||E!==C.getNode()})(S,0,t)){const x=l?S.getLastDescendant():S.getFirstDescendant();x===null?v=S:(S=x,v=V(S)?S:S.getParentOrThrow()),a=0}ee(S)?(i=S,v=null,a=Ps(S,l?"next":"previous")):S!==v&&l&&!m&&(V(v)||Q(216),a=Math.min(v.getChildrenSize(),a+1))}else{const _=v.getIndexWithinParent();a=e===0&&Ke(v)&&Ao(n)===v?_:_+1,v=v.getParentOrThrow()}if(V(v))return hr(v.__key,a,"element")}}else i=Ao(n);return ee(i)?hr(i.__key,Ps(i,a,"clamp"),"text"):null}function a0(n,e,t){const r=n.offset,i=n.getNode();if(r===0){const a=i.getPreviousSibling(),l=i.getParent();if(e){if((t||!e)&&a===null&&V(l)&&l.isInline()){const c=l.getPreviousSibling();ee(c)&&n.set(c.__key,c.getTextContent().length,"text")}}else V(a)&&!t&&a.isInline()?n.set(a.__key,a.getChildrenSize(),"element"):ee(a)&&n.set(a.__key,a.getTextContent().length,"text")}else if(r===i.getTextContent().length){const a=i.getNextSibling(),l=i.getParent();if(e&&V(a)&&a.isInline())n.set(a.__key,0,"element");else if((t||e)&&a===null&&V(l)&&l.isInline()&&!l.canInsertTextAfter()){const c=l.getNextSibling();ee(c)&&n.set(c.__key,0,"text")}}}function Tb(n,e,t){if(n.type==="text"&&e.type==="text"){const r=n.isBefore(e),i=n.is(e);a0(n,r,i),a0(e,!r,i),i&&e.set(n.key,n.offset,n.type);const a=Ge();if(a.isComposing()&&a._compositionKey!==n.key&&X(t)){const l=t.anchor,c=t.focus;n.set(l.key,l.offset,l.type,!0),e.set(c.key,c.offset,c.type,!0)}}}function Nb(n,e,t,r,i,a){if(n===null||t===null||!Xl(i,n,t))return null;const l=o0(n,e,X(a)?a.anchor:null,i);if(l===null)return null;const c=o0(t,r,X(a)?a.focus:null,i);if(c===null)return null;if(l.type==="element"&&c.type==="element"){const d=Ao(n),f=Ao(t);if(Ke(d)&&Ke(f))return null}return Tb(l,c,a),[l,c]}function ug(n){return V(n)&&!n.isInline()}function Ob(n,e,t,r,i,a){const l=$s(),c=new $i(hr(n,e,i),hr(t,r,a),0,"");return c.dirty=!0,l._selection=c,c}function Pb(){const n=hr("root",0,"element"),e=hr("root",0,"element");return new $i(n,e,0,"")}function Rb(){return new Ed(new Set)}function nm(n,e,t,r){const i=t._window;if(i===null)return null;const a=r||i.event,l=a?a.type:void 0,c=l==="selectionchange",d=!Kp&&(c||l==="beforeinput"||l==="compositionstart"||l==="compositionend"||l==="click"&&a&&a.detail===3||l==="drop"||l===void 0);let f,g,m,v;if(X(n)&&!d)return n.clone();if(e===null)return null;if(f=e.anchorNode,g=e.focusNode,m=e.anchorOffset,v=e.focusOffset,(c||l===void 0)&&X(n)&&!Xl(t,f,g))return n.clone();const _=Nb(f,m,g,v,t,n);if(_===null)return null;const[w,S]=_;return new $i(w,S,X(n)?n.format:0,X(n)?n.style:"")}function oe(){return $s()._selection}function ca(){return Ge()._editorState._selection}function ad(n,e,t,r=1){const i=n.anchor,a=n.focus,l=i.getNode(),c=a.getNode();if(!e.is(l)&&!e.is(c))return;const d=e.__key;if(n.isCollapsed()){const f=i.offset;if(t<=f&&r>0||t<f&&r<0){const g=Math.max(0,f+r);i.set(d,g,"element"),a.set(d,g,"element"),l0(n)}}else{const f=n.isBackward(),g=f?a:i,m=g.getNode(),v=f?i:a,_=v.getNode();if(e.is(m)){const w=g.offset;(t<=w&&r>0||t<w&&r<0)&&g.set(d,Math.max(0,w+r),"element")}if(e.is(_)){const w=v.offset;(t<=w&&r>0||t<w&&r<0)&&v.set(d,Math.max(0,w+r),"element")}}l0(n)}function l0(n){const e=n.anchor,t=e.offset,r=n.focus,i=r.offset,a=e.getNode(),l=r.getNode();if(n.isCollapsed()){if(!V(a))return;const c=a.getChildrenSize(),d=t>=c,f=d?a.getChildAtIndex(c-1):a.getChildAtIndex(t);if(ee(f)){let g=0;d&&(g=f.getTextContentSize()),e.set(f.__key,g,"text"),r.set(f.__key,g,"text")}return}if(V(a)){const c=a.getChildrenSize(),d=t>=c,f=d?a.getChildAtIndex(c-1):a.getChildAtIndex(t);if(ee(f)){let g=0;d&&(g=f.getTextContentSize()),e.set(f.__key,g,"text")}}if(V(l)){const c=l.getChildrenSize(),d=i>=c,f=d?l.getChildAtIndex(c-1):l.getChildAtIndex(i);if(ee(f)){let g=0;d&&(g=f.getTextContentSize()),r.set(f.__key,g,"text")}}}function ld(n,e,t,r,i){let a=null,l=0,c=null;r!==null?(a=r.__key,ee(r)?(l=r.getTextContentSize(),c="text"):V(r)&&(l=r.getChildrenSize(),c="element")):i!==null&&(a=i.__key,ee(i)?c="text":V(i)&&(c="element")),a!==null&&c!==null?n.set(a,l,c):(l=e.getIndexWithinParent(),l===-1&&(l=t.getChildrenSize()),n.set(t.__key,l,"element"))}function u0(n,e,t,r,i){n.type==="text"?n.set(t,n.offset+(e?0:i),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function Ab(n,e,t,r,i){try{n.setBaseAndExtent(e,t,r,i)}catch{}}function yD(n,e,t,r,i,a,l){const c=r.anchorNode,d=r.focusNode,f=r.anchorOffset,g=r.focusOffset,m=document.activeElement;if(i.has(iD)&&m!==a||m!==null&&cm(m))return;if(!X(e))return void(n!==null&&Xl(t,c,d)&&r.removeAllRanges());const v=e.anchor,_=e.focus,w=v.key,S=_.key,x=Ai(t,w),k=Ai(t,S),C=v.offset,E=_.offset,N=e.format,M=e.style,D=e.isCollapsed();let U=x,j=k,z=!1;if(v.type==="text"){U=Xo(x);const Ie=v.getNode();z=Ie.getFormat()!==N||Ie.getStyle()!==M}else X(n)&&n.anchor.type==="text"&&(z=!0);var K,re,we,fe,Te;if(_.type==="text"&&(j=Xo(k)),U!==null&&j!==null&&(D&&(n===null||z||X(n)&&(n.format!==N||n.style!==M))&&(K=N,re=M,we=C,fe=w,Te=performance.now(),yb=[K,re,we,fe,Te]),f!==C||g!==E||c!==U||d!==j||r.type==="Range"&&D||(m!==null&&a.contains(m)||i.has(lD)||a.focus({preventScroll:!0}),v.type==="element"))){if(Ab(r,U,C,j,E),!i.has(oD)&&e.isCollapsed()&&a!==null&&a===document.activeElement){const Ie=X(e)&&e.anchor.type==="element"?U.childNodes[C]||null:r.rangeCount>0?r.getRangeAt(0):null;if(Ie!==null){let Re;if(Ie instanceof Text){const Ne=document.createRange();Ne.selectNode(Ie),Re=Ne.getBoundingClientRect()}else Re=Ie.getBoundingClientRect();(function(Ne,W,de){const te=Yb(de),L=ym(te);if(te===null||L===null)return;let{top:q,bottom:ge}=W,ye=0,Pe=0,Oe=de;for(;Oe!==null;){const Ee=Oe===te.body;if(Ee)ye=0,Pe=An(Ne).innerHeight;else{const ze=Oe.getBoundingClientRect();ye=ze.top,Pe=ze.bottom}let Me=0;if(q<ye?Me=-(ye-q):ge>Pe&&(Me=ge-Pe),Me!==0)if(Ee)L.scrollBy(0,Me);else{const ze=Oe.scrollTop;Oe.scrollTop+=Me;const ut=Oe.scrollTop-ze;q-=ut,ge-=ut}if(Ee)break;Oe=Zl(Oe)}})(t,Re,a)}}ng=!0}}function vD(n){let e=oe()||ca();e===null&&(e=ht().selectEnd()),e.insertNodes(n)}function tp(n){let e=n;n.isCollapsed()||e.removeText();const t=oe();X(t)&&(e=t),X(e)||Q(161);const r=e.anchor;let i=r.getNode(),a=r.offset;for(;!gs(i);){const l=i;if([i,a]=_D(i,a),l.is(i))break}return a}function _D(n,e){const t=n.getParent();if(!t){const i=Rt();return ht().append(i),i.select(),[ht(),0]}if(ee(n)){const i=n.splitText(e);if(i.length===0)return[t,n.getIndexWithinParent()];const a=e===0?0:1;return[t,i[0].getIndexWithinParent()+a]}if(!V(n)||e===0)return[t,n.getIndexWithinParent()];const r=n.getChildAtIndex(e);if(r){const i=new $i(hr(n.__key,e,"element"),hr(n.__key,e,"element"),0,""),a=n.insertNewAfter(i);a&&a.append(r,...r.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}function c0(n,e,t,r,i="decorators-and-blocks"){if(e==="move"&&r==="character"&&!n.isCollapsed()){const[g,m]=t===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return m.set(g.key,g.offset,g.type),!0}const a=Ur(n.focus,t?"previous":"next"),l=r==="lineboundary",c=e==="move";let d=a,f=i==="decorators-and-blocks";if(!rk(d)){for(const g of d){f=!1;const{origin:m}=g;if(!Ke(m)||m.isIsolated()||(d=g,!l||!m.isInline()))break}if(f)for(const g of bm(a).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(dr(g))g.origin.isInline()||(d=g);else{if(V(g.origin))continue;Ke(g.origin)&&!g.origin.isInline()&&(d=g)}break}}if(d===a)return!1;if(c&&!l&&Ke(d.origin)&&d.origin.isKeyboardSelectable()){const g=Rb();return g.add(d.origin.getKey()),an(g),!0}return d=Nn(d),c&&Li(n.anchor,d),Li(n.focus,d),f||!l}let Ot=null,Pt=null,sn=!1,np=!1,Mc=0;const d0={characterData:!0,childList:!0,subtree:!0};function Ql(){return sn||Ot!==null&&Ot._readOnly}function zt(){sn&&Q(13)}function Ib(){Mc>99&&Q(14)}function $s(){return Ot===null&&Q(195,Db()),Ot}function Ge(){return Pt===null&&Q(196,Db()),Pt}function Db(){let n=0;const e=new Set,t=Ri.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const a=Td(i);if(dm(a))n++;else if(a){let l=String(a.constructor.version||"<0.17.1");l===t&&(l+=" (separately built, likely a bundler configuration issue)"),e.add(l)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function wD(){return Pt}function h0(n,e,t){const r=e.__type,i=Ub(n,r);let a=t.get(r);a===void 0&&(a=Array.from(i.transforms),t.set(r,a));const l=a.length;for(let c=0;c<l&&(a[c](e),e.isAttached());c++);}function f0(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function jb(n,e){if(!e)return;const t=n._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const i of r)t.add(i)}function SD(n){return rm(n,Ge()._nodes)}function rm(n,e){const t=n.type,r=e.get(t);r===void 0&&Q(17,t);const i=r.klass;n.type!==i.getType()&&Q(18,i.name);const a=i.importJSON(n),l=n.children;if(V(a)&&Array.isArray(l))for(let c=0;c<l.length;c++){const d=rm(l[c],e);a.append(d)}return a}function p0(n,e,t){const r=Ot,i=sn,a=Pt;Ot=e,sn=!0,Pt=n;try{return t()}finally{Ot=r,sn=i,Pt=a}}function Dr(n,e){const t=n._pendingEditorState,r=n._rootElement,i=n._headless||r===null;if(t===null)return;const a=n._editorState,l=a._selection,c=t._selection,d=n._dirtyType!==0,f=Ot,g=sn,m=Pt,v=n._updating,_=n._observer;let w=null;if(n._pendingEditorState=null,n._editorState=t,!i&&d&&_!==null){Pt=n,Ot=t,sn=!1,n._updating=!0;try{const D=n._dirtyType,U=n._dirtyElements,j=n._dirtyLeaves;_.disconnect(),w=$I(a,t,n,D,U,j)}catch(D){if(D instanceof Error&&n._onError(D),np)throw D;return $b(n,null,r,t),Jx(n),n._dirtyType=2,np=!0,Dr(n,a),void(np=!1)}finally{_.observe(r,d0),n._updating=v,Ot=f,sn=g,Pt=m}}t._readOnly||(t._readOnly=!0);const S=n._dirtyLeaves,x=n._dirtyElements,k=n._normalizedNodes,C=n._updateTags,E=n._deferred;d&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),(function(D,U){const j=D._decorators;let z=D._pendingDecorators||j;const K=U._nodeMap;let re;for(re in z)K.has(re)||(z===j&&(z=Vb(D)),delete z[re])})(n,t);const N=i?null:Xn(An(n));if(n._editable&&N!==null&&(d||c===null||c.dirty||!c.is(l))&&r!==null&&!C.has(aD)){Pt=n,Ot=t;try{if(_!==null&&_.disconnect(),d||c===null||c.dirty){const D=n._blockCursorElement;D!==null&&fg(D,n,r),yD(l,c,n,N,C,r)}(function(D,U,j){let z=D._blockCursorElement;if(X(j)&&j.isCollapsed()&&j.anchor.type==="element"&&U.contains(document.activeElement)){const K=j.anchor,re=K.getNode(),we=K.offset;let fe=!1,Te=null;if(we===re.getChildrenSize())sp(re.getChildAtIndex(we-1))&&(fe=!0);else{const Ie=re.getChildAtIndex(we);if(Ie!==null&&sp(Ie)){const Re=Ie.getPreviousSibling();(Re===null||sp(Re))&&(fe=!0,Te=D.getElementByKey(Ie.__key))}}if(fe){const Ie=D.getElementByKey(re.__key);return z===null&&(D._blockCursorElement=z=(function(Re){const Ne=Re.theme,W=document.createElement("div");W.contentEditable="false",W.setAttribute("data-lexical-cursor","true");let de=Ne.blockCursor;if(de!==void 0){if(typeof de=="string"){const te=Wx(de);de=Ne.blockCursor=te}de!==void 0&&W.classList.add(...de)}return W})(D._config)),U.style.caretColor="transparent",void(Te===null?Ie.appendChild(z):Ie.insertBefore(z,Te))}}z!==null&&fg(z,D,U)})(n,r,c)}finally{_!==null&&_.observe(r,d0),Pt=m,Ot=f}}w!==null&&(function(D,U,j,z,K){const re=Array.from(D._listeners.mutation),we=re.length;for(let fe=0;fe<we;fe++){const[Te,Ie]=re[fe];for(const Re of Ie){const Ne=U.get(Re);Ne!==void 0&&Te(Ne,{dirtyLeaves:z,prevEditorState:K,updateTags:j})}}})(n,w,C,S,a),X(c)||c===null||l!==null&&l.is(c)||n.dispatchCommand(tb,void 0);const M=n._pendingDecorators;M!==null&&(n._decorators=M,n._pendingDecorators=null,yl("decorator",n,!0,M)),(function(D,U,j){const z=v0(U),K=v0(j);z!==K&&yl("textcontent",D,!0,K)})(n,e||a,t),yl("update",n,!0,{dirtyElements:x,dirtyLeaves:S,editorState:t,mutatedNodes:w,normalizedNodes:k,prevEditorState:e||a,tags:C}),(function(D,U){if(D._deferred=[],U.length!==0){const j=D._updating;D._updating=!0;try{for(let z=0;z<U.length;z++)U[z]()}finally{D._updating=j}}})(n,E),(function(D){const U=D._updates;if(U.length!==0){const j=U.shift();if(j){const[z,K]=j;Cd(D,z,K)}}})(n)}function yl(n,e,t,...r){const i=e._updating;e._updating=t;try{const a=Array.from(e._listeners[n]);for(let l=0;l<a.length;l++)a[l].apply(null,r)}finally{e._updating=i}}function g0(n,e){const t=n._updates;let r=e||!1;for(;t.length!==0;){const i=t.shift();if(i){const[a,l]=i,c=n._pendingEditorState;let d;l!==void 0&&(d=l.onUpdate,l.skipTransforms&&(r=!0),l.discrete&&(c===null&&Q(191),c._flushSync=!0),d&&n._deferred.push(d),jb(n,l.tag)),c==null?Cd(n,a,l):a()}}return r}function Cd(n,e,t){const r=n._updateTags;let i,a=!1,l=!1;t!==void 0&&(i=t.onUpdate,jb(n,t.tag),a=t.skipTransforms||!1,l=t.discrete||!1),i&&n._deferred.push(i);const c=n._editorState;let d=n._pendingEditorState,f=!1;(d===null||d._readOnly)&&(d=n._pendingEditorState=Lb(d||c),f=!0),d._flushSync=l;const g=Ot,m=sn,v=Pt,_=n._updating;Ot=d,sn=!1,n._updating=!0,Pt=n;const w=n._headless||n.getRootElement()===null;lm(null);try{f&&(w?c._selection!==null&&(d._selection=c._selection.clone()):d._selection=(function(C,E){const N=C.getEditorState()._selection,M=Xn(An(C));return X(N)||N==null?nm(N,M,C,E):N.clone()})(n,t&&t.event||null));const x=n._compositionKey;e(),a=g0(n,a),(function(C,E){const N=E.getEditorState()._selection,M=C._selection;if(X(M)){const D=M.anchor,U=M.focus;let j;if(D.type==="text"&&(j=D.getNode(),j.selectionTransform(N,M)),U.type==="text"){const z=U.getNode();j!==z&&z.selectionTransform(N,M)}}})(d,n),n._dirtyType!==0&&(a?(function(C,E){const N=E._dirtyLeaves,M=C._nodeMap;for(const D of N){const U=M.get(D);ee(U)&&U.isAttached()&&U.isSimpleText()&&!U.isUnmergeable()&&Vw(U)}})(d,n):(function(C,E){const N=E._dirtyLeaves,M=E._dirtyElements,D=C._nodeMap,U=Cs(),j=new Map;let z=N,K=z.size,re=M,we=re.size;for(;K>0||we>0;){if(K>0){E._dirtyLeaves=new Set;for(const fe of z){const Te=D.get(fe);ee(Te)&&Te.isAttached()&&Te.isSimpleText()&&!Te.isUnmergeable()&&Vw(Te),Te!==void 0&&f0(Te,U)&&h0(E,Te,j),N.add(fe)}if(z=E._dirtyLeaves,K=z.size,K>0){Mc++;continue}}E._dirtyLeaves=new Set,E._dirtyElements=new Map,re.delete("root")&&re.set("root",!0);for(const fe of re){const Te=fe[0],Ie=fe[1];if(M.set(Te,Ie),!Ie)continue;const Re=D.get(Te);Re!==void 0&&f0(Re,U)&&h0(E,Re,j)}z=E._dirtyLeaves,K=z.size,re=E._dirtyElements,we=re.size,Mc++}E._dirtyLeaves=N,E._dirtyElements=M})(d,n),g0(n),(function(C,E,N,M){const D=C._nodeMap,U=E._nodeMap,j=[];for(const[z]of M){const K=U.get(z);K!==void 0&&(K.isAttached()||(V(K)&&Vx(K,z,D,U,j,M),D.has(z)||M.delete(z),j.push(z)))}for(const z of j)U.delete(z);for(const z of N){const K=U.get(z);K===void 0||K.isAttached()||(D.has(z)||N.delete(z),U.delete(z))}})(c,d,n._dirtyLeaves,n._dirtyElements)),x!==n._compositionKey&&(d._flushSync=!0);const k=d._selection;if(X(k)){const C=d._nodeMap,E=k.anchor.key,N=k.focus.key;C.get(E)!==void 0&&C.get(N)!==void 0||Q(19)}else fn(k)&&k._nodes.size===0&&(d._selection=null)}catch(x){return x instanceof Error&&n._onError(x),n._pendingEditorState=c,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Dr(n)}finally{Ot=g,sn=m,Pt=v,n._updating=_,Mc=0}n._dirtyType!==0||n._deferred.length>0||(function(x,k){const C=k.getEditorState()._selection,E=x._selection;if(E!==null){if(E.dirty||!E.is(C))return!0}else if(C!==null)return!0;return!1})(d,n)?d._flushSync?(d._flushSync=!1,Dr(n)):f&&TD(()=>{Dr(n)}):(d._flushSync=!1,f&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function cr(n,e,t){Pt===n&&t===void 0?e():Cd(n,e,t)}class vl{constructor(e,t,r){H(this,"element");H(this,"before");H(this,"after");this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new vl(this.element,e,this.after)}withAfter(e){return new vl(this.element,this.before,e)}withElement(e){return this.element===e?this:new vl(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&Q(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&Q(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&Q(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(Jl||aa||ql);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,i=this.before,a=document.createElement("br");if(r.insertBefore(a,i),e){const l=document.createElement("img");l.setAttribute("data-lexical-linebreak","true"),l.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",l.alt="",r.insertBefore(l,a),r.__lexicalLineBreak=l}else r.__lexicalLineBreak=a}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,i){if(r===this.element){const d=this.getFirstChildOffset();return[e,Math.min(d+e.getChildrenSize(),Math.max(d,i))]}const a=m0(t,r);a.push(i);const l=m0(t,this.element);let c=e.getIndexWithinParent();for(let d=0;d<l.length;d++){const f=a[d],g=l[d];if(f===void 0||f<g)break;if(f>g){c+=1;break}}return[e.getParentOrThrow(),c]}}function m0(n,e){const t=[];let r=e;for(;r!==n&&r!==null;r=r.parentNode){let i=0;for(let a=r.previousSibling;a!==null;a=a.previousSibling)i++;t.push(i)}return r!==n&&Q(225),t.reverse()}class fr extends Jn{constructor(t){super(t);H(this,"__first");H(this,"__last");H(this,"__size");H(this,"__format");H(this,"__style");H(this,"__indent");H(this,"__dir");H(this,"__textFormat");H(this,"__textStyle");this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(t){super.afterCloneFrom(t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return CI[t]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r),r=r.getNextSibling();return t}getChildrenKeys(){const t=[];let r=this.getFirstChild();for(;r!==null;)t.push(r.__key),r=r.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=Ge()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(t)}getAllTextNodes(){const t=[];let r=this.getFirstChild();for(;r!==null;){if(ee(r)&&t.push(r),V(r)){const i=r.getAllTextNodes();t.push(...i)}r=r.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;V(t);){const r=t.getFirstChild();if(r===null)break;t=r}return t}getLastDescendant(){let t=this.getLastChild();for(;V(t);){const r=t.getLastChild();if(r===null)break;t=r}return t}getDescendantByIndex(t){const r=this.getChildren(),i=r.length;if(t>=i){const l=r[i-1];return V(l)&&l.getLastDescendant()||l||null}const a=r[t];return V(a)&&a.getFirstDescendant()||a||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:bt(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&Q(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:bt(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&Q(96,this.__key),t}getChildAtIndex(t){const r=this.getChildrenSize();let i,a;if(t<r/2){for(i=this.getFirstChild(),a=0;i!==null&&a<=t;){if(a===t)return i;i=i.getNextSibling(),a++}return null}for(i=this.getLastChild(),a=r-1;i!==null&&a>=t;){if(a===t)return i;i=i.getPreviousSibling(),a--}return null}getTextContent(){let t="";const r=this.getChildren(),i=r.length;for(let a=0;a<i;a++){const l=r[a];t+=l.getTextContent(),V(l)&&a!==i-1&&!l.isInline()&&(t+=Is)}return t}getTextContentSize(){let t=0;const r=this.getChildren(),i=r.length;for(let a=0;a<i;a++){const l=r[a];t+=l.getTextContentSize(),V(l)&&a!==i-1&&!l.isInline()&&(t+=2)}return t}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(t){if(t!==""){const r=Mw[t];return(this.getFormat()&r)!==0}return!1}hasTextFormat(t){const r=Ti[t];return(this.getTextFormat()&r)!==0}getFormatFlags(t,r){return ud(this.getLatest().__textFormat,t,r)}getTextStyle(){return this.getLatest().__textStyle}select(t,r){zt();const i=oe();let a=t,l=r;const c=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&r===0){const f=this.getFirstChild();if(ee(f)||V(f))return f.select(0,0)}else if(!(t!==void 0&&t!==c||r!==void 0&&r!==c)){const f=this.getLastChild();if(ee(f)||V(f))return f.select()}}a===void 0&&(a=c),l===void 0&&(l=c);const d=this.__key;return X(i)?(i.anchor.set(d,a,"element"),i.focus.set(d,l,"element"),i.dirty=!0,i):Ob(d,a,d,l,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(r=>r.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const r=this.getWritable();return r.__dir=t,r}setFormat(t){return this.getWritable().__format=t!==""?Mw[t]:0,this}setStyle(t){return this.getWritable().__style=t||"",this}setTextFormat(t){const r=this.getWritable();return r.__textFormat=t,r}setTextStyle(t){const r=this.getWritable();return r.__textStyle=t,r}setIndent(t){return this.getWritable().__indent=t,this}splice(t,r,i){od(this)&&Q(324,this.__key,this.__type);const a=this.getChildrenSize(),l=this.getWritable();t+r<=a||Q(226,String(t),String(r),String(a));const c=l.__key,d=[],f=[],g=this.getChildAtIndex(t+r);let m=null,v=a-r+i.length;if(t!==0)if(t===a)m=this.getLastChild();else{const w=this.getChildAtIndex(t);w!==null&&(m=w.getPreviousSibling())}if(r>0){let w=m===null?this.getFirstChild():m.getNextSibling();for(let S=0;S<r;S++){w===null&&Q(100);const x=w.getNextSibling(),k=w.__key;bi(w.getWritable()),f.push(k),w=x}}let _=m;for(const w of i){_!==null&&w.is(_)&&(m=_=_.getPreviousSibling());const S=w.getWritable();S.__parent===c&&v--,bi(S);const x=w.__key;if(_===null)l.__first=x,S.__prev=null;else{const k=_.getWritable();k.__next=x,S.__prev=k.__key}w.__key===c&&Q(76),S.__parent=c,d.push(x),_=w}if(t+r===a)_!==null&&(_.getWritable().__next=null,l.__last=_.__key);else if(g!==null){const w=g.getWritable();if(_!==null){const S=_.getWritable();w.__prev=_.__key,S.__next=g.__key}else w.__prev=null}if(l.__size=v,f.length){const w=oe();if(X(w)){const S=new Set(f),x=new Set(d),{anchor:k,focus:C}=w;y0(k,S,x)&&ld(k,k.getNode(),this,m,g),y0(C,S,x)&&ld(C,C.getNode(),this,m,g),v!==0||this.canBeEmpty()||on(this)||this.remove()}}return l}getDOMSlot(t){return new vl(t)}exportDOM(t){const{element:r}=super.exportDOM(t);if(ft(r)){const i=this.getIndent();i>0&&(r.style.paddingInlineStart=40*i+"px");const a=this.getDirection();a&&(r.dir=a)}return{element:r}}exportJSON(){const t={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},r=this.getTextFormat(),i=this.getTextStyle();return r===0&&i===""||on(this)||this.getChildren().some(ee)||(r!==0&&(t.textFormat=r),i!==""&&(t.textStyle=i)),t}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"")}insertNewAfter(t,r){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,r,i){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(t,r){const i=this.getDOMSlot(t);let a=i.getFirstChild();for(let l=this.getFirstChild();l;l=l.getNextSibling()){const c=r.getElementByKey(l.getKey());c!==null&&(a==null?(i.insertChild(c),a=c):a!==c&&i.replaceChild(c,a),a=a.nextSibling)}}}function V(n){return n instanceof fr}function y0(n,e,t){let r=n.getNode();for(;r;){const i=r.__key;if(e.has(i)&&!t.has(i))return!0;r=r.getParent()}return!1}class sm extends Jn{decorate(e,t){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ke(n){return n instanceof sm}class da extends fr{constructor(){super("root");H(this,"__cachedText");this.__cachedText=null}static getType(){return"root"}static clone(){return new da}getTopLevelElementOrThrow(){Q(51)}getTextContent(){const t=this.__cachedText;return!Ql()&&Ge()._dirtyType!==0||t===null?super.getTextContent():t}remove(){Q(52)}replace(t){Q(53)}insertBefore(t){Q(54)}insertAfter(t){Q(55)}updateDOM(t,r){return!1}splice(t,r,i){for(const a of i)V(a)||Ke(a)||Q(282);return super.splice(t,r,i)}static importJSON(t){return ht().updateFromJSON(t)}collapseAtStart(){return!0}}function mt(n){return n instanceof da}function Lb(n){return new Yl(new Map(n._nodeMap))}function im(){return new Yl(new Map([["root",new da]]))}function Mb(n){const e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&Q(130,t.name),V(n)){const r=e.children;Array.isArray(r)||Q(59,t.name);const i=n.getChildren();for(let a=0;a<i.length;a++){const l=Mb(i[a]);r.push(l)}}return e}function xD(n){return n instanceof Yl}class Yl{constructor(e,t){H(this,"_nodeMap");H(this,"_selection");H(this,"_flushSync");H(this,"_readOnly");this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return p0(t&&t.editor||null,this,e)}clone(e){const t=new Yl(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return p0(null,this,()=>({root:Mb(ht())}))}}class om extends fr{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class ha extends fr{static getType(){return"paragraph"}static clone(e){return new ha(e.__key)}createDOM(e){const t=document.createElement("p"),r=$o(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:bD,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ft(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return Rt().updateFromJSON(e)}exportJSON(){const e=super.exportJSON();if(e.textFormat===void 0||e.textStyle===void 0){const t=this.getChildren().find(ee);t?(e.textFormat=t.getFormat(),e.textStyle=t.getStyle()):(e.textFormat=this.getTextFormat(),e.textStyle=this.getTextStyle())}return e}insertNewAfter(e,t){const r=Rt();r.setTextFormat(e.format),r.setTextStyle(e.style);const i=this.getDirection();return r.setDirection(i),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||ee(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function bD(n){const e=Rt();return n.style&&(e.setFormat(n.style.textAlign),Zb(n,e)),{node:e}}function Rt(){return Fi(new ha)}function am(n){return n instanceof ha}const Le=0,Hn=1,kD=4;function $b(n,e,t,r){const i=n._keyToDOMMap;i.clear(),n._editorState=im(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const a=n._observer;a!==null&&(a.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",i.set("root",t))}function ED(n){const e=new Set,t=new Set;let r=n;for(;r;){const{ownNodeConfig:i}=Pd(r),a=r.transform;if(!t.has(a)){t.add(a);const l=r.transform();l&&e.add(l)}if(i){const l=i.$transform;l&&e.add(l),r=i.extends}else{const l=Object.getPrototypeOf(r);r=l.prototype instanceof Jn&&l!==Jn?l:void 0}}return e}function Fb(n){const e=n||{},t=wD(),r=e.theme||{},i=n===void 0?t:e.parentEditor||null,a=e.disableEvents||!1,l=im(),c=e.namespace||(i!==null?i._config.namespace:Jb()),d=e.editorState,f=[da,Ms,la,ua,ha,om,...e.nodes||[]],{onError:g,html:m}=e,v=e.editable===void 0||e.editable;let _;if(n===void 0&&t!==null)_=t._nodes;else{_=new Map;for(let S=0;S<f.length;S++){let x=f[S],k=null,C=null;if(typeof x!="function"){const M=x;x=M.replace,k=M.with,C=M.withKlass||null}Pd(x);const E=x.getType(),N=ED(x);_.set(E,{exportDOM:m&&m.export?m.export.get(x):void 0,klass:x,replace:k,replaceWithKlass:C,sharedNodeState:II(f[S]),transforms:N})}}const w=new Ri(l,i,_,{disableEvents:a,namespace:c,theme:r},g||console.error,(function(S,x){const k=new Map,C=new Set,E=N=>{Object.keys(N).forEach(M=>{let D=k.get(M);D===void 0&&(D=[],k.set(M,D)),D.push(N[M])})};return S.forEach(N=>{const M=N.klass.importDOM;if(M==null||C.has(M))return;C.add(M);const D=M.call(N.klass);D!==null&&E(D)}),x&&E(x),k})(_,m?m.import:void 0),v,n);return d!==void 0&&(w._pendingEditorState=d,w._dirtyType=2),(function(S){S.registerCommand(rb,YI,Le),S.registerCommand(sb,XI,Le),S.registerCommand(ib,ZI,Le),S.registerCommand(ob,eD,Le),S.registerCommand(ab,tD,Le)})(w),w}class Ri{constructor(e,t,r,i,a,l,c,d){H(this,"_headless");H(this,"_parentEditor");H(this,"_rootElement");H(this,"_editorState");H(this,"_pendingEditorState");H(this,"_compositionKey");H(this,"_deferred");H(this,"_keyToDOMMap");H(this,"_updates");H(this,"_updating");H(this,"_listeners");H(this,"_commands");H(this,"_nodes");H(this,"_decorators");H(this,"_pendingDecorators");H(this,"_config");H(this,"_dirtyType");H(this,"_cloneNotNeeded");H(this,"_dirtyLeaves");H(this,"_dirtyElements");H(this,"_normalizedNodes");H(this,"_updateTags");H(this,"_observer");H(this,"_key");H(this,"_onError");H(this,"_htmlConversions");H(this,"_window");H(this,"_editable");H(this,"_blockCursorElement");H(this,"_createEditorArgs");this._createEditorArgs=d,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Jb(),this._onError=a,this._htmlConversions=l,this._editable=c,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&Q(35);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const a=i.get(e);a===void 0&&Q(36,String(e));const l=a[r];return l.add(t),()=>{l.delete(t),a.every(c=>c.size===0)&&i.delete(e)}}registerMutationListener(e,t,r){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,a=this._listeners.mutation;let l=a.get(t);l===void 0&&(l=new Set,a.set(t,l)),l.add(i);const c=r&&r.skipInitialization;return c!==void 0&&c||this.initializeMutationListener(t,i),()=>{l.delete(i),l.size===0&&a.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&Q(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const r=this._editorState,i=E0(r).get(t.getType());if(!i)return;const a=new Map;for(const l of i.keys())a.set(l,"created");a.size>0&&e(a,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){const r=this.registerNodeTransformToKlass(e,t),i=[r],a=r.replaceWithKlass;if(a!=null){const l=this.registerNodeTransformToKlass(a,t);i.push(l)}return(function(l,c){const d=E0(l.getEditorState()),f=[];for(const g of c){const m=d.get(g);m&&f.push(m)}f.length!==0&&l.update(()=>{for(const g of f)for(const m of g.keys()){const v=bt(m);v&&v.markDirty()}},l._pendingEditorState===null?{tag:Si}:void 0)})(this,i.map(l=>l.klass.getType())),()=>{i.forEach(l=>l.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return se(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const r=$o(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,$b(this,t,e,i),t!==null&&(this._config.disableEvents||nD(t),r!=null&&t.classList.remove(...r)),e!==null){const a=ym(e),l=e.style;l.userSelect="text",l.whiteSpace="pre-wrap",l.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=a,this._dirtyType=2,Jx(this),this._updateTags.add(Si),Dr(this),this._config.disableEvents||(function(c,d){const f=c.ownerDocument;tg.set(c,f);const g=sd.get(f)??0;g<1&&f.addEventListener("selectionchange",xb),sd.set(f,g+1),c.__lexicalEditor=d;const m=Sb(c);for(let v=0;v<eg.length;v++){const[_,w]=eg[v],S=typeof w=="function"?x=>{Xw(x)||(Yw(x),(d.isEditable()||_==="click")&&w(x,d))}:x=>{if(Xw(x))return;Yw(x);const k=d.isEditable();switch(_){case"cut":return k&&se(d,em,x);case"copy":return se(d,kd,x);case"paste":return k&&se(d,Hg,x);case"dragstart":return k&&se(d,fb,x);case"dragover":return k&&se(d,pb,x);case"dragend":return k&&se(d,VI,x);case"focus":return k&&se(d,JI,x);case"blur":return k&&se(d,GI,x);case"drop":return k&&se(d,hb,x)}};c.addEventListener(_,S),m.push(()=>{c.removeEventListener(_,S)})}})(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(Si),Dr(this);yl("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&Q(38);let r=e;r._readOnly&&(r=Lb(e),r._selection=e._selection?e._selection.clone():null),qx(this);const i=this._pendingEditorState,a=this._updateTags,l=t!==void 0?t.tag:null;i===null||i.isEmpty()||(l!=null&&a.add(l),Dr(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,l!=null&&a.add(l),this._updating||Dr(this)}parseEditorState(e,t){return(function(r,i,a){const l=im(),c=Ot,d=sn,f=Pt,g=i._dirtyElements,m=i._dirtyLeaves,v=i._cloneNotNeeded,_=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Ot=l,sn=!1,Pt=i,lm(null);try{const w=i._nodes;rm(r.root,w),a&&a(),l._readOnly=!0}catch(w){w instanceof Error&&i._onError(w)}finally{i._dirtyElements=g,i._dirtyLeaves=m,i._cloneNotNeeded=v,i._dirtyType=_,Ot=c,sn=d,Pt=f}return l})(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return Dr(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,i,a){r._updating?r._updates.push([i,a]):Cd(r,i,a)})(this,e,t)}focus(e,t={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),cr(this,()=>{const i=oe(),a=ht();i!==null?i.dirty||an(i.clone()):a.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?a.selectStart():a.selectEnd()),RD("focus"),AD(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=Xn(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,yl("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}H(Ri,"version");Ri.version="0.39.0+prod.esm";let cg=null;function lm(n){cg=n}let CD=1;function Ub(n,e){const t=um(n,e);return t===void 0&&Q(30,e),t}function um(n,e){return n._nodes.get(e)}const TD=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function zb(n){return Ke(Fr(n))}function cm(n){const e=document.activeElement;if(!ft(e))return!1;const t=e.nodeName;return Ke(Fr(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&Td(e)==null)}function Xl(n,e,t){const r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!cm(e)&&hm(e)===n}catch{return!1}}function dm(n){return n instanceof Ri}function hm(n){let e=n;for(;e!=null;){const t=Td(e);if(dm(t))return t;e=Zl(e)}return null}function Td(n){return n?n.__lexicalEditor:null}function xi(n){return Cb(n)||n.isToken()}function Nr(n){return xi(n)||n.isSegmented()}function Kr(n){return fa(n)&&n.nodeType===3}function Bb(n){return fa(n)&&n.nodeType===9}function Xo(n){let e=n;for(;e!=null;){if(Kr(e))return e;e=e.firstChild}return null}function ud(n,e,t){const r=Ti[e];if(t!==null&&(n&r)===(t&r))return n;let i=n^r;return e==="subscript"?i&=-65:e==="superscript"?i&=-33:e==="lowercase"?(i&=-513,i&=-1025):e==="uppercase"?(i&=-257,i&=-1025):e==="capitalize"&&(i&=-257,i&=-513),i}function Wb(n){return ee(n)||Mo(n)||Ke(n)}function ND(n,e){const t=(function(){const l=cg;return cg=null,l})();if((e=e||t&&t.__key)!=null)return void(n.__key=e);zt(),Ib();const r=Ge(),i=$s(),a=""+CD++;i._nodeMap.set(a,n),V(n)?r._dirtyElements.set(a,!0):r._dirtyLeaves.add(a),r._cloneNotNeeded.add(a),r._dirtyType=1,n.__key=a}function bi(n){const e=n.getParent();if(e!==null){const t=n.getWritable(),r=e.getWritable(),i=n.getPreviousSibling(),a=n.getNextSibling(),l=a!==null?a.__key:null,c=i!==null?i.__key:null,d=i!==null?i.getWritable():null,f=a!==null?a.getWritable():null;i===null&&(r.__first=l),a===null&&(r.__last=c),d!==null&&(d.__next=l),f!==null&&(f.__prev=c),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function cd(n){Ib(),od(n)&&Q(323,n.__key,n.__type);const e=n.getLatest(),t=e.__parent,r=$s(),i=Ge(),a=r._nodeMap,l=i._dirtyElements;t!==null&&(function(d,f,g){let m=d;for(;m!==null;){if(g.has(m))return;const v=f.get(m);if(v===void 0)break;g.set(m,!1),m=v.__parent}})(t,a,l);const c=e.__key;i._dirtyType=1,V(n)?l.set(c,!0):i._dirtyLeaves.add(c)}function Lt(n){zt();const e=Ge(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){const r=bt(t);r!==null&&r.getWritable()}if(n!==null){const r=bt(n);r!==null&&r.getWritable()}}}function Cs(){return Ql()?null:Ge()._compositionKey}function bt(n,e){const t=(e||$s())._nodeMap.get(n);return t===void 0?null:t}function Kb(n,e){const t=Nd(n,Ge());return t!==void 0?bt(t,e):null}function Nd(n,e){return n[`__lexicalKey_${e._key}`]}function Fr(n,e){let t=n;for(;t!=null;){const r=Kb(t,e);if(r!==null)return r;t=Zl(t)}return null}function Vb(n){const e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function v0(n){return n.read(()=>ht().getTextContent())}function ht(){return Hb($s())}function Hb(n){return n._nodeMap.get("root")}function an(n){zt();const e=$s();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function Ao(n){const e=Ge(),t=(function(r,i){let a=r;for(;a!=null;){const l=Nd(a,i);if(l!==void 0)return l;a=Zl(a)}return null})(n,e);return t===null?n===e.getRootElement()?bt("root"):null:bt(t)}function qb(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function fm(n){const e=[];let t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function Jb(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function Gb(n){return Kr(n)?n.nodeValue:null}function pm(n,e,t){const r=Xn(An(e));if(r===null)return;const i=r.anchorNode;let{anchorOffset:a,focusOffset:l}=r;if(i!==null){let c=Gb(i);const d=Fr(i);if(c!==null&&ee(d)){if(c===xd&&t){const f=t.length;c=t,a=f,l=f}c!==null&&gm(d,c,a,l,n)}}}function gm(n,e,t,r,i){let a=n;if(a.isAttached()&&(i||!a.isDirty())){const l=a.isComposing();let c=e;(l||i)&&e[e.length-1]===xd&&(c=e.slice(0,-1));const d=a.getTextContent();if(i||c!==d){if(c===""){if(Lt(null),ql||aa||Jl)a.remove();else{const S=Ge();setTimeout(()=>{S.update(()=>{a.isAttached()&&a.remove()})},20)}return}const f=a.getParent(),g=ca(),m=a.getTextContentSize(),v=Cs(),_=a.getKey();if(a.isToken()||v!==null&&_===v&&!l||X(g)&&(f!==null&&!f.canInsertTextBefore()&&g.anchor.offset===0||g.anchor.key===n.__key&&g.anchor.offset===0&&!a.canInsertTextBefore()&&!l||g.focus.key===n.__key&&g.focus.offset===m&&!a.canInsertTextAfter()&&!l))return void a.markDirty();const w=oe();if(!X(w)||t===null||r===null)return void _0(a,c,w);if(w.setTextNodeRange(a,t,a,r),a.isSegmented()){const S=Nt(a.getTextContent());a.replace(S),a=S}_0(a,c,w)}}}function _0(n,e,t){if(n.setTextContent(e),X(t)){const r=n.getKey();for(const i of["anchor","focus"]){const a=t[i];a.type==="text"&&a.key===r&&(a.offset=Ps(n,a.offset,"clamp"))}}}function Ec(n,e,t){const r=e[t]||!1;return r==="any"||r===n[t]}function OD(n,e){return Ec(n,e,"altKey")&&Ec(n,e,"ctrlKey")&&Ec(n,e,"shiftKey")&&Ec(n,e,"metaKey")}function Je(n,e,t){return OD(n,t)&&n.key.toLowerCase()===e.toLowerCase()}const Cr={ctrlKey:!Vn,metaKey:Vn},w0={altKey:Vn,ctrlKey:!Vn};function S0(n){return n.key==="Backspace"}function x0(n){return Je(n,"a",Cr)}function PD(n){const e=ht();if(X(n)){const t=n.anchor,r=n.focus,i=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(i.getKey(),0,"element"),r.set(i.getKey(),i.getChildrenSize(),"element"),Xc(n),n}{const t=e.select(0,e.getChildrenSize());return an(Xc(t)),t}}function $o(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const t=n.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;const i=n[e];if(typeof i=="string"){const a=Wx(i);return t[e]=a,a}return i}function mm(n,e,t,r,i){if(t.size===0)return;const a=r.__type,l=r.__key,c=e.get(a);c===void 0&&Q(33,a);const d=c.klass;let f=n.get(d);f===void 0&&(f=new Map,n.set(d,f));const g=f.get(l),m=g==="destroyed"&&i==="created";(g===void 0||m)&&f.set(l,m?"updated":i)}function b0(n,e,t){const r=n.getParent();let i=t,a=n;return r!==null&&(e&&t===0?(i=a.getIndexWithinParent(),a=r):e||t!==a.getChildrenSize()||(i=a.getIndexWithinParent()+1,a=r)),a.getChildAtIndex(e?i-1:i)}function dg(n,e){const t=n.offset;if(n.type==="element")return b0(n.getNode(),e,t);{const r=n.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){const i=e?r.getPreviousSibling():r.getNextSibling();return i===null?b0(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):i}}return null}function Qb(n){const e=An(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function se(n,e,t){return(function(r,i,a){const l=fm(r);for(let c=4;c>=0;c--)for(let d=0;d<l.length;d++){const f=l[d],g=f._commands.get(i);if(g!==void 0){const m=g[c];if(m!==void 0){const v=Array.from(m),_=v.length;let w=!1;if(cr(f,()=>{for(let S=0;S<_;S++)if(v[S](a,r))return void(w=!0)}),w)return w}}}return!1})(n,e,t)}function Od(n){return!mt(n)&&!n.isLastChild()&&!n.isInline()}function Ai(n,e){const t=n._keyToDOMMap.get(e);return t===void 0&&Q(75,e),t}function Zl(n){const e=n.assignedSlot||n.parentElement;return pg(e)?e.host:e}function Yb(n){return Bb(n)?n:ft(n)?n.ownerDocument:null}function RD(n){zt(),Ge()._updateTags.add(n)}function AD(n){zt(),Ge()._deferred.push(n)}function hg(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function ym(n){const e=Yb(n);return e?e.defaultView:null}function An(n){const e=n._window;return e===null&&Q(78),e}function ID(n){let e=n.getParentOrThrow();for(;e!==null;){if(on(e))return e;e=e.getParentOrThrow()}return e}function on(n){return mt(n)||V(n)&&n.isShadowRoot()}function Fi(n){const e=Ge(),t=n.getType(),r=um(e,t);r===void 0&&Q(200,n.constructor.name,t);const{replace:i,replaceWithKlass:a}=r;if(i!==null){const l=i(n),c=l.constructor;return a!==null?l instanceof a||Q(201,a.name,a.getType(),c.name,c.getType(),n.constructor.name,t):l instanceof n.constructor&&c!==n.constructor||Q(202,c.name,c.getType(),n.constructor.name,t),l.__key===n.__key&&Q(203,n.constructor.name,t,c.name,c.getType()),l}return n}function rp(n,e){!mt(n.getParent())||V(e)||Ke(e)||Q(99)}function DD(n){const e=bt(n);return e===null&&Q(63,n),e}function sp(n){return(Ke(n)||V(n)&&!n.canBeEmpty())&&!n.isInline()}function fg(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=n.parentElement;r!==null&&r.removeChild(n)}function Xn(n){return Yn?(n||window).getSelection():null}function jD(n){const e=ym(n);return e?e.getSelection():null}function ft(n){return fa(n)&&n.nodeType===1}function fa(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function pg(n){return fa(n)&&n.nodeType===11}function gg(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function dd(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function gs(n){if(Ke(n)&&!n.isInline())return!0;if(!V(n)||on(n))return!1;const e=n.getFirstChild(),t=e===null||Mo(e)||ee(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function vm(){return Ge()}const k0=new WeakMap,LD=new Map;function E0(n){if(!n._readOnly&&n.isEmpty())return LD;n._readOnly||Q(192);let e=k0.get(n);return e||(e=(function(t){const r=new Map;for(const[i,a]of t._nodeMap){const l=a.__type;let c=r.get(l);c||(c=new Map,r.set(l,c)),c.set(i,a)}return r})(n),k0.set(n,e)),e}function Xb(n){const e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function MD(n){return(e=Xb(n))[bb]=!0,e;var e}function Zb(n,e){const t=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function $D(n){return n.__lexicalUnmanaged===!0}function al(n,e){return(function(t,r){return Object.prototype.hasOwnProperty.call(t,r)})(n,e)&&n[e]!==Jn[e]}function Pd(n){const e=$w in n.prototype?n.prototype[$w]():void 0,t=(function(l){if(!(l===Jn||l.prototype instanceof Jn)){let c="<unknown>",d="<unknown>";try{c=l.getType()}catch{}try{Ri.version&&(d=JSON.parse(Ri.version))}catch{}Q(290,l.name,c,d)}return l===sm||l===fr||l===Jn})(n),r=!t&&al(n,"getType")?n.getType():void 0;let i,a=r;if(e)if(r)i=e[r];else for(const[l,c]of Object.entries(e))a=l,i=c;if(!t&&a&&(al(n,"getType")||(n.getType=()=>a),al(n,"clone")||(n.clone=l=>(lm(l),new n)),al(n,"importJSON")||(n.importJSON=i&&i.$importJSON||(l=>new n().updateFromJSON(l))),!al(n,"importDOM")&&i)){const{importDOM:l}=i;l&&(n.importDOM=()=>l)}return{ownNodeConfig:i,ownNodeType:a}}const Lr=(n,e)=>{let t=n;for(;t!=null&&!mt(t);){if(e(t))return t;t=t.getParent()}return null},FD={next:"previous",previous:"next"};class _m{constructor(e){H(this,"origin");this.origin=e}[Symbol.iterator](){return ek({hasNext:Zo,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Wt(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Wt(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){const i=r===this.direction?t:Array.from(t).reverse();let a=this;const l=this.getParentAtCaret(),c=new Map;for(let d=a.getAdjacentCaret();d!==null&&c.size<e;d=d.getAdjacentCaret()){const f=d.origin.getWritable();c.set(f.getKey(),f)}for(const d of i){if(c.size>0){const f=a.getNodeAtCaret();if(f){if(c.delete(f.getKey()),c.delete(d.getKey()),!(f.is(d)||a.origin.is(d))){const g=d.getParent();g&&g.is(l)&&d.remove(),f.replace(d)}}else f===null&&Q(263,Array.from(c).join(" "))}else a.insert(d);a=Wt(d,this.direction)}for(const d of c.values())d.remove();return this}}class jl extends _m{constructor(){super(...arguments);H(this,"type","child")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Gn(t,this.direction)}getParentCaret(t="root"){return Wt(wm(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=pa(this.direction);return Wt(this.getNodeAtCaret(),t)||Gn(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof jl&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const UD={root:mt,shadowRoot:on};function pa(n){return FD[n]}function wm(n,e="root"){return UD[e](n)?null:n}class Ii extends _m{constructor(){super(...arguments);H(this,"type","sibling")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Wt(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return V(this.origin)?Gn(this.origin,this.direction):null}getParentCaret(t="root"){return Wt(wm(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=pa(this.direction);return Wt(this.getNodeAtCaret(),t)||Gn(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof Ii&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof Ii||t instanceof Di)&&this.direction===t.direction&&this.origin.is(t.origin)}}class Di extends _m{constructor(t,r){super(t);H(this,"type","text");H(this,"offset");this.offset=r}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:ji(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return Wt(wm(this.getParentAtCaret(),t),this.direction)}getFlipped(){return ji(this.origin,pa(this.direction),this.offset)}isSamePointCaret(t){return t instanceof Di&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof Ii||t instanceof Di)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return Wt(this.origin,this.direction)}}function Os(n){return n instanceof Di}function Zo(n){return n instanceof Ii}function dr(n){return n instanceof jl}const zD={next:class extends Di{constructor(){super(...arguments);H(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Di{constructor(){super(...arguments);H(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},BD={next:class extends Ii{constructor(){super(...arguments);H(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Ii{constructor(){super(...arguments);H(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},WD={next:class extends jl{constructor(){super(...arguments);H(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends jl{constructor(){super(...arguments);H(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function Wt(n,e){return n?new BD[e](n):null}function ji(n,e,t){return n?new zD[e](n,Ps(n,t)):null}function Ps(n,e,t="error"){const r=n.getTextContentSize();let i=e==="next"?r:e==="previous"?0:e;return(i<0||i>r)&&(t!=="clamp"&&zx(284,String(e),String(r),n.getKey()),i=i<0?0:r),i}function C0(n,e){return new VD(n,e)}function Gn(n,e){return V(n)?new WD[e](n):null}function KD(n){return n&&n.getChildCaret()||n}function Sm(n){return n&&KD(n.getAdjacentCaret())}class xm{constructor(e,t,r){H(this,"type","node-caret-range");H(this,"direction");H(this,"anchor");H(this,"focus");this.anchor=e,this.focus=t,this.direction=r}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new xm(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=i=>{const a=this[i].getLatest();return Os(a)?(function(l,c){const{direction:d,origin:f}=l,g=Ps(f,c==="focus"?pa(d):d);return C0(l,g-l.offset)})(a,i):null},t=e("anchor"),r=e("focus");if(t&&r){const{caret:i}=t,{caret:a}=r;if(i.isSameNodeCaret(a))return[C0(i,a.offset-i.offset),null]}return[t,r]}iterNodeCarets(e="root"){const t=Os(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),i=Os(r),a=l=>l.isSameNodeCaret(r)?null:Sm(l)||l.getParentCaret(e);return ek({hasNext:l=>l!==null&&!(i&&r.isSameNodeCaret(l)),initial:t.isSameNodeCaret(r)?null:a(t),map:l=>l,step:a})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class VD{constructor(e,t){H(this,"type","slice");H(this,"caret");H(this,"distance");this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[r,i]=this.getSliceIndices(),a=e.getTextContent();return ji(e.setTextContent(a.slice(0,r)+a.slice(i)),t,r)}}function bm(n){return Ds(n,Wt(ht(),n.direction))}function HD(n){return Ds(n,n)}function Ds(n,e){return n.direction!==e.direction&&Q(265),new xm(n,e,n.direction)}function ek(n){const{initial:e,hasNext:t,step:r,map:i}=n;let a=e;return{[Symbol.iterator](){return this},next(){if(!t(a))return{done:!0,value:void 0};const l={done:!1,value:i(a)};return a=r(a),l}}}function tk(n,e){const t=$c(n.origin,e.origin);switch(t===null&&Q(275,n.origin.getKey(),e.origin.getKey()),t.type){case"same":{const r=n.type==="text",i=e.type==="text";return r&&i?(function(a,l){return Math.sign(a-l)})(n.offset,e.offset):n.type===e.type?0:r?-1:i?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return nk(t)}}function nk(n){const{a:e,b:t}=n,r=e.__key,i=t.__key;let a=e,l=t;for(;a&&l;a=a.getNextSibling(),l=l.getNextSibling()){if(a.__key===i)return-1;if(l.__key===r)return 1}return a===null?1:-1}function Cc(n,e){return e.is(n)}function T0(n){return V(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function $c(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};const t=new Map;for(let[r,i]=T0(n);r;i=r,r=r.getParent())t.set(r,i);for(let[r,i]=T0(e);r;i=r,r=r.getParent()){const a=t.get(r);if(a!==void 0)return a===null?(Cc(n,r)||Q(276),{commonAncestor:r,type:"ancestor"}):i===null?(Cc(e,r)||Q(277),{commonAncestor:r,type:"descendant"}):((V(a)||Cc(n,a))&&(V(i)||Cc(e,i))&&r.is(a.getParent())&&r.is(i.getParent())||Q(278),{a,b:i,commonAncestor:r,type:"branch"})}return null}function Ur(n,e){const{type:t,key:r,offset:i}=n,a=DD(n.key);return t==="text"?(ee(a)||Q(266,a.getType(),r),ji(a,e,i)):(V(a)||Q(267,a.getType(),r),GD(a,n.offset,e))}function Li(n,e){const{origin:t,direction:r}=e,i=r==="next";Os(e)?n.set(t.getKey(),e.offset,"text"):Zo(e)?ee(t)?n.set(t.getKey(),Ps(t,r),"text"):n.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(i?1:0),"element"):(dr(e)&&V(t)||Q(268),n.set(t.getKey(),i?0:t.getChildrenSize(),"element"))}function qD(n){const e=oe(),t=X(e)?e:Pb();return Fc(t,n),an(t),t}function Fc(n,e){Li(n.anchor,e.anchor),Li(n.focus,e.focus)}function N0(n){const{anchor:e,focus:t}=n,r=Ur(e,"next"),i=Ur(t,"next"),a=tk(r,i)<=0?"next":"previous";return Ds(ea(r,a),ea(i,a))}function km(n){const{direction:e,origin:t}=n,r=Wt(t,pa(e)).getNodeAtCaret();return r?Wt(r,e):Gn(t.getParentOrThrow(),e)}function O0(n,e="root"){const t=[n];for(let r=dr(n)?n.getParentCaret(e):n.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(km(r));return t}function ip(n){return!!n&&n.origin.isAttached()}function JD(n,e="removeEmptySlices"){if(n.isCollapsed())return n;const t="root",r="next";let i=e;const a=sk(n,r),l=O0(a.anchor,t),c=O0(a.focus.getFlipped(),t),d=new Set,f=[];for(const w of a.iterNodeCarets(t))if(dr(w))d.add(w.origin.getKey());else if(Zo(w)){const{origin:S}=w;V(S)&&!d.has(S.getKey())||f.push(S)}for(const w of f)w.remove();for(const w of a.getTextSlices()){if(!w)continue;const{origin:S}=w.caret,x=S.getTextContentSize(),k=km(Wt(S,r)),C=S.getMode();if(Math.abs(w.distance)===x&&i==="removeEmptySlices"||C==="token"&&w.distance!==0)k.remove();else if(w.distance!==0){i="removeEmptySlices";let E=w.removeTextSlice();const N=w.caret.origin;if(C==="segmented"){const M=E.origin,D=Nt(M.getTextContent()).setStyle(M.getStyle()).setFormat(M.getFormat());k.replaceOrInsert(D),E=ji(D,r,E.offset)}N.is(l[0].origin)&&(l[0]=E),N.is(c[0].origin)&&(c[0]=E.getFlipped())}}let g,m;for(const w of l)if(ip(w)){g=Nn(w);break}for(const w of c)if(ip(w)){m=Nn(w);break}const v=(function(w,S,x){if(!w||!S)return null;const k=w.getParentAtCaret(),C=S.getParentAtCaret();if(!k||!C)return null;const E=k.getParents().reverse();E.push(k);const N=C.getParents().reverse();N.push(C);const M=Math.min(E.length,N.length);let D;for(D=0;D<M&&E[D]===N[D];D++);const U=(K,re)=>{let we;for(let fe=D;fe<K.length;fe++){const Te=K[fe];if(on(Te))return;!we&&re(Te)&&(we=Te)}return we},j=U(E,gs),z=j&&U(N,K=>x.has(K.getKey())&&gs(K));return j&&z?[j,z]:null})(g,m,d);if(v){const[w,S]=v;Gn(w,"previous").splice(0,S.getChildren()),S.remove()}const _=[g,m,...l,...c].find(ip);if(_)return HD(ea(Nn(_),n.direction));Q(269,JSON.stringify(l.map(w=>w.origin.__key)))}function Nn(n){const e=(function(i){let a=i;for(;dr(a);){const l=Sm(a);if(!dr(l))break;a=l}return a})(n.getLatest()),{direction:t}=e;if(ee(e.origin))return Os(e)?e:ji(e.origin,t,t);const r=e.getAdjacentCaret();return Zo(r)&&ee(r.origin)?ji(r.origin,t,pa(t)):e}function rk(n){return Os(n)&&n.offset!==Ps(n.origin,n.direction)}function ea(n,e){return n.direction===e?n:n.getFlipped()}function sk(n,e){return n.direction===e?n:Ds(ea(n.focus,e),ea(n.anchor,e))}function GD(n,e,t){let r=Gn(n,"next");for(let i=0;i<e;i++){const a=r.getAdjacentCaret();if(a===null)break;r=a}return ea(r,t)}function QD(...n){return n}function YD(n,e){if(!e||n===e)return n;for(const t in e)if(n[t]!==e[t])return{...n,...e};return n}const ik=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,XD=ik?O.useLayoutEffect:O.useEffect,Tc={tag:Si};function ZD({initialConfig:n,children:e}){const t=O.useMemo(()=>{const{theme:r,namespace:i,nodes:a,onError:l,editorState:c,html:d}=n,f=hI(null,r),g=Fb({editable:n.editable,html:d,namespace:i,nodes:a,onError:m=>l(m,g),theme:r});return(function(m,v){if(v!==null){if(v===void 0)m.update(()=>{const _=ht();if(_.isEmpty()){const w=Rt();_.append(w);const S=ik?document.activeElement:null;(oe()!==null||S!==null&&S===m.getRootElement())&&w.select()}},Tc);else if(v!==null)switch(typeof v){case"string":{const _=m.parseEditorState(v);m.setEditorState(_,Tc);break}case"object":m.setEditorState(v,Tc);break;case"function":m.update(()=>{ht().isEmpty()&&v(m)},Tc)}}})(g,c),[g,f]},[]);return XD(()=>{const r=n.editable,[i]=t;i.setEditable(r===void 0||r)},[]),A.jsx(Ux.Provider,{value:t,children:e})}const ej=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?O.useLayoutEffect:O.useEffect;function tj(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function nj(){return(function(n){const[e]=Ls(),t=O.useMemo(()=>n(e),[e,n]),[r,i]=O.useState(()=>t.initialValueFn()),a=O.useRef(r);return ej(()=>{const{initialValueFn:l,subscribe:c}=t,d=l();return a.current!==d&&(a.current=d,i(d)),c(f=>{a.current=f,i(f)})},[t,n]),r})(tj)}const mg=new Map;function ok(n){const e={};if(!n)return e;const t=n.split(";");for(const r of t)if(r!==""){const[i,a]=r.split(/:([^]+)/);i&&a&&(e[i.trim()]=a.trim())}return e}function P0(n){let e=mg.get(n);return e===void 0&&(e=ok(n),mg.set(n,e)),e}function ak(n){const e=vm().getElementByKey(n.getKey());if(e===null)return null;const t=e.ownerDocument.defaultView;return t===null?null:t.getComputedStyle(e)}function lk(n){return ak(mt(n)?n:n.getParentOrThrow())}function R0(n){const e=lk(n);return e!==null&&e.direction==="rtl"}function uk(n,e,t="self"){const r=n.getStartEndPoints();if(e.isSelected(n)&&!Nr(e)&&r!==null){const[i,a]=r,l=n.isBackward(),c=i.getNode(),d=a.getNode(),f=e.is(c),g=e.is(d);if(f||g){const[m,v]=lg(n),_=c.is(d),w=e.is(l?d:c),S=e.is(l?c:d);let x,k=0;_?(k=m>v?v:m,x=m>v?m:v):w?(k=l?v:m,x=void 0):S&&(k=0,x=l?m:v);const C=e.__text.slice(k,x);C!==e.__text&&(t==="clone"&&(e=MD(e)),e.__text=C)}}return e}function rj(n){const e=n.getStyle(),t=ok(e);mg.set(e,t)}function ck(n){const e=dk(n);return e!==null&&e.writingMode==="vertical-rl"}function dk(n){const e=n.anchor.getNode();return V(e)?ak(e):lk(e)}function A0(n,e){let t=ck(n)?!e:e;hk(n)&&(t=!t);const r=Ur(n.focus,t?"previous":"next");if(rk(r))return!1;for(const i of bm(r)){if(dr(i))return!i.origin.isInline();if(!V(i.origin)){if(Ke(i.origin))return!0;break}}return!1}function sj(n,e,t,r){n.modify(e?"extend":"move",t,r)}function hk(n){const e=dk(n);return e!==null&&e.direction==="rtl"}function I0(n,e,t){const r=hk(n);let i;i=ck(n)||r?!t:t,sj(n,e,i,"character")}function ij(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Rd=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,oj=Rd&&"documentMode"in document?document.documentMode:null,aj=Rd&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!Rd||!("InputEvent"in window)||oj)&&"getTargetRanges"in new window.InputEvent("input");function fk(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}function zr(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}const lj=Rd,uj=aj;function Em(n,...e){const t=fk(...e);t.length>0&&n.classList.add(...t)}function pk(n,...e){const t=fk(...e);t.length>0&&n.classList.remove(...t)}function cj(n,e){let t=n;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function dj(n){const e=Lr(n,t=>V(t)&&!t.isInline());return V(e)||ij(4,n.__key),e}function ci(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}let op=!(uj||!lj)&&void 0;function hj(n){let e=1;if((function(){if(op===void 0){const t=document.createElement("div");t.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(t);const r=t.getBoundingClientRect();t.style.setProperty("zoom","2"),op=t.getBoundingClientRect().width===r.width,document.body.removeChild(t)}return op})())for(;n;)e*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return e}const fj=Symbol.for("preact-signals");function Ad(){if(Rs>1)return void Rs--;let n,e=!1;for(;_l!==void 0;){let t=_l;for(_l=void 0,yg++;t!==void 0;){const r=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&gk(t))try{t.c()}catch(i){e||(n=i,e=!0)}t=r}}if(yg=0,Rs--,e)throw n}function pj(n){if(Rs>0)return n();Rs++;try{return n()}finally{Ad()}}let Ve,_l;function D0(n){const e=Ve;Ve=void 0;try{return n()}finally{Ve=e}}let Rs=0,yg=0,Uc=0;function j0(n){if(Ve===void 0)return;let e=n.n;return e===void 0||e.t!==Ve?(e={i:0,S:n,p:Ve.s,n:void 0,t:Ve,e:void 0,x:void 0,r:e},Ve.s!==void 0&&(Ve.s.n=e),Ve.s=e,n.n=e,32&Ve.f&&n.S(e),e):e.i===-1?(e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=Ve.s,e.n=void 0,Ve.s.n=e,Ve.s=e),e):void 0}function Ht(n,e){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}function gj(n,e){return new Ht(n,e)}function gk(n){for(let e=n.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function L0(n){for(let e=n.s;e!==void 0;e=e.n){const t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){n.s=e;break}}}function mk(n){let e,t=n.s;for(;t!==void 0;){const r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):e=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}n.s=e}function wo(n,e){Ht.call(this,void 0),this.x=n,this.s=void 0,this.g=Uc-1,this.f=4,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}function yk(n){const e=n.u;if(n.u=void 0,typeof e=="function"){Rs++;const t=Ve;Ve=void 0;try{e()}catch(r){throw n.f&=-2,n.f|=8,Cm(n),r}finally{Ve=t,Ad()}}}function Cm(n){for(let e=n.s;e!==void 0;e=e.n)e.S.U(e);n.x=void 0,n.s=void 0,yk(n)}function mj(n){if(Ve!==this)throw new Error("Out-of-order effect");mk(this),Ve=n,this.f&=-2,8&this.f&&Cm(this),Ad()}function Po(n,e){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e==null?void 0:e.name}function Tm(n,e){const t=new Po(n,e);try{t.c()}catch(i){throw t.d(),i}const r=t.d.bind(t);return r[Symbol.dispose]=r,r}function yj(n,e={}){const t={};for(const r in n){const i=e[r],a=gj(i===void 0?n[r]:i);t[r]=a}return t}Ht.prototype.brand=fj,Ht.prototype.h=function(){return!0},Ht.prototype.S=function(n){const e=this.t;e!==n&&n.e===void 0&&(n.x=e,this.t=n,e!==void 0?e.e=n:D0(()=>{var t;(t=this.W)==null||t.call(this)}))},Ht.prototype.U=function(n){if(this.t!==void 0){const e=n.e,t=n.x;e!==void 0&&(e.x=t,n.e=void 0),t!==void 0&&(t.e=e,n.x=void 0),n===this.t&&(this.t=t,t===void 0&&D0(()=>{var r;(r=this.Z)==null||r.call(this)}))}},Ht.prototype.subscribe=function(n){return Tm(()=>{const e=this.value,t=Ve;Ve=void 0;try{n(e)}finally{Ve=t}},{name:"sub"})},Ht.prototype.valueOf=function(){return this.value},Ht.prototype.toString=function(){return this.value+""},Ht.prototype.toJSON=function(){return this.value},Ht.prototype.peek=function(){const n=Ve;Ve=void 0;try{return this.value}finally{Ve=n}},Object.defineProperty(Ht.prototype,"value",{get(){const n=j0(this);return n!==void 0&&(n.i=this.i),this.v},set(n){if(n!==this.v){if(yg>100)throw new Error("Cycle detected");this.v=n,this.i++,Uc++,Rs++;try{for(let e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Ad()}}}}),wo.prototype=new Ht,wo.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Uc))return!0;if(this.g=Uc,this.f|=1,this.i>0&&!gk(this))return this.f&=-2,!0;const n=Ve;try{L0(this),Ve=this;const e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return Ve=n,mk(this),this.f&=-2,!0},wo.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(let e=this.s;e!==void 0;e=e.n)e.S.S(e)}Ht.prototype.S.call(this,n)},wo.prototype.U=function(n){if(this.t!==void 0&&(Ht.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(let e=this.s;e!==void 0;e=e.n)e.S.U(e)}},wo.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let n=this.t;n!==void 0;n=n.x)n.t.N()}},Object.defineProperty(wo.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const n=j0(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}}),Po.prototype.c=function(){const n=this.S();try{if(8&this.f||this.x===void 0)return;const e=this.x();typeof e=="function"&&(this.u=e)}finally{n()}},Po.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,yk(this),L0(this),Rs++;const n=Ve;return Ve=this,mj.bind(this,n)},Po.prototype.N=function(){2&this.f||(this.f|=2,this.o=_l,_l=this)},Po.prototype.d=function(){this.f|=8,1&this.f||Cm(this)},Po.prototype.dispose=function(){this.d()};function vj(n){return(typeof n.nodes=="function"?n.nodes():n.nodes)||[]}function Qe(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function vk(n,e){if(n&&e&&!Array.isArray(e)&&typeof n=="object"&&typeof e=="object"){const t=n,r=e;for(const i in r)t[i]=vk(t[i],r[i]);return n}return e}const Nm=0,vg=1,_k=2,ap=3,Nc=4,So=5,lp=6,ll=7;function up(n){return n.id===Nm}function wk(n){return n.id===_k}function _j(n){return(function(e){return e.id===vg})(n)||Qe(305,String(n.id),String(vg)),Object.assign(n,{id:_k})}const wj=new Set;class Sj{constructor(e,t){H(this,"builder");H(this,"configs");H(this,"_dependency");H(this,"_peerNameSet");H(this,"extension");H(this,"state");H(this,"_signal");this.builder=e,this.extension=t,this.configs=new Set,this.state={id:Nm}}mergeConfigs(){let e=this.extension.config||{};const t=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):YD;for(const r of this.configs)e=t(e,r);return e}init(e){const t=this.state;wk(t)||Qe(306,String(t.id));const r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},a=(function(c,d,f){return Object.assign(c,{config:d,id:ap,registerState:f})})(t,this.mergeConfigs(),r);let l;this.state=a,this.extension.init&&(l=this.extension.init(e,a.config,r)),this.state=(function(c,d,f){return Object.assign(c,{id:Nc,initResult:d,registerState:f})})(a,l,i)}build(e){const t=this.state;let r;t.id!==Nc&&Qe(307,String(t.id),String(So)),this.extension.build&&(r=this.extension.build(e,t.config,t.registerState));const i={...t.registerState,getOutput:()=>r,getSignal:this.getSignal.bind(this)};this.state=(function(a,l,c){return Object.assign(a,{id:So,output:l,registerState:c})})(t,r,i)}register(e,t){this._signal=t;const r=this.state;r.id!==So&&Qe(308,String(r.id),String(So));const i=this.extension.register&&this.extension.register(e,r.config,r.registerState);return this.state=(function(a){return Object.assign(a,{id:lp})})(r),()=>{const a=this.state;a.id!==ll&&Qe(309,String(r.id),String(ll)),this.state=(function(l){return Object.assign(l,{id:So})})(a),i&&i()}}afterRegistration(e){const t=this.state;let r;return t.id!==lp&&Qe(310,String(t.id),String(lp)),this.extension.afterRegistration&&(r=this.extension.afterRegistration(e,t.config,t.registerState)),this.state=(function(i){return Object.assign(i,{id:ll})})(t),r}getSignal(){return this._signal===void 0&&Qe(311),this._signal}getInitResult(){this.extension.init===void 0&&Qe(312,this.extension.name);const e=this.state;return(function(t){return t.id>=Nc})(e)||Qe(313,String(e.id),String(Nc)),e.initResult}getInitPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0}getExtensionInitDependency(){const e=this.state;return(function(t){return t.id>=ap})(e)||Qe(314,String(e.id),String(ap)),{config:e.config}}getPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}getInitDependency(e){const t=this.builder.getExtensionRep(e);return t===void 0&&Qe(315,this.extension.name,e.name),t.getExtensionInitDependency()}getDependency(e){const t=this.builder.getExtensionRep(e);return t===void 0&&Qe(315,this.extension.name,e.name),t.getExtensionDependency()}getState(){const e=this.state;return(function(t){return t.id>=ll})(e)||Qe(316,String(e.id),String(ll)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||wj}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(([t])=>t)),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){const e=this.state;(function(t){return t.id>=So})(e)||Qe(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}}const M0={tag:Si};function xj(){const n=ht();n.isEmpty()&&n.append(Rt())}const bj={config:{setOptions:M0,updateOptions:M0},init:({$initialEditorState:n=xj})=>({$initialEditorState:n,initialized:!1}),afterRegistration(n,{updateOptions:e,setOptions:t},r){const i=r.getInitResult();if(!i.initialized){i.initialized=!0;const{$initialEditorState:a}=i;if(xD(a))n.setEditorState(a,t);else if(typeof a=="function")n.update(()=>{a(n)},e);else if(a&&(typeof a=="string"||typeof a=="object")){const l=n.parseEditorState(a);n.setEditorState(l,t)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[da,Ms,la,ua,ha]},$0=Symbol.for("@lexical/extension/LexicalBuilder");function F0(){}function kj(n){throw n}function Oc(n){return Array.isArray(n)?n:[n]}const cp="0.39.0+prod.esm";class Fo{constructor(e){H(this,"roots");H(this,"extensionNameMap");H(this,"outgoingConfigEdges");H(this,"incomingEdges");H(this,"conflicts");H(this,"_sortedExtensionReps");H(this,"PACKAGE_VERSION");this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=cp,this.roots=e;for(const t of e)this.addExtension(t)}static fromExtensions(e){const t=[Oc(bj)];for(const r of e)t.push(Oc(r));return new Fo(t)}static maybeFromEditor(e){const t=e[$0];return t&&(t.PACKAGE_VERSION!==cp&&Qe(292,t.PACKAGE_VERSION,cp),t instanceof Fo||Qe(293)),t}static fromEditor(e){const t=Fo.maybeFromEditor(e);return t===void 0&&Qe(294),t}constructEditor(){const{$initialEditorState:e,onError:t,...r}=this.buildCreateEditorArgs(),i=Object.assign(Fb({...r,...t?{onError:a=>{t(a,i)}}:{}}),{[$0]:this});for(const a of this.sortedExtensionReps())a.build(i);return i}buildEditor(){let e=F0;function t(){try{e()}finally{e=F0}}const r=Object.assign(this.constructEditor(),{dispose:t,[Symbol.dispose]:t});return e=zr(this.registerEditor(r),()=>r.setRootElement(null)),r}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){const t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&Qe(295,e.name),t}addEdge(e,t,r){const i=this.outgoingConfigEdges.get(e);i?i.set(t,r):this.outgoingConfigEdges.set(e,new Map([[t,r]]));const a=this.incomingEdges.get(t);a?a.add(e):this.incomingEdges.set(t,new Set([e]))}addExtension(e){this._sortedExtensionReps!==void 0&&Qe(296);const t=Oc(e),[r]=t;typeof r.name!="string"&&Qe(297,typeof r.name);let i=this.extensionNameMap.get(r.name);if(i!==void 0&&i.extension!==r&&Qe(298,r.name),!i){i=new Sj(this,r),this.extensionNameMap.set(r.name,i);const a=this.conflicts.get(r.name);typeof a=="string"&&Qe(299,r.name,a);for(const l of r.conflictsWith||[])this.extensionNameMap.has(l)&&Qe(299,r.name,l),this.conflicts.set(l,r.name);for(const l of r.dependencies||[]){const c=Oc(l);this.addEdge(r.name,c[0].name,c.slice(1)),this.addExtension(c)}for(const[l,c]of r.peerDependencies||[])this.addEdge(r.name,l,c?[c]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const e=[],t=(r,i)=>{let a=r.state;if(wk(a))return;const l=r.extension.name;var c;up(a)||Qe(300,l,i||"[unknown]"),up(c=a)||Qe(304,String(c.id),String(Nm)),a=Object.assign(c,{id:vg}),r.state=a;const d=this.outgoingConfigEdges.get(l);if(d)for(const f of d.keys()){const g=this.extensionNameMap.get(f);g&&t(g,l)}a=_j(a),r.state=a,e.push(r)};for(const r of this.extensionNameMap.values())up(r.state)&&t(r);for(const r of e)for(const[i,a]of this.outgoingConfigEdges.get(r.extension.name)||[])if(a.length>0){const l=this.extensionNameMap.get(i);if(l)for(const c of a)l.configs.add(c)}for(const[r,...i]of this.roots)if(i.length>0){const a=this.extensionNameMap.get(r.name);a===void 0&&Qe(301,r.name);for(const l of i)a.configs.add(l)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){const t=this.sortedExtensionReps(),r=new AbortController,i=[()=>r.abort()],a=r.signal;for(const l of t){const c=l.register(e,a);c&&i.push(c)}for(const l of t){const c=l.afterRegistration(e);c&&i.push(c)}return zr(...i)}buildCreateEditorArgs(){const e={},t=new Set,r=new Map,i=new Map,a={},l={},c=this.sortedExtensionReps();for(const g of c){const{extension:m}=g;if(m.onError!==void 0&&(e.onError=m.onError),m.disableEvents!==void 0&&(e.disableEvents=m.disableEvents),m.parentEditor!==void 0&&(e.parentEditor=m.parentEditor),m.editable!==void 0&&(e.editable=m.editable),m.namespace!==void 0&&(e.namespace=m.namespace),m.$initialEditorState!==void 0&&(e.$initialEditorState=m.$initialEditorState),m.nodes)for(const v of vj(m)){if(typeof v!="function"){const _=r.get(v.replace);_&&Qe(302,m.name,v.replace.name,_.extension.name),r.set(v.replace,g)}t.add(v)}if(m.html){if(m.html.export)for(const[v,_]of m.html.export.entries())i.set(v,_);m.html.import&&Object.assign(a,m.html.import)}m.theme&&vk(l,m.theme)}Object.keys(l).length>0&&(e.theme=l),t.size&&(e.nodes=[...t]);const d=Object.keys(a).length>0,f=i.size>0;(d||f)&&(e.html={},d&&(e.html.import=a),f&&(e.html.export=i));for(const g of c)g.init(e);return e.onError||(e.onError=kj),e}}function Ej(n,e){const t=Fo.fromEditor(n).extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}const Cj={name:"@lexical/react/ReactProvider"};function Tj(){return ht().getTextContent()}function Nj(n,e=!0){if(n)return!1;let t=Tj();return e&&(t=t.trim()),t===""}function Oj(n){if(!Nj(n,!1))return!1;const e=ht().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){const i=e[r];if(Ke(i))return!1;if(V(i)){if(!am(i)||i.__indent!==0)return!1;const a=i.getChildren(),l=a.length;for(let c=0;c<l;c++){const d=a[r];if(!ee(d))return!1}}}return!0}function Sk(n){return()=>Oj(n)}function Pj(n){const e=window.location.origin,t=r=>{if(r.origin!==e)return;const i=n.getRootElement();if(document.activeElement!==i)return;const a=r.data;if(typeof a=="string"){let l;try{l=JSON.parse(a)}catch{return}if(l&&l.protocol==="nuanria_messaging"&&l.type==="request"){const c=l.payload;if(c&&c.functionId==="makeChanges"){const d=c.args;if(d){const[f,g,m,v,_]=d;n.update(()=>{const w=oe();if(X(w)){const S=w.anchor;let x=S.getNode(),k=0,C=0;if(ee(x)&&f>=0&&g>=0&&(k=f,C=f+g,w.setTextNodeRange(x,k,x,C)),k===C&&m===""||(w.insertRawText(m),x=S.getNode()),ee(x)){k=v,C=v+_;const E=x.getTextContentSize();k=k>E?E:k,C=C>E?E:C,w.setTextNodeRange(x,k,x,C)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function Rj(n,e){const t=Bb(e)?e.body.childNodes:e.childNodes;let r=[];const i=[];for(const a of t)if(!bk.has(a.nodeName)){const l=kk(a,n,i,!1);l!==null&&(r=r.concat(l))}return(function(a){for(const l of a)l.getNextSibling()instanceof om&&l.insertAfter(Pi());for(const l of a){const c=l.getChildren();for(const d of c)l.insertBefore(d);l.remove()}})(i),r}function Aj(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),r=ht().getChildren();for(let i=0;i<r.length;i++)xk(n,r[i],t,e);return t.innerHTML}function xk(n,e,t,r=null){let i=r===null||e.isSelected(r);const a=V(e)&&e.excludeFromCopy("html");let l=e;r!==null&&ee(e)&&(l=uk(r,e,"clone"));const c=V(l)?l.getChildren():[],d=um(n,l.getType());let f;f=d&&d.exportDOM!==void 0?d.exportDOM(n,l):l.exportDOM(n);const{element:g,after:m}=f;if(!g)return!1;const v=document.createDocumentFragment();for(let _=0;_<c.length;_++){const w=c[_],S=xk(n,w,v,r);!i&&V(e)&&S&&e.extractWithChild(w,r,"html")&&(i=!0)}if(i&&!a){if((ft(g)||pg(g))&&g.append(v),t.append(g),m){const _=m.call(l,g);_&&(pg(g)?g.replaceChildren(_):g.replaceWith(_))}}else t.append(v);return i}const bk=new Set(["STYLE","SCRIPT"]);function kk(n,e,t,r,i=new Map,a){let l=[];if(bk.has(n.nodeName))return l;let c=null;const d=(function(w,S){const{nodeName:x}=w,k=S._htmlConversions.get(x.toLowerCase());let C=null;if(k!==void 0)for(const E of k){const N=E(w);N!==null&&(C===null||(C.priority||0)<=(N.priority||0))&&(C=N)}return C!==null?C.conversion:null})(n,e),f=d?d(n):null;let g=null;if(f!==null){g=f.after;const w=f.node;if(c=Array.isArray(w)?w[w.length-1]:w,c!==null){for(const[,S]of i)if(c=S(c,a),!c)break;c&&l.push(...Array.isArray(w)?w:[c])}f.forChild!=null&&i.set(n.nodeName,f.forChild)}const m=n.childNodes;let v=[];const _=(c==null||!on(c))&&(c!=null&&ug(c)||r);for(let w=0;w<m.length;w++)v.push(...kk(m[w],e,t,_,new Map(i),c));return g!=null&&(v=g(v)),dd(n)&&(v=Ij(n,v,_?()=>{const w=new om;return t.push(w),w}:Rt)),c==null?v.length>0?l=l.concat(v):dd(n)&&(function(w){return w.nextSibling==null||w.previousSibling==null?!1:gg(w.nextSibling)&&gg(w.previousSibling)})(n)&&(l=l.concat(Pi())):V(c)&&c.append(...v),l}function Ij(n,e,t){const r=n.style.textAlign,i=[];let a=[];for(let l=0;l<e.length;l++){const c=e[l];if(ug(c))r&&!c.getFormat()&&c.setFormat(r),i.push(c);else if(a.push(c),l===e.length-1||l<e.length-1&&ug(e[l+1])){const d=t();d.setFormat(r),d.append(...a),i.push(d),a=[]}}return i}function hd(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Dj(n,e=oe()){return e==null&&hd(166),X(e)&&e.isCollapsed()||e.getNodes().length===0?"":Aj(n,e)}function jj(n,e=oe()){return e==null&&hd(166),X(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Lj(n,e))}function U0(n,e,t){const r=n.getData("application/x-lexical-editor");if(r)try{const c=JSON.parse(r);if(c.namespace===t._config.namespace&&Array.isArray(c.nodes))return z0(t,Mj(c.nodes),e)}catch(c){console.error(c)}const i=n.getData("text/html"),a=n.getData("text/plain");if(i&&a!==i)try{const c=new DOMParser().parseFromString((function(d){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:f=>f}).createHTML(d):d})(i),"text/html");return z0(t,Rj(t,c),e)}catch(c){console.error(c)}const l=a||n.getData("text/uri-list");if(l!=null)if(X(e)){const c=l.split(/(\r?\n|\t)/);c[c.length-1]===""&&c.pop();for(let d=0;d<c.length;d++){const f=oe();if(X(f)){const g=c[d];g===`
`||g===`\r
`?f.insertParagraph():g==="	"?f.insertNodes([Gl()]):f.insertText(g)}}}else e.insertRawText(l)}function z0(n,e,t){n.dispatchCommand(FI,{nodes:e,selection:t})||(t.insertNodes(e),(function(r){if(X(r)&&r.isCollapsed()){const i=r.anchor;let a=null;const l=Ur(i,"previous");if(l)if(Os(l))a=l.origin;else{const c=Ds(l,Gn(ht(),"next").getFlipped());for(const d of c){if(ee(d.origin)){a=d.origin;break}if(V(d.origin)&&!d.origin.isInline())break}}if(a&&ee(a)){const c=a.getFormat(),d=a.getStyle();r.format===c&&r.style===d||(r.format=c,r.style=d,r.dirty=!0)}}})(t))}function Ek(n,e,t,r=[]){let i=e===null||t.isSelected(e);const a=V(t)&&t.excludeFromCopy("html");let l=t;e!==null&&ee(l)&&(l=uk(e,l,"clone"));const c=V(l)?l.getChildren():[],d=(function(f){const g=f.exportJSON(),m=f.constructor;if(g.type!==m.getType()&&hd(58,m.name),V(f)){const v=g.children;Array.isArray(v)||hd(59,m.name)}return g})(l);ee(l)&&l.getTextContentSize()===0&&(i=!1);for(let f=0;f<c.length;f++){const g=c[f],m=Ek(n,e,g,d.children);!i&&V(t)&&m&&t.extractWithChild(g,e,"clone")&&(i=!0)}if(i&&!a)r.push(d);else if(Array.isArray(d.children))for(let f=0;f<d.children.length;f++){const g=d.children[f];r.push(g)}return i}function Lj(n,e){const t=[],r=ht().getChildren();for(let i=0;i<r.length;i++)Ek(n,e,r[i],t);return{namespace:n._config.namespace,nodes:t}}function Mj(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t],i=SD(r);ee(i)&&rj(i),e.push(i)}return e}let xo=null;async function B0(n,e,t){if(xo!==null)return!1;if(e!==null)return new Promise((f,g)=>{n.update(()=>{f(W0(n,e,t))})});const r=n.getRootElement(),i=n._window||window,a=i.document,l=Xn(i);if(r===null||l===null)return!1;const c=a.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(a.createTextNode("#")),r.append(c);const d=new Range;return d.setStart(c,0),d.setEnd(c,1),l.removeAllRanges(),l.addRange(d),new Promise((f,g)=>{const m=n.registerCommand(kd,v=>(ci(v,ClipboardEvent)&&(m(),xo!==null&&(i.clearTimeout(xo),xo=null),f(W0(n,v,t))),!0),kD);xo=i.setTimeout(()=>{m(),xo=null,f(!1)},50),a.execCommand("copy"),c.remove()})}function W0(n,e,t){if(t===void 0){const i=Xn(n._window),a=oe();if(!a||a.isCollapsed()||!i)return!1;const l=i.anchorNode,c=i.focusNode;if(l!==null&&c!==null&&!Xl(n,l,c))return!1;t=$j(a)}e.preventDefault();const r=e.clipboardData;return r!==null&&(Fj(r,t),!0)}const Ck=[["text/html",Dj],["application/x-lexical-editor",jj]];function $j(n=oe()){const e={"text/plain":n?n.getTextContent():""};if(n){const t=vm();for(const[r,i]of Ck){const a=i(t,n);a!==null&&(e[r]=a)}}return e}function Fj(n,e){for(const[t]of Ck)e[t]===void 0&&n.setData(t,"");for(const t in e){const r=e[t];r!==void 0&&n.setData(t,r)}}function K0(n,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const Ui=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Uj=Ui&&"documentMode"in document?document.documentMode:null,zj=Ui&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Bj=!(!Ui||!("InputEvent"in window)||Uj)&&"getTargetRanges"in new window.InputEvent("input"),Wj=Ui&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),V0=Ui&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Kj=Ui&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Vj=Ui&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&zj&&!Kj,H0=_e("DRAG_DROP_PASTE_FILE");class Id extends fr{constructor(t,r){super(r);H(this,"__tag");this.__tag=t}static getType(){return"heading"}static clone(t){return new Id(t.__tag,t.__key)}getTag(){return this.__tag}setTag(t){const r=this.getWritable();return this.__tag=t,r}createDOM(t){const r=this.__tag,i=document.createElement(r),a=t.theme.heading;if(a!==void 0){const l=a[r];Em(i,l)}return i}updateDOM(t,r,i){return t.__tag!==this.__tag}static importDOM(){return{h1:t=>({conversion:bo,priority:0}),h2:t=>({conversion:bo,priority:0}),h3:t=>({conversion:bo,priority:0}),h4:t=>({conversion:bo,priority:0}),h5:t=>({conversion:bo,priority:0}),h6:t=>({conversion:bo,priority:0}),p:t=>{const r=t.firstChild;return r!==null&&q0(r)?{conversion:()=>({node:null}),priority:3}:null},span:t=>q0(t)?{conversion:r=>({node:fl("h1")}),priority:3}:null}}exportDOM(t){const{element:r}=super.exportDOM(t);if(ft(r)){this.isEmpty()&&r.append(document.createElement("br"));const i=this.getFormatType();i&&(r.style.textAlign=i);const a=this.getDirection();a&&(r.dir=a)}return{element:r}}static importJSON(t){return fl(t.tag).updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTag(t.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(t,r=!0){const i=t?t.anchor.offset:0,a=this.getLastDescendant(),l=!a||t&&t.anchor.key===a.getKey()&&i===a.getTextContentSize()||!t?Rt():fl(this.getTag()),c=this.getDirection();if(l.setDirection(c),this.insertAfter(l,r),i===0&&!this.isEmpty()&&t){const d=Rt();d.select(),this.replace(d,!0)}return l}collapseAtStart(){const t=this.isEmpty()?Rt():fl(this.getTag());return this.getChildren().forEach(r=>t.append(r)),this.replace(t),!0}extractWithChild(){return!0}}function q0(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function bo(n){const e=n.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=fl(e),n.style!==null&&(Zb(n,t),t.setFormat(n.style.textAlign))),{node:t}}function fl(n="h1"){return Fi(new Id(n))}function Pc(n){let e=null;if(ci(n,DragEvent)?e=n.dataTransfer:ci(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const t=e.types,r=t.includes("Files"),i=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),i]}function J0(n){const e=oe();if(!X(e))return!1;const t=new Set,r=e.getNodes();for(let i=0;i<r.length;i++){const a=r[i],l=a.getKey();if(t.has(l))continue;const c=Lr(a,f=>V(f)&&!f.isInline());if(c===null)continue;const d=c.getKey();c.canIndent()&&!t.has(d)&&(t.add(d),n(c))}return t.size>0}function G0(n){const e=Fr(n);return Ke(e)}function dp(n){for(const e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function Hj(n){return zr(n.registerCommand(nb,e=>{const t=oe();return!!fn(t)&&(t.clear(),!0)},Le),n.registerCommand(wi,e=>{const t=oe();return X(t)?(t.deleteCharacter(e),!0):!!fn(t)&&(t.deleteNodes(),!0)},Le),n.registerCommand(Al,e=>{const t=oe();return!!X(t)&&(t.deleteWord(e),!0)},Le),n.registerCommand(Il,e=>{const t=oe();return!!X(t)&&(t.deleteLine(e),!0)},Le),n.registerCommand(jo,e=>{const t=oe();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const r=e.dataTransfer;if(r!=null)U0(r,t,n);else if(X(t)){const i=e.data;return i&&t.insertText(i),!0}}return!0},Le),n.registerCommand(Xp,()=>{const e=oe();return!!X(e)&&(e.removeText(),!0)},Le),n.registerCommand(Es,e=>{const t=oe();return!!X(t)&&(t.formatText(e),!0)},Le),n.registerCommand(KI,e=>{const t=oe();if(!X(t)&&!fn(t))return!1;const r=t.getNodes();for(const i of r){const a=Lr(i,l=>V(l)&&!l.isInline());a!==null&&a.setFormat(e)}return!0},Le),n.registerCommand(Do,e=>{const t=oe();return!!X(t)&&(t.insertLineBreak(e),!0)},Le),n.registerCommand(Rl,()=>{const e=oe();return!!X(e)&&(e.insertParagraph(),!0)},Le),n.registerCommand(BI,()=>(vD([Gl()]),!0),Le),n.registerCommand(WI,()=>J0(e=>{const t=e.getIndent();e.setIndent(t+1)}),Le),n.registerCommand(Jw,()=>J0(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),Le),n.registerCommand(Qg,e=>{const t=oe();if(fn(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}else if(X(t)){const r=dg(t.focus,!0);if(!e.shiftKey&&Ke(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},Le),n.registerCommand(Yg,e=>{const t=oe();if(fn(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectNext(0,0),!0}else if(X(t)){if((function(i){const a=i.focus;return a.key==="root"&&a.offset===ht().getChildrenSize()})(t))return e.preventDefault(),!0;const r=dg(t.focus,!1);if(!e.shiftKey&&Ke(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},Le),n.registerCommand(Gg,e=>{const t=oe();if(fn(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),R0(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!X(t))return!1;if(A0(t,!0)){const r=e.shiftKey;return e.preventDefault(),I0(t,r,!0),!0}return!1},Le),n.registerCommand(lb,e=>{const t=oe();if(fn(t)){const i=t.getNodes();if(i.length>0)return e.preventDefault(),R0(i[0])?i[0].selectPrevious():i[0].selectNext(0,0),!0}if(!X(t))return!1;const r=e.shiftKey;return!!A0(t,!1)&&(e.preventDefault(),I0(t,r,!1),!0)},Le),n.registerCommand(ub,e=>{if(G0(e.target))return!1;const t=oe();if(X(t)){if((function(r){if(!r.isCollapsed())return!1;const{anchor:i}=r;if(i.offset!==0)return!1;const a=i.getNode();if(mt(a))return!1;const l=dj(a);return l.getIndent()>0&&(l.is(a)||a.is(l.getFirstDescendant()))})(t))return e.preventDefault(),n.dispatchCommand(Jw,void 0);if(V0&&navigator.language==="ko-KR")return!1}else if(!fn(t))return!1;return e.preventDefault(),n.dispatchCommand(wi,!0)},Le),n.registerCommand(cb,e=>{if(G0(e.target))return!1;const t=oe();return!(!X(t)&&!fn(t))&&(e.preventDefault(),n.dispatchCommand(wi,!1))},Le),n.registerCommand(rd,e=>{const t=oe();if(!X(t))return!1;if(dp(t),e!==null){if((V0||Wj||Vj)&&Bj)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(Do,!1)}return n.dispatchCommand(Rl,void 0)},Le),n.registerCommand(Zg,()=>{const e=oe();return!!X(e)&&(n.blur(),!0)},Le),n.registerCommand(hb,e=>{const[,t]=Pc(e);if(t.length>0){const i=K0(e.clientX,e.clientY);if(i!==null){const{offset:a,node:l}=i,c=Fr(l);if(c!==null){const d=Pb();if(ee(c))d.anchor.set(c.getKey(),a,"text"),d.focus.set(c.getKey(),a,"text");else{const g=c.getParentOrThrow().getKey(),m=c.getIndexWithinParent()+1;d.anchor.set(g,m,"element"),d.focus.set(g,m,"element")}const f=Xc(d);an(f)}n.dispatchCommand(H0,t)}return e.preventDefault(),!0}const r=oe();return!!X(r)},Le),n.registerCommand(fb,e=>{const[t]=Pc(e),r=oe();return!(t&&!X(r))},Le),n.registerCommand(pb,e=>{const[t]=Pc(e),r=oe();if(t&&!X(r))return!1;const i=K0(e.clientX,e.clientY);if(i!==null){const a=Fr(i.node);Ke(a)&&e.preventDefault()}return!0},Le),n.registerCommand(Zp,()=>(PD(),!0),Le),n.registerCommand(kd,e=>(B0(n,ci(e,ClipboardEvent)?e:null),!0),Le),n.registerCommand(em,e=>((async function(t,r){await B0(r,ci(t,ClipboardEvent)?t:null),r.update(()=>{const i=oe();X(i)?i.removeText():fn(i)&&i.getNodes().forEach(a=>a.remove())})})(e,n),!0),Le),n.registerCommand(Hg,e=>{const[,t,r]=Pc(e);return t.length>0&&!r?(n.dispatchCommand(H0,t),!0):fa(e.target)&&cm(e.target)?!1:oe()!==null&&((function(i,a){i.preventDefault(),a.update(()=>{const l=oe(),c=ci(i,InputEvent)||ci(i,KeyboardEvent)?null:i.clipboardData;c!=null&&l!==null&&U0(c,l,a)},{tag:sD})})(e,n),!0)},Le),n.registerCommand(Xg,e=>{const t=oe();return X(t)&&dp(t),!1},Le),n.registerCommand(db,e=>{const t=oe();return X(t)&&dp(t),!1},Le))}function qj(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Om=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?O.useLayoutEffect:O.useEffect;function Jj({editor:n,ErrorBoundary:e}){return(function(t,r){const[i,a]=O.useState(()=>t.getDecorators());return Om(()=>t.registerDecoratorListener(l=>{Sw.flushSync(()=>{a(l)})}),[t]),O.useEffect(()=>{a(t.getDecorators())},[t]),O.useMemo(()=>{const l=[],c=Object.keys(i);for(let d=0;d<c.length;d++){const f=c[d],g=A.jsx(r,{onError:v=>t._onError(v),children:A.jsx(O.Suspense,{fallback:null,children:i[f]})}),m=t.getElementByKey(f);m!==null&&l.push(Sw.createPortal(g,m,f))}return l},[r,i,t])})(n,e)}function Gj({editor:n,ErrorBoundary:e}){return(function(t){const r=Fo.maybeFromEditor(t);if(r&&r.hasExtensionByName(Cj.name)){for(const i of["@lexical/plain-text","@lexical/rich-text"])r.hasExtensionByName(i)&&qj(320,i);return!0}return!1})(n)?null:A.jsx(Jj,{editor:n,ErrorBoundary:e})}function Q0(n){return n.getEditorState().read(Sk(n.isComposing()))}function Qj({contentEditable:n,placeholder:e=null,ErrorBoundary:t}){const[r]=Ls();return(function(i){Om(()=>zr(Hj(i),Pj(i)),[i])})(r),A.jsxs(A.Fragment,{children:[n,A.jsx(Yj,{content:e}),A.jsx(Gj,{editor:r,ErrorBoundary:t})]})}function Yj({content:n}){const[e]=Ls(),t=(function(i){const[a,l]=O.useState(()=>Q0(i));return Om(()=>{function c(){const d=Q0(i);l(d)}return c(),zr(i.registerUpdateListener(()=>{c()}),i.registerEditableListener(()=>{c()}))},[i]),a})(e),r=nj();return t?typeof n=="function"?n(r):n:null}const Tk=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?O.useLayoutEffect:O.useEffect;function Xj({editor:n,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:i,ariaErrorMessage:a,ariaExpanded:l,ariaInvalid:c,ariaLabel:d,ariaLabelledBy:f,ariaMultiline:g,ariaOwns:m,ariaRequired:v,autoCapitalize:_,className:w,id:S,role:x="textbox",spellCheck:k=!0,style:C,tabIndex:E,"data-testid":N,...M},D){const[U,j]=O.useState(n.isEditable()),z=O.useCallback(re=>{re&&re.ownerDocument&&re.ownerDocument.defaultView?n.setRootElement(re):n.setRootElement(null)},[n]),K=O.useMemo(()=>(function(...re){return we=>{for(const fe of re)typeof fe=="function"?fe(we):fe!=null&&(fe.current=we)}})(D,z),[z,D]);return Tk(()=>(j(n.isEditable()),n.registerEditableListener(re=>{j(re)})),[n]),A.jsx("div",{"aria-activedescendant":U?e:void 0,"aria-autocomplete":U?t:"none","aria-controls":U?r:void 0,"aria-describedby":i,...a!=null?{"aria-errormessage":a}:{},"aria-expanded":U&&x==="combobox"?!!l:void 0,...c!=null?{"aria-invalid":c}:{},"aria-label":d,"aria-labelledby":f,"aria-multiline":g,"aria-owns":U?m:void 0,"aria-readonly":!U||void 0,"aria-required":v,autoCapitalize:_,className:w,contentEditable:U,"data-testid":N,id:S,ref:K,role:x,spellCheck:k,style:C,tabIndex:E,...M})}const Zj=O.forwardRef(Xj);function Y0(n){return n.getEditorState().read(Sk(n.isComposing()))}const eL=O.forwardRef(tL);function tL(n,e){const{placeholder:t,...r}=n,[i]=Ls();return A.jsxs(A.Fragment,{children:[A.jsx(Zj,{editor:i,...r,ref:e}),t!=null&&A.jsx(nL,{editor:i,content:t})]})}function nL({content:n,editor:e}){const t=(function(l){const[c,d]=O.useState(()=>Y0(l));return Tk(()=>{function f(){const g=Y0(l);d(g)}return f(),zr(l.registerUpdateListener(()=>{f()}),l.registerEditableListener(()=>{f()}))},[l]),c})(e),[r,i]=O.useState(e.isEditable());if(O.useLayoutEffect(()=>(i(e.isEditable()),e.registerEditableListener(l=>{i(l)})),[e]),!t)return null;let a=null;return typeof n=="function"?a=n(r):n!==null&&(a=n),a===null?null:A.jsx("div",{"aria-hidden":!0,children:a})}function rL(n,e,t,r,i){if(n===null||t.size===0&&r.size===0&&!i)return 0;const a=e._selection,l=n._selection;if(i)return 1;if(!(X(a)&&X(l)&&l.isCollapsed()&&a.isCollapsed()))return 0;const c=(function(k,C,E){const N=k._nodeMap,M=[];for(const D of C){const U=N.get(D);U!==void 0&&M.push(U)}for(const[D,U]of E){if(!U)continue;const j=N.get(D);j===void 0||mt(j)||M.push(j)}return M})(e,t,r);if(c.length===0)return 0;if(c.length>1){const k=e._nodeMap,C=k.get(a.anchor.key),E=k.get(l.anchor.key);return C&&E&&!n._nodeMap.has(C.__key)&&ee(C)&&C.__text.length===1&&a.anchor.offset===1?2:0}const d=c[0],f=n._nodeMap.get(d.__key);if(!ee(f)||!ee(d)||f.__mode!==d.__mode)return 0;const g=f.__text,m=d.__text;if(g===m)return 0;const v=a.anchor,_=l.anchor;if(v.key!==_.key||v.type!=="text")return 0;const w=v.offset,S=_.offset,x=m.length-g.length;return x===1&&S===w-1?2:x===-1&&S===w+1?3:x===-1&&S===w?4:0}function sL(n,e){let t=Date.now(),r=0;return(i,a,l,c,d,f)=>{const g=Date.now();if(f.has(ag))return r=0,t=g,2;const m=rL(i,a,c,d,n.isComposing()),v=(()=>{const _=l===null||l.editor===n,w=f.has(rD);if(!w&&_&&f.has(Si))return 0;if(i===null)return 1;const S=a._selection;if(!(c.size>0||d.size>0))return S!==null?0:2;const x=typeof e=="number"?e:e.peek();return w===!1&&m!==0&&m===r&&g<t+x&&_||c.size===1&&(function(k,C,E){const N=C._nodeMap.get(k),M=E._nodeMap.get(k),D=C._selection,U=E._selection;return!(X(D)&&X(U)&&D.anchor.type==="element"&&D.focus.type==="element"&&U.anchor.type==="text"&&U.focus.type==="text"||!ee(N)||!ee(M)||N.__parent!==M.__parent)&&JSON.stringify(C.read(()=>N.exportJSON()))===JSON.stringify(E.read(()=>M.exportJSON()))})(Array.from(c)[0],i,a)?0:1})();return t=g,r=m,v}}function X0(n){n.undoStack=[],n.redoStack=[],n.current=null}function Nk(n,e,t){const r=sL(n,t);return zr(n.registerCommand(qg,()=>((function(a,l){const c=l.redoStack,d=l.undoStack;if(d.length!==0){const f=l.current,g=d.pop();f!==null&&(c.push(f),a.dispatchCommand(Sc,!0)),d.length===0&&a.dispatchCommand(xc,!1),l.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:ag})}})(n,e),!0),Le),n.registerCommand(Jg,()=>((function(a,l){const c=l.redoStack,d=l.undoStack;if(c.length!==0){const f=l.current;f!==null&&(d.push(f),a.dispatchCommand(xc,!0));const g=c.pop();c.length===0&&a.dispatchCommand(Sc,!1),l.current=g||null,g&&g.editor.setEditorState(g.editorState,{tag:ag})}})(n,e),!0),Le),n.registerCommand(HI,()=>(X0(e),!1),Le),n.registerCommand(qI,()=>(X0(e),n.dispatchCommand(Sc,!1),n.dispatchCommand(xc,!1),!0),Le),n.registerUpdateListener(({editorState:a,prevEditorState:l,dirtyLeaves:c,dirtyElements:d,tags:f})=>{const g=e.current,m=e.redoStack,v=e.undoStack,_=g===null?null:g.editorState;if(g!==null&&a===_)return;const w=r(l,a,g,c,d,f);if(w===1)m.length!==0&&(e.redoStack=[],n.dispatchCommand(Sc,!1)),g!==null&&(v.push({...g}),n.dispatchCommand(xc,!0));else if(w===2)return;e.current={editor:n,editorState:a}}))}function Ok(){return{current:null,redoStack:[],undoStack:[]}}const hp={build:(n,{delay:e,createInitialHistoryState:t,disabled:r})=>yj({delay:e,disabled:r,historyState:t(n)}),config:{createInitialHistoryState:Ok,delay:300,disabled:typeof window>"u"},name:"@lexical/history/History",register:(n,e,t)=>{const r=t.getOutput();return Tm(()=>r.disabled.value?void 0:Nk(n,r.historyState.value,r.delay))}};QD(hp,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0});function iL({delay:n,externalHistoryState:e}){const[t]=Ls();return(function(r,i,a=1e3){const l=O.useMemo(()=>i||Ok(),[i]);O.useEffect(()=>Nk(r,l,a),[a,r,l])})(t,e,n),null}const oL=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?O.useLayoutEffect:O.useEffect;function aL({ignoreHistoryMergeTagChange:n=!0,ignoreSelectionChange:e=!1,onChange:t}){const[r]=Ls();return oL(()=>{if(t)return r.registerUpdateListener(({editorState:i,dirtyElements:a,dirtyLeaves:l,prevEditorState:c,tags:d})=>{e&&a.size===0&&l.size===0||n&&d.has(Si)||c.isEmpty()||t(i,r,d)})},[r,n,e,t]),null}const lL=O.createContext(null),fp={didCatch:!1,error:null};class uL extends O.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=fp}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:a,reason:"imperative-api"}),this.setState(fp)}}componentDidCatch(e,t){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&t.error!==null&&cL(e.resetKeys,i)){var a,l;(a=(l=this.props).onReset)===null||a===void 0||a.call(l,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(fp)}}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:i}=this.props,{didCatch:a,error:l}=this.state;let c=e;if(a){const d={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")c=t(d);else if(r)c=O.createElement(r,d);else if(i!==void 0)c=i;else throw l}return O.createElement(lL.Provider,{value:{didCatch:a,error:l,resetErrorBoundary:this.resetErrorBoundary}},c)}}function cL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}function dL({children:n,onError:e}){return A.jsx(uL,{fallback:A.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:n})}function Ts(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of e)r.append("v",i);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function _g(n){let e=1,t=n.getParent();for(;t!=null;){if(Fe(t)){const r=t.getParent();if(Ae(r)){e++,t=r.getParent();continue}Ts(40)}return e}return e}function wg(n){let e=n.getParent();Ae(e)||Ts(40);let t=e;for(;t!==null;)t=t.getParent(),Ae(t)&&(e=t);return e}function Pk(n){let e=[];const t=n.getChildren().filter(Fe);for(let r=0;r<t.length;r++){const i=t[r],a=i.getFirstChild();Ae(a)?e=e.concat(Pk(a)):e.push(i)}return e}function lr(n){return Fe(n)&&Ae(n.getFirstChild())}function Z0(n){return Pn().append(n)}function Rk(n,e){return Fe(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function Sg(n){const e=oe();if(e!==null){let t=e.getNodes();if(X(e)){const i=e.getStartEndPoints();i===null&&Ts(143);const[a]=i,l=a.getNode(),c=l.getParent();if(on(l)){const d=l.getFirstChild();if(d)t=d.selectStart().getNodes();else{const f=Rt();l.append(f),t=f.select().getNodes()}}else if(Rk(l,t)){const d=yn(n);if(on(c)){l.replace(d);const f=Pn();V(l)&&(f.setFormat(l.getFormatType()),f.setIndent(l.getIndent())),d.append(f)}else if(Fe(l)){const f=l.getParentOrThrow();Mi(d,f.getChildren()),f.replace(d)}return}}const r=new Set;for(let i=0;i<t.length;i++){const a=t[i];if(V(a)&&a.isEmpty()&&!Fe(a)&&!r.has(a.getKey())){eS(a,n);continue}let l=Wb(a)?a.getParent():Fe(a)&&a.isEmpty()?a:null;for(;l!=null;){const c=l.getKey();if(Ae(l)){if(!r.has(c)){const d=yn(n);Mi(d,l.getChildren()),l.replace(d),r.add(c)}break}{const d=l.getParent();if(on(d)&&!r.has(c)){r.add(c),eS(l,n);break}l=d}}}}}function Mi(n,e){n.splice(n.getChildrenSize(),0,e)}function eS(n,e){if(Ae(n))return n;const t=n.getPreviousSibling(),r=n.getNextSibling(),i=Pn();let a;if(Mi(i,n.getChildren()),Ae(t)&&e===t.getListType())t.append(i),Ae(r)&&e===r.getListType()&&(Mi(t,r.getChildren()),r.remove()),a=t;else if(Ae(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(i),a=r;else{const l=yn(e);l.append(i),n.replace(l),a=l}return i.setFormat(n.getFormatType()),i.setIndent(n.getIndent()),n.remove(),a}function Pm(n,e){const t=n.getLastChild(),r=e.getFirstChild();t&&r&&lr(t)&&lr(r)&&(Pm(t.getFirstChild(),r.getFirstChild()),r.remove());const i=e.getChildren();i.length>0&&n.append(...i),e.remove()}function hL(){const n=oe();if(X(n)){const e=new Set,t=n.getNodes(),r=n.anchor.getNode();if(Rk(r,t))e.add(wg(r));else for(let i=0;i<t.length;i++){const a=t[i];if(Wb(a)){const l=cj(a,ga);l!=null&&e.add(wg(l))}}for(const i of e){let a=i;const l=Pk(i);for(const c of l){const d=Rt().setTextStyle(n.style).setTextFormat(n.format);Mi(d,c.getChildren()),a.insertAfter(d),a=d,c.__key===n.anchor.key&&Li(n.anchor,Nn(Gn(d,"next"))),c.__key===n.focus.key&&Li(n.focus,Nn(Gn(d,"next"))),c.remove()}i.remove()}}}function Ak(n){const e=n.getListType()!=="check";let t=n.getStart();for(const r of n.getChildren())Fe(r)&&(r.getValue()!==t&&r.setValue(t),e&&r.getLatest().__checked!=null&&r.setChecked(void 0),Ae(r.getFirstChild())||t++)}function fL(n){const e=new Set;if(lr(n)||e.has(n.getKey()))return;const t=n.getParent(),r=n.getNextSibling(),i=n.getPreviousSibling();if(lr(r)&&lr(i)){const a=i.getFirstChild();if(Ae(a)){a.append(n);const l=r.getFirstChild();Ae(l)&&(Mi(a,l.getChildren()),r.remove(),e.add(r.getKey()))}}else if(lr(r)){const a=r.getFirstChild();if(Ae(a)){const l=a.getFirstChild();l!==null&&l.insertBefore(n)}}else if(lr(i)){const a=i.getFirstChild();Ae(a)&&a.append(n)}else if(Ae(t)){const a=Pn().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),l=yn(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());a.append(l),l.append(n),i?i.insertAfter(a):r?r.insertBefore(a):t.append(a)}}function pL(n){if(lr(n))return;const e=n.getParent(),t=e?e.getParent():void 0;if(Ae(t?t.getParent():void 0)&&Fe(t)&&Ae(e)){const r=e?e.getFirstChild():void 0,i=e?e.getLastChild():void 0;if(n.is(r))t.insertBefore(n),e.isEmpty()&&t.remove();else if(n.is(i))t.insertAfter(n),e.isEmpty()&&t.remove();else{const a=e.getListType(),l=Pn(),c=yn(a);l.append(c),n.getPreviousSiblings().forEach(g=>c.append(g));const d=Pn(),f=yn(a);d.append(f),Mi(f,n.getNextSiblings()),t.insertBefore(l),t.insertAfter(d),t.replace(n)}}}function gL(){const n=oe();if(!X(n)||!n.isCollapsed())return!1;const e=n.anchor.getNode();if(!Fe(e)||e.getChildrenSize()!==0)return!1;const t=wg(e),r=e.getParent();Ae(r)||Ts(40);const i=r.getParent();let a;if(on(i))a=Rt(),t.insertAfter(a);else{if(!Fe(i))return!1;a=Pn(),i.insertAfter(a)}a.setTextStyle(n.style).setTextFormat(n.format).select();const l=e.getNextSiblings();if(l.length>0){const c=yn(r.getListType());if(Fe(a)){const d=Pn();d.append(c),a.insertAfter(d)}else a.insertAfter(c);c.append(...l)}return(function(c){let d=c;for(;d.getNextSibling()==null&&d.getPreviousSibling()==null;){const f=d.getParent();if(f==null||!Fe(f)&&!Ae(f))break;d=f}d.remove()})(e),!0}function fd(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}class ga extends fr{constructor(t=1,r=void 0,i){super(i);H(this,"__value");H(this,"__checked");this.__value=t===void 0?1:t,this.__checked=r}$config(){return this.config("listitem",{$transform:t=>{if(t.__checked==null)return;const r=t.getParent();Ae(r)&&r.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)},extends:fr,importDOM:{li:()=>({conversion:mL,priority:0})}})}afterCloneFrom(t){super.afterCloneFrom(t),this.__value=t.__value,this.__checked=t.__checked}createDOM(t){const r=document.createElement("li");return this.updateListItemDOM(null,r,t),r}updateListItemDOM(t,r,i){(function(c,d,f){const g=d.getParent();!Ae(g)||g.getListType()!=="check"||Ae(d.getFirstChild())?(c.removeAttribute("role"),c.removeAttribute("tabIndex"),c.removeAttribute("aria-checked")):(c.setAttribute("role","checkbox"),c.setAttribute("tabIndex","-1"),f&&d.__checked===f.__checked||c.setAttribute("aria-checked",d.getChecked()?"true":"false"))})(r,this,t),r.value=this.__value,(function(c,d,f){const g=[],m=[],v=d.list,_=v?v.listitem:void 0;let w;if(v&&v.nested&&(w=v.nested.listitem),_!==void 0&&g.push(...fd(_)),v){const S=f.getParent(),x=Ae(S)&&S.getListType()==="check",k=f.getChecked();x&&!k||m.push(v.listitemUnchecked),x&&k||m.push(v.listitemChecked),x&&g.push(k?v.listitemChecked:v.listitemUnchecked)}if(w!==void 0){const S=fd(w);f.getChildren().some(x=>Ae(x))?g.push(...S):m.push(...S)}m.length>0&&pk(c,...m),g.length>0&&Em(c,...g)})(r,i.theme,this);const a=t?t.__style:"",l=this.__style;a!==l&&(l===""?r.removeAttribute("style"):r.style.cssText=l),(function(c,d,f){const g=P0(d.__textStyle);for(const m in g)c.style.setProperty(`--listitem-marker-${m}`,g[m]);if(f)for(const m in P0(f.__textStyle))m in g||c.style.removeProperty(`--listitem-marker-${m}`)})(r,this,t)}updateDOM(t,r,i){const a=r;return this.updateListItemDOM(t,a,i),!1}updateFromJSON(t){return super.updateFromJSON(t).setValue(t.value).setChecked(t.checked)}exportDOM(t){const r=this.createDOM(t._config),i=this.getFormatType();i&&(r.style.textAlign=i);const a=this.getDirection();return a&&(r.dir=a),{element:r}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...t){for(let r=0;r<t.length;r++){const i=t[r];if(V(i)&&this.canMergeWith(i)){const a=i.getChildren();this.append(...a),i.remove()}else super.append(i)}return this}replace(t,r){if(Fe(t))return super.replace(t);this.setIndent(0);const i=this.getParentOrThrow();if(!Ae(i))return t;if(i.__first===this.getKey())i.insertBefore(t);else if(i.__last===this.getKey())i.insertAfter(t);else{const a=yn(i.getListType());let l=this.getNextSibling();for(;l;){const c=l;l=l.getNextSibling(),a.append(c)}i.insertAfter(t),t.insertAfter(a)}return r&&(V(t)||Ts(139),this.getChildren().forEach(a=>{t.append(a)})),this.remove(),i.getChildrenSize()===0&&i.remove(),t}insertAfter(t,r=!0){const i=this.getParentOrThrow();if(Ae(i)||Ts(39),Fe(t))return super.insertAfter(t,r);const a=this.getNextSiblings();if(i.insertAfter(t,r),a.length!==0){const l=yn(i.getListType());a.forEach(c=>l.append(c)),t.insertAfter(l,r)}return t}remove(t){const r=this.getPreviousSibling(),i=this.getNextSibling();super.remove(t),r&&i&&lr(r)&&lr(i)&&(Pm(r.getFirstChild(),i.getFirstChild()),i.remove())}insertNewAfter(t,r=!0){const i=Pn().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(i,r),i}collapseAtStart(t){const r=Rt();this.getChildren().forEach(c=>r.append(c));const i=this.getParentOrThrow(),a=i.getParentOrThrow(),l=Fe(a);if(i.getChildrenSize()===1)if(l)i.remove(),a.select();else{i.insertBefore(r),i.remove();const c=t.anchor,d=t.focus,f=r.getKey();c.type==="element"&&c.getNode().is(this)&&c.set(f,c.offset,"element"),d.type==="element"&&d.getNode().is(this)&&d.set(f,d.offset,"element")}else i.insertBefore(r),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){const r=this.getWritable();return r.__value=t,r}getChecked(){const t=this.getLatest();let r;const i=this.getParent();return Ae(i)&&(r=i.getListType()),r==="check"?!!t.__checked:void 0}setChecked(t){const r=this.getWritable();return r.__checked=t,r}toggleChecked(){const t=this.getWritable();return t.setChecked(!t.__checked)}getIndent(){const t=this.getParent();if(t===null||!this.isAttached())return this.getLatest().__indent;let r=t.getParentOrThrow(),i=0;for(;Fe(r);)r=r.getParentOrThrow().getParentOrThrow(),i++;return i}setIndent(t){typeof t!="number"&&Ts(117),(t=Math.floor(t))>=0||Ts(199);let r=this.getIndent();for(;r!==t;)r<t?(fL(this),r++):(pL(this),r--);return this}canInsertAfter(t){return Fe(t)}canReplaceWith(t){return Fe(t)}canMergeWith(t){return Fe(t)||am(t)}extractWithChild(t,r){if(!X(r))return!1;const i=r.anchor.getNode(),a=r.focus.getNode();return this.isParentOf(i)&&this.isParentOf(a)&&this.getTextContent().length===r.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return yn("bullet")}canMergeWhenEmpty(){return!0}}function mL(n){if(n.classList.contains("task-list-item")){for(const t of n.children)if(t.tagName==="INPUT")return tS(t)}if(n.classList.contains("joplin-checkbox")){for(const t of n.children)if(t.classList.contains("checkbox-wrapper")&&t.children.length>0&&t.children[0].tagName==="INPUT")return tS(t.children[0])}const e=n.getAttribute("aria-checked");return{node:Pn(e==="true"||e!=="false"&&void 0)}}function tS(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:Pn(n.hasAttribute("checked"))}}function Pn(n){return Fi(new ga(void 0,n))}function Fe(n){return n instanceof ga}class eu extends fr{constructor(t="number",r=1,i){super(i);H(this,"__tag");H(this,"__start");H(this,"__listType");const a=vL[t]||t;this.__listType=a,this.__tag=a==="number"?"ol":"ul",this.__start=r}$config(){return this.config("list",{$transform:t=>{(function(r){const i=r.getNextSibling();Ae(i)&&r.getListType()===i.getListType()&&Pm(r,i)})(t),Ak(t)},extends:fr,importDOM:{ol:()=>({conversion:rS,priority:0}),ul:()=>({conversion:rS,priority:0})}})}afterCloneFrom(t){super.afterCloneFrom(t),this.__listType=t.__listType,this.__tag=t.__tag,this.__start=t.__start}getTag(){return this.getLatest().__tag}setListType(t){const r=this.getWritable();return r.__listType=t,r.__tag=t==="number"?"ol":"ul",r}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(t){const r=this.getWritable();return r.__start=t,r}createDOM(t,r){const i=this.__tag,a=document.createElement(i);return this.__start!==1&&a.setAttribute("start",String(this.__start)),a.__lexicalListType=this.__listType,nS(a,t.theme,this),a}updateDOM(t,r,i){return t.__tag!==this.__tag||t.__listType!==this.__listType||(nS(r,i.theme,this),!1)}updateFromJSON(t){return super.updateFromJSON(t).setListType(t.listType).setStart(t.start)}exportDOM(t){const r=this.createDOM(t._config,t);return ft(r)&&(this.__start!==1&&r.setAttribute("start",String(this.__start)),this.__listType==="check"&&r.setAttribute("__lexicalListType","check")),{element:r}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(t,r,i){let a=i;for(let l=0;l<i.length;l++){const c=i[l];Fe(c)||(a===i&&(a=[...i]),a[l]=Pn().append(!V(c)||Ae(c)||c.isInline()?c:Nt(c.getTextContent())))}return super.splice(t,r,a)}extractWithChild(t){return Fe(t)}}function nS(n,e,t){const r=[],i=[],a=e.list;if(a!==void 0){const l=a[`${t.__tag}Depth`]||[],c=_g(t)-1,d=c%l.length,f=l[d],g=a[t.__tag];let m;const v=a.nested,_=a.checklist;if(v!==void 0&&v.list&&(m=v.list),g!==void 0&&r.push(g),_!==void 0&&t.__listType==="check"&&r.push(_),f!==void 0){r.push(...fd(f));for(let w=0;w<l.length;w++)w!==d&&i.push(t.__tag+w)}if(m!==void 0){const w=fd(m);c>1?r.push(...w):i.push(...w)}}i.length>0&&pk(n,...i),r.length>0&&Em(n,...r)}function yL(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(Fe(r)){e.push(r);const i=r.getChildren();i.length>1&&i.forEach(a=>{Ae(a)&&e.push(Z0(a))})}else e.push(Z0(r))}return e}function rS(n){const e=n.nodeName.toLowerCase();let t=null;return e==="ol"?t=yn("number",n.start):e==="ul"&&(t=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list")||r.getAttribute("data-is-checklist")==="1")return!0;for(const i of r.childNodes)if(ft(i)&&i.hasAttribute("aria-checked"))return!0;return!1})(n)?yn("check"):yn("bullet")),{after:yL,node:t}}const vL={ol:"number",ul:"bullet"};function yn(n="number",e=1){return Fi(new eu(n,e))}function Ae(n){return n instanceof eu}const _L=_e("INSERT_CHECK_LIST_COMMAND");function wL(n){return zr(n.registerCommand(_L,()=>(Sg("check"),!0),Hn),n.registerCommand(Yg,e=>oS(e,n,!1),Hn),n.registerCommand(Qg,e=>oS(e,n,!0),Hn),n.registerCommand(Zg,()=>{if(xg()!=null){const e=n.getRootElement();return e!=null&&e.focus(),!0}return!1},Hn),n.registerCommand(Xg,e=>{const t=xg();return!(t==null||!n.isEditable())&&(n.update(()=>{const r=Fr(t);Fe(r)&&(e.preventDefault(),r.toggleChecked())}),!0)},Hn),n.registerCommand(Gg,e=>n.getEditorState().read(()=>{const t=oe();if(X(t)&&t.isCollapsed()){const{anchor:r}=t,i=r.type==="element";if(i||r.offset===0){const a=r.getNode(),l=Lr(a,c=>V(c)&&!c.isInline());if(Fe(l)){const c=l.getParent();if(Ae(c)&&c.getListType()==="check"&&(i||l.getFirstDescendant()===a)){const d=n.getElementByKey(l.__key);if(d!=null&&document.activeElement!==d)return d.focus(),e.preventDefault(),!0}}}}return!1}),Hn),n.registerRootListener((e,t)=>{e!==null&&(e.addEventListener("click",sS),e.addEventListener("pointerdown",iS)),t!==null&&(t.removeEventListener("click",sS),t.removeEventListener("pointerdown",iS))}))}function Ik(n,e){const t=n.target;if(!ft(t))return;const r=t.firstChild;if(ft(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;const i=t.parentNode;if(!i||i.__lexicalListType!=="check")return;const a=t.getBoundingClientRect(),l=hj(t),c=n.clientX/l,d=window.getComputedStyle?window.getComputedStyle(t,"::before"):{width:"0px"},f=parseFloat(d.width),g=n.pointerType==="touch"?32:0;(t.dir==="rtl"?c<a.right+g&&c>a.right-f-g:c>a.left-g&&c<a.left+f+g)&&e()}function sS(n){Ik(n,()=>{if(ft(n.target)){const e=n.target,t=hm(e);t!=null&&t.isEditable()&&t.update(()=>{const r=Fr(e);Fe(r)&&(e.focus(),r.toggleChecked())})}})}function iS(n){Ik(n,()=>{n.preventDefault()})}function xg(){const n=document.activeElement;return ft(n)&&n.tagName==="LI"&&n.parentNode!=null&&n.parentNode.__lexicalListType==="check"?n:null}function oS(n,e,t){const r=xg();return r!=null&&e.update(()=>{const i=Fr(r);if(!Fe(i))return;const a=(function(l,c){let d=c?l.getPreviousSibling():l.getNextSibling(),f=l;for(;d==null&&Fe(f);)f=f.getParentOrThrow().getParent(),f!=null&&(d=c?f.getPreviousSibling():f.getNextSibling());for(;Fe(d);){const g=c?d.getLastChild():d.getFirstChild();if(!Ae(g))return d;d=c?g.getLastChild():g.getFirstChild()}return null})(i,t);if(a!=null){a.selectStart();const l=e.getElementByKey(a.__key);l!=null&&(n.preventDefault(),setTimeout(()=>{l.focus()},0))}}),!1}const SL=_e("UPDATE_LIST_START_COMMAND"),xL=_e("INSERT_UNORDERED_LIST_COMMAND"),bL=_e("INSERT_ORDERED_LIST_COMMAND"),kL=_e("REMOVE_LIST_COMMAND");function EL(n){return zr(n.registerCommand(bL,()=>(Sg("number"),!0),Hn),n.registerCommand(SL,e=>{const{listNodeKey:t,newStart:r}=e,i=bt(t);return!!Ae(i)&&(i.getListType()==="number"&&(i.setStart(r),Ak(i)),!0)},Hn),n.registerCommand(xL,()=>(Sg("bullet"),!0),Hn),n.registerCommand(kL,()=>(hL(),!0),Hn),n.registerCommand(Rl,()=>gL(),Hn),n.registerNodeTransform(ga,e=>{const t=e.getFirstChild();if(t){if(ee(t)){const r=t.getStyle(),i=t.getFormat();e.getTextStyle()!==r&&e.setTextStyle(r),e.getTextFormat()!==i&&e.setTextFormat(i)}}else{const r=oe();X(r)&&(r.style!==e.getTextStyle()||r.format!==e.getTextFormat())&&r.isCollapsed()&&e.is(r.anchor.getNode())&&e.setTextStyle(r.style).setTextFormat(r.format)}}),n.registerNodeTransform(Ms,e=>{const t=e.getParent();if(Fe(t)&&e.is(t.getFirstChild())){const r=e.getStyle(),i=e.getFormat();r===t.getTextStyle()&&i===t.getTextFormat()||t.setTextStyle(r).setTextFormat(i)}}))}function CL(n){const e=t=>{const r=t.getParent();if(Ae(t.getFirstChild())||!Ae(r))return;const i=Lr(t,a=>Fe(a)&&Ae(a.getParent())&&Fe(a.getPreviousSibling()));if(i===null&&t.getIndent()>0)t.setIndent(0);else if(Fe(i)){const a=i.getPreviousSibling();if(Fe(a)){const l=(function(d){let f=d,g=f.getFirstChild();for(;Ae(g);){const m=g.getLastChild();if(!Fe(m))break;f=m,g=f.getFirstChild()}return f})(a),c=l.getParent();if(Ae(c)){const d=_g(c);d+1<_g(r)&&t.setIndent(d)}}}};return n.registerNodeTransform(eu,t=>{const r=[t];for(;r.length>0;){const i=r.shift();if(Ae(i)){for(const a of i.getChildren())if(Fe(a)){e(a);const l=a.getFirstChild();Ae(l)&&r.push(l)}}}})}function TL({hasStrictIndent:n=!1}){const[e]=Ls();return O.useEffect(()=>{if(!e.hasNodes([eu,ga]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),O.useEffect(()=>{if(n)return CL(e)},[e,n]),(function(t){O.useEffect(()=>EL(t),[t])})(e),null}function NL(){const[n]=Ls();return O.useEffect(()=>wL(n),[n]),null}class pd extends sm{constructor(t,r=!1,i){super(i);H(this,"__text");H(this,"__checked");this.__text=t,this.__checked=r}static getType(){return"todo"}static clone(t){return new pd(t.__text,t.__checked,t.__key)}createDOM(t){const r=document.createElement("div");return r.className="flex items-start gap-2 py-1",r}updateDOM(){return!1}static importJSON(t){return new pd(t.text,t.checked)}exportJSON(){return{type:"todo",version:1,text:this.__text,checked:this.__checked}}setChecked(t){const r=this.getWritable();r.__checked=t}setText(t){const r=this.getWritable();r.__text=t}decorate(){return A.jsx(OL,{text:this.__text,checked:this.__checked,nodeKey:this.__key})}}function OL({text:n,checked:e}){return A.jsxs("div",{className:"flex items-start gap-2 py-1",children:[A.jsx("input",{type:"checkbox",checked:e,onChange:()=>{},className:"mt-1 h-4 w-4 rounded border-gray-300"}),A.jsx("span",{className:e?"line-through text-muted-foreground":"",children:n})]})}const PL={paragraph:"mb-2",heading:{h1:"text-2xl font-bold mb-4",h2:"text-xl font-semibold mb-3",h3:"text-lg font-medium mb-2"},list:{ul:"list-disc ml-4 mb-2",ol:"list-decimal ml-4 mb-2",listitem:"mb-1",listitemChecked:"line-through text-muted-foreground",listitemUnchecked:""},text:{bold:"font-bold",italic:"italic",underline:"underline",strikethrough:"line-through",code:"font-mono bg-muted px-1 rounded"}};function RL({onChange:n,editable:e=!0}){const t={namespace:"NotesEditor",theme:PL,nodes:[Id,eu,ga,pd],editable:e,onError:i=>{console.error("Lexical error:",i)}},r=i=>{i.read(()=>{const a=JSON.stringify(i.toJSON());n==null||n(a)})};return A.jsx(ZD,{initialConfig:t,children:A.jsxs("div",{className:"relative min-h-[200px]",children:[A.jsx(Qj,{contentEditable:A.jsx(eL,{className:"outline-none min-h-[200px] px-4 py-2"}),placeholder:A.jsx("div",{className:"absolute top-2 left-4 text-muted-foreground pointer-events-none",children:"Start typing..."}),ErrorBoundary:dL}),A.jsx(iL,{}),A.jsx(TL,{}),A.jsx(NL,{}),A.jsx(aL,{onChange:r})]})})}function AL(n,e){const t=O.useRef();return O.useCallback(((...r)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{n(...r)},e)}),[n,e])}function IL(){const{id:n}=_d(),e=Wr(),{data:t,isLoading:r,error:i}=cI(n),a=dI(),l=gA(),{hasTouchScreen:c,isPortrait:d}=Sd(),[f,g]=O.useState(""),m=c&&d;O.useEffect(()=>{t!=null&&t.title&&g(t.title)},[t==null?void 0:t.title]);const v=AL(S=>{n&&S!==(t==null?void 0:t.title)&&a.mutate({id:n,title:S})},500),_=S=>{const x=S.target.value;g(x),v(x)},w=async()=>{n&&confirm("Delete this note?")&&(await l.mutateAsync(n),e("/app"))};return r?A.jsx("div",{className:"flex items-center justify-center h-full",children:A.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):i||!t?A.jsx("div",{className:"p-4 text-center text-destructive",children:"Note not found"}):A.jsxs("div",{className:"h-full flex flex-col",children:[A.jsxs("header",{className:"h-14 flex items-center gap-2 px-4 border-b shrink-0",children:[m&&A.jsx(mn,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:A.jsx(wx,{className:"h-5 w-5"})}),A.jsx(Vl,{value:f,onChange:_,placeholder:"Untitled",className:"flex-1 border-0 text-lg font-medium focus-visible:ring-0"}),A.jsx(mn,{variant:"ghost",size:"icon",onClick:w,children:A.jsx(xx,{className:"h-5 w-5 text-destructive"})})]}),A.jsx("main",{className:"flex-1 overflow-auto",children:A.jsx(RL,{})})]})}const Dk=O.createContext(null),jk="notes-demo-data";function zc(){return`demo-${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function DL(){try{const n=localStorage.getItem(jk);if(n)return JSON.parse(n)}catch{}return[{id:zc(),title:"Welcome to Notes!",content:`This is a demo mode. Your notes are saved locally in your browser.

Try creating a new note with the + button!`,pinned:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:zc(),title:"Shopping List",content:`- [ ] Milk
- [ ] Bread
- [x] Eggs
- [ ] Coffee`,pinned:!1,created_at:new Date(Date.now()-36e5).toISOString(),updated_at:new Date(Date.now()-36e5).toISOString()},{id:zc(),title:"Meeting Notes",content:`Discussed Q1 roadmap

Action items:
- [ ] Review designs
- [ ] Schedule follow-up`,pinned:!1,created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString()}]}function pp(n){try{localStorage.setItem(jk,JSON.stringify(n))}catch{}}function jL({children:n}){const[e,t]=O.useState(DL),r=O.useCallback(c=>{const d={id:zc(),title:c||"Untitled",content:"",pinned:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t(f=>{const g=[d,...f];return pp(g),g}),d},[]),i=O.useCallback((c,d)=>{t(f=>{const g=f.map(m=>m.id===c?{...m,...d,updated_at:new Date().toISOString()}:m);return pp(g),g})},[]),a=O.useCallback(c=>{t(d=>{const f=d.filter(g=>g.id!==c);return pp(f),f})},[]),l=O.useCallback(c=>e.find(d=>d.id===c),[e]);return A.jsx(Dk.Provider,{value:{notes:e,createNote:r,updateNote:i,deleteNote:a,getNote:l},children:n})}function Rm(){const n=O.useContext(Dk);if(!n)throw new Error("useDemoContext must be used within DemoProvider");return n}function Lk(){const{notes:n}=Rm(),e=Wr(),{id:t}=_d();if(!n.length)return A.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notes yet. Create your first note!"});const r=[...n].sort((i,a)=>i.pinned&&!a.pinned?-1:!i.pinned&&a.pinned?1:new Date(a.updated_at).getTime()-new Date(i.updated_at).getTime());return A.jsx("div",{className:"divide-y divide-border",children:r.map(i=>A.jsxs("button",{onClick:()=>e(`/demo/note/${i.id}`),className:ur("w-full text-left p-4 border-b border-border","hover:bg-accent/50 transition-colors","min-h-[44px]",t===i.id&&"bg-accent"),children:[A.jsxs("div",{className:"flex items-center gap-2",children:[i.pinned&&A.jsx("span",{className:"text-xs",children:""}),A.jsx("h3",{className:"font-medium truncate flex-1",children:i.title||"Untitled"})]}),A.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:i.content.split(`
`)[0]||"Empty note"}),A.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:$x(new Date(i.updated_at),{addSuffix:!0})})]},i.id))})}function LL(){const{hasTouchScreen:n,isPortrait:e}=Sd(),{createNote:t}=Rm(),r=Wr(),i=()=>{const l=t();r(`/demo/note/${l.id}`)},a=n&&e;return A.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[A.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-2 text-sm flex items-center justify-between",children:[A.jsx("span",{children:"Demo Mode - Notes saved locally in your browser"}),A.jsx(mn,{asChild:!0,variant:"secondary",size:"sm",children:A.jsxs(Nl,{to:"/login",children:[A.jsx(JP,{className:"h-4 w-4 mr-2"}),"Sign In"]})})]}),a?A.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[A.jsxs("header",{className:"h-14 flex items-center justify-between px-4 border-b shrink-0",children:[A.jsx("h1",{className:"text-lg font-semibold",children:"Notes"}),A.jsx(mn,{size:"icon",onClick:i,children:A.jsx(Bp,{className:"h-5 w-5"})})]}),A.jsx("main",{className:"flex-1 overflow-auto",children:A.jsx(Jc,{})})]}):A.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[A.jsxs("aside",{className:"w-72 border-r flex flex-col shrink-0",children:[A.jsxs("header",{className:"h-14 flex items-center justify-between px-4 border-b",children:[A.jsx("h1",{className:"text-lg font-semibold",children:"Notes"}),A.jsx(mn,{size:"icon",variant:"ghost",onClick:i,children:A.jsx(Bp,{className:"h-5 w-5"})})]}),A.jsx("div",{className:"flex-1 overflow-auto",children:A.jsx(Lk,{})})]}),A.jsx("main",{className:"flex-1 overflow-auto",children:A.jsx(Jc,{})})]})]})}function ML(){const{id:n}=_d(),e=Wr(),{getNote:t,updateNote:r,deleteNote:i}=Rm(),{hasTouchScreen:a,isPortrait:l}=Sd(),[c,d]=O.useState(""),[f,g]=O.useState(""),m=n?t(n):void 0,v=a&&l;O.useEffect(()=>{m&&(d(m.title),g(m.content))},[m]);const _=k=>{const C=k.target.value;d(C),n&&r(n,{title:C})},w=k=>{const C=k.target.value;g(C),n&&r(n,{content:C})},S=()=>{n&&confirm("Delete this note?")&&(i(n),e("/demo"))},x=()=>{n&&m&&r(n,{pinned:!m.pinned})};return m?A.jsxs("div",{className:"h-full flex flex-col",children:[A.jsxs("header",{className:"h-14 flex items-center gap-2 px-4 border-b shrink-0",children:[v&&A.jsx(mn,{variant:"ghost",size:"icon",onClick:()=>e("/demo"),children:A.jsx(wx,{className:"h-5 w-5"})}),A.jsx(Vl,{value:c,onChange:_,placeholder:"Untitled",className:"flex-1 border-0 text-lg font-medium focus-visible:ring-0"}),A.jsx(mn,{variant:"ghost",size:"icon",onClick:x,className:ur(m.pinned&&"text-primary"),children:A.jsx(QP,{className:"h-5 w-5"})}),A.jsx(mn,{variant:"ghost",size:"icon",onClick:S,children:A.jsx(xx,{className:"h-5 w-5 text-destructive"})})]}),A.jsx("main",{className:"flex-1 overflow-auto p-4",children:A.jsx("textarea",{value:f,onChange:w,placeholder:"Start typing...",className:"w-full h-full min-h-[300px] resize-none bg-transparent outline-none text-base leading-relaxed"})})]}):A.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Note not found"})}function $L({children:n}){const{user:e,loading:t}=ZS();return t?A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):e?A.jsx(A.Fragment,{children:n}):A.jsx(px,{to:"/login",replace:!0})}function FL(){return A.jsx(RP,{children:A.jsxs(aP,{children:[A.jsx(En,{path:"/",element:A.jsx(uA,{})}),A.jsx(En,{path:"/login",element:A.jsx(dA,{})}),A.jsxs(En,{path:"/demo",element:A.jsx(jL,{children:A.jsx(LL,{})}),children:[A.jsx(En,{index:!0,element:A.jsx(Lk,{})}),A.jsx(En,{path:"note/:id",element:A.jsx(ML,{})})]}),A.jsxs(En,{path:"/app",element:A.jsx($L,{children:A.jsx(uI,{})}),children:[A.jsx(En,{index:!0,element:A.jsx(Fx,{})}),A.jsx(En,{path:"note/:id",element:A.jsx(IL,{})}),A.jsx(En,{path:"search",element:A.jsx("div",{className:"p-4",children:"Search (Phase 2)"})}),A.jsx(En,{path:"settings",element:A.jsx("div",{className:"p-4",children:"Settings (Phase 2)"})})]}),A.jsx(En,{path:"/note/:id",element:A.jsx(px,{to:"/app/note/:id",replace:!0})})]})})}const UL=new p1({defaultOptions:{queries:{staleTime:1e3*60,retry:1}}});VC.createRoot(document.getElementById("root")).render(A.jsx(_S.StrictMode,{children:A.jsx(g1,{client:UL,children:A.jsx(lO,{children:A.jsx(FL,{})})})}));
